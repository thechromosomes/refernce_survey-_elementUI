webpackJsonp([1],{"+CIV":function(t,e){},"+NlW":function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyBhcmlhLWhpZGRlbj0idHJ1ZSIgZm9jdXNhYmxlPSJmYWxzZSIgZGF0YS1wcmVmaXg9ImZhbCIgZGF0YS1pY29uPSJ0cmFzaC1hbHQiIGNsYXNzPSJzdmctaW5saW5lLS1mYSBmYS10cmFzaC1hbHQgZmEtdy0xNCIgcm9sZT0iaW1nIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NDggNTEyIj48cGF0aCBmaWxsPSIjZmZmZmZmIiBkPSJNMjk2IDQzMmgxNmE4IDggMCAwIDAgOC04VjE1MmE4IDggMCAwIDAtOC04aC0xNmE4IDggMCAwIDAtOCA4djI3MmE4IDggMCAwIDAgOCA4em0tMTYwIDBoMTZhOCA4IDAgMCAwIDgtOFYxNTJhOCA4IDAgMCAwLTgtOGgtMTZhOCA4IDAgMCAwLTggOHYyNzJhOCA4IDAgMCAwIDggOHpNNDQwIDY0SDMzNmwtMzMuNi00NC44QTQ4IDQ4IDAgMCAwIDI2NCAwaC04MGE0OCA0OCAwIDAgMC0zOC40IDE5LjJMMTEyIDY0SDhhOCA4IDAgMCAwLTggOHYxNmE4IDggMCAwIDAgOCA4aDI0djM2OGE0OCA0OCAwIDAgMCA0OCA0OGgyODhhNDggNDggMCAwIDAgNDgtNDhWOTZoMjRhOCA4IDAgMCAwIDgtOFY3MmE4IDggMCAwIDAtOC04ek0xNzEuMiAzOC40QTE2LjEgMTYuMSAwIDAgMSAxODQgMzJoODBhMTYuMSAxNi4xIDAgMCAxIDEyLjggNi40TDI5NiA2NEgxNTJ6TTM4NCA0NjRhMTYgMTYgMCAwIDEtMTYgMTZIODBhMTYgMTYgMCAwIDEtMTYtMTZWOTZoMzIwem0tMTY4LTMyaDE2YTggOCAwIDAgMCA4LThWMTUyYTggOCAwIDAgMC04LThoLTE2YTggOCAwIDAgMC04IDh2MjcyYTggOCAwIDAgMCA4IDh6Ij48L3BhdGg+PC9zdmc+"},"/yRs":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s,i=(s=a("8ebl")).default||s,n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"vue-street-view-pano-container"},[e("div",{ref:"vue-street-view-pano",staticClass:"vue-street-view-pano"}),this._v(" "),this._t("default")],2)},staticRenderFns:[]};var o=a("VU/8")(i,n,!1,function(t){a("CjMs")},null,null);e.default=o.exports},"0dwZ":function(t,e){},"0x4X":function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyBhcmlhLWhpZGRlbj0idHJ1ZSIgZm9jdXNhYmxlPSJmYWxzZSIgZGF0YS1wcmVmaXg9ImZhbCIgZGF0YS1pY29uPSJlZGl0IiBjbGFzcz0ic3ZnLWlubGluZS0tZmEgZmEtZWRpdCBmYS13LTE4IiByb2xlPSJpbWciIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDU3NiA1MTIiPjxwYXRoIGZpbGw9IiNmZmZmZmYiIGQ9Ik00MTcuOCAzMTUuNWwyMC0yMGMzLjgtMy44IDEwLjItMS4xIDEwLjIgNC4yVjQ2NGMwIDI2LjUtMjEuNSA0OC00OCA0OEg0OGMtMjYuNSAwLTQ4LTIxLjUtNDgtNDhWMTEyYzAtMjYuNSAyMS41LTQ4IDQ4LTQ4aDI5Mi4zYzUuMyAwIDggNi41IDQuMiAxMC4ybC0yMCAyMGMtMS4xIDEuMS0yLjcgMS44LTQuMiAxLjhINDhjLTguOCAwLTE2IDcuMi0xNiAxNnYzNTJjMCA4LjggNy4yIDE2IDE2IDE2aDM1MmM4LjggMCAxNi03LjIgMTYtMTZWMzE5LjdjMC0xLjYuNi0zLjEgMS44LTQuMnptMTQ1LjktMTkxLjJMMjUxLjIgNDM2LjhsLTk5LjkgMTEuMWMtMTMuNCAxLjUtMjQuNy05LjgtMjMuMi0yMy4ybDExLjEtOTkuOUw0NTEuNyAxMi4zYzE2LjQtMTYuNCA0My0xNi40IDU5LjQgMGw1Mi42IDUyLjZjMTYuNCAxNi40IDE2LjQgNDMgMCA1OS40em0tOTMuNiA0OC40TDQwMy40IDEwNiAxNjkuOCAzMzkuNWwtOC4zIDc1LjEgNzUuMS04LjMgMjMzLjUtMjMzLjZ6bTcxLTg1LjJsLTUyLjYtNTIuNmMtMy44LTMuOC0xMC4yLTQtMTQuMSAwTDQyNiA4My4zbDY2LjcgNjYuNyA0OC40LTQ4LjRjMy45LTMuOCAzLjktMTAuMiAwLTE0LjF6Ij48L3BhdGg+PC9zdmc+"},"1/JB":function(t,e){},"1apx":function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyBhcmlhLWhpZGRlbj0idHJ1ZSIgZm9jdXNhYmxlPSJmYWxzZSIgZGF0YS1wcmVmaXg9ImZhbCIgZGF0YS1pY29uPSJwb2xsLWgiIGNsYXNzPSJzdmctaW5saW5lLS1mYSBmYS1wb2xsLWggZmEtdy0xNCIgcm9sZT0iaW1nIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NDggNTEyIj48cGF0aCBmaWxsPSIjZmZmZmZmIiBkPSJNNDQ4IDQzMlY4MGMwLTI2LjUtMjEuNS00OC00OC00OEg0OEMyMS41IDMyIDAgNTMuNSAwIDgwdjM1MmMwIDI2LjUgMjEuNSA0OCA0OCA0OGgzNTJjMjYuNSAwIDQ4LTIxLjUgNDgtNDh6TTQ4IDQ0OGMtOC44MiAwLTE2LTcuMTgtMTYtMTZWODBjMC04LjgyIDcuMTgtMTYgMTYtMTZoMzUyYzguODIgMCAxNiA3LjE4IDE2IDE2djM1MmMwIDguODItNy4xOCAxNi0xNiAxNkg0OHptMjA4LTI4MHYtMTZjMC00LjQyLTMuNTgtOC04LThIMTA0Yy00LjQyIDAtOCAzLjU4LTggOHYxNmMwIDQuNDIgMy41OCA4IDggOGgxNDRjNC40MiAwIDgtMy41OCA4LTh6bTk2IDk2di0xNmMwLTQuNDItMy41OC04LTgtOEgxMDRjLTQuNDIgMC04IDMuNTgtOCA4djE2YzAgNC40MiAzLjU4IDggOCA4aDI0MGM0LjQyIDAgOC0zLjU4IDgtOHptLTE2MCA5NnYtMTZjMC00LjQyLTMuNTgtOC04LThoLTgwYy00LjQyIDAtOCAzLjU4LTggOHYxNmMwIDQuNDIgMy41OCA4IDggOGg4MGM0LjQyIDAgOC0zLjU4IDgtOHoiPjwvcGF0aD48L3N2Zz4="},"1gnm":function(t,e){},"1qkd":function(t,e){},"1uPq":function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyBhcmlhLWhpZGRlbj0idHJ1ZSIgZm9jdXNhYmxlPSJmYWxzZSIgZGF0YS1wcmVmaXg9ImZhciIgZGF0YS1pY29uPSJjaGVjay1kb3VibGUiIGNsYXNzPSJzdmctaW5saW5lLS1mYSBmYS1jaGVjay1kb3VibGUgZmEtdy0xNCIgcm9sZT0iaW1nIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NDggNTEyIj48cGF0aCBmaWxsPSIjZmZmZmZmIiBkPSJNNDQ0LjA5IDE2Ni45OWwtMjcuMzktMjguMzdjLTIuNi0xLjk2LTUuNTMtMi45My04LjgtMi45My0zLjI3IDAtNS44Ny45OC03LjgyIDIuOTNMMTQyLjgxIDM5Ni44NmwtOTQuODgtOTQuODhjLTEuOTYtMi42MS00LjU1LTMuOTEtNy44Mi0zLjkxLTMuMjcgMC02LjIxIDEuMy04LjggMy45MWwtMjcuNCAyNy4zOGMtMi42IDIuNjEtMy45MSA1LjU1LTMuOTEgOC44czEuMzEgNS44NyAzLjkxIDcuODJsMTMwLjEgMTMxLjA3YzIuNiAxLjk2IDUuNTMgMi45NCA4LjggMi45NCAzLjI3IDAgNS44Ny0uOTggNy44Mi0yLjk0TDQ0NC4wOCAxODMuNmMyLjYtMi42MSAzLjkxLTUuNTUgMy45MS04LjguMDEtMy4yNC0xLjMtNS44Ni0zLjktNy44MXpNMTMxLjg4IDI4NS4wNGMyLjYyIDEuOTcgNS41OCAyLjk2IDguODggMi45NnM1LjkyLS45OSA3Ljg5LTIuOTZMMzUzLjM0IDgwLjM1YzIuNjItMi42NCAzLjk1LTUuNiAzLjk1LTguODggMC0zLjI4LTEuMzMtNS45Mi0zLjk1LTcuODlsLTI3LjYzLTI4LjYyYy0yLjYyLTEuOTctNS41OC0yLjk2LTguODgtMi45NnMtNS45Mi45OS03Ljg5IDIuOTZMMTQwLjc2IDIwNC4xMmwtNjAuNDEtNjAuNDFjLTEuOTctMi42NC00LjU5LTMuOTUtNy44OS0zLjk1cy02LjI2IDEuMzEtOC44OCAzLjk1bC0yNy42MyAyNy42M2MtMi42MiAyLjY0LTMuOTUgNS42LTMuOTUgOC44OCAwIDMuMjkgMS4zMyA1LjkyIDMuOTUgNy44OWw5NS45MyA5Ni45M3oiPjwvcGF0aD48L3N2Zz4="},2516:function(t,e){},"316n":function(t,e){},"34S8":function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyBhcmlhLWhpZGRlbj0idHJ1ZSIgZm9jdXNhYmxlPSJmYWxzZSIgZGF0YS1wcmVmaXg9ImZhbCIgZGF0YS1pY29uPSJsYXllci1wbHVzIiBjbGFzcz0ic3ZnLWlubGluZS0tZmEgZmEtbGF5ZXItcGx1cyBmYS13LTE2IiByb2xlPSJpbWciIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDUxMiA1MTIiPjxwYXRoIGZpbGw9IiM1OWI2ZTYiIGQ9Ik01MDQgOTZoLTg4VjhjMC00LjQyLTMuNTgtOC04LThoLTE2Yy00LjQyIDAtOCAzLjU4LTggOHY4OGgtODhjLTQuNDIgMC04IDMuNTgtOCA4djE2YzAgNC40MiAzLjU4IDggOCA4aDg4djg4YzAgNC40MiAzLjU4IDggOCA4aDE2YzQuNDIgMCA4LTMuNTggOC04di04OGg4OGM0LjQyIDAgOC0zLjU4IDgtOHYtMTZjMC00LjQyLTMuNTgtOC04LTh6bS02Ljc3IDI3MC43MWwtOTkuNzItNDIuODcgOTkuNzItNDIuODdjOC4zNS0zLjYgMTIuMTktMTMuMjMgOC41OC0yMS41Mi0zLjY1LTguMjktMTMuMzItMTIuMTMtMjEuNzQtOC40OGwtMjI1LjMyIDk2Ljg2Yy0xLjgxLjc3LTMuNzQuNzctNS40OCAwTDQ1LjIzIDI1OC40bDE5My40NS04My4xNmM4LjM1LTMuNTkgMTIuMTktMTMuMjMgOC41OC0yMS41Mi0zLjY1LTguMjgtMTMuMjYtMTIuMTMtMjEuNzQtOC40OEwxNC44MSAyMzUuODFDNS44MSAyMzkuNjYgMCAyNDguNTIgMCAyNTguNGMwIDkuODcgNS44MSAxOC43NCAxNC43NyAyMi41OGw5OS43MyA0Mi44Ny05OS43IDQyLjg1QzUuODEgMzcwLjU1IDAgMzc5LjQyIDAgMzg5LjMxYzAgOS44NyA1LjgxIDE4Ljc0IDE0Ljc3IDIyLjU4bDIyNS4zMiA5Ni44NGM1LjA2IDIuMTcgMTAuNDggMy4yOCAxNS45IDMuMjhzMTAuODQtMS4wOSAxNS45LTMuMjhsMjI1LjI5LTk2LjgzYzktMy44NSAxNC44MS0xMi43MiAxNC44MS0yMi41OS4wMS05Ljg5LTUuOC0xOC43Ni0xNC43Ni0yMi42ek0yNTguNzQgNDc4LjcyYy0xLjgxLjc3LTMuNzQuNzctNS40OCAwTDQ1LjIzIDM4OS4yOSAxNTYgMzQxLjY4bDg0LjEgMzYuMTVjNS4wNiAyLjE3IDEwLjQ4IDMuMjggMTUuOSAzLjI4czEwLjg0LTEuMDkgMTUuOS0zLjI4bDg0LjEyLTM2LjE2IDExMC43OCA0Ny42Mi0yMDguMDYgODkuNDN6Ij48L3BhdGg+PC9zdmc+"},"3BcA":function(t,e){},"4M9y":function(t,e){},"4czT":function(t,e){},"5Nqw":function(t,e){},"5ZbH":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s,i=(s=a("hOwk")).default||s,n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"vue-map-container"},[e("div",{ref:"vue-map",staticClass:"vue-map"}),this._v(" "),e("div",{staticClass:"vue-map-hidden"},[this._t("default")],2),this._v(" "),this._t("visible")],2)},staticRenderFns:[]};var o=a("VU/8")(i,n,!1,function(t){a("dtWn")},null,null);e.default=o.exports},"5cLx":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s,i=(s=a("WgA/")).default||s,n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{ref:"flyaway"},[this._t("default")],2)])},staticRenderFns:[]},o=a("VU/8")(i,n,!1,null,null,null);e.default=o.exports},"5v/D":function(t,e){},"6/Qa":function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyBhcmlhLWhpZGRlbj0idHJ1ZSIgZm9jdXNhYmxlPSJmYWxzZSIgZGF0YS1wcmVmaXg9ImZhbCIgZGF0YS1pY29uPSJzbGlkZXJzLWgtc3F1YXJlIiBjbGFzcz0ic3ZnLWlubGluZS0tZmEgZmEtc2xpZGVycy1oLXNxdWFyZSBmYS13LTE0IiByb2xlPSJpbWciIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDQ0OCA1MTIiPjxwYXRoIGZpbGw9IiNmZmZmZmYiIGQ9Ik00MDAgMzJINDhDMjEuNSAzMiAwIDUzLjUgMCA4MHYzNTJjMCAyNi41IDIxLjUgNDggNDggNDhoMzUyYzI2LjUgMCA0OC0yMS41IDQ4LTQ4VjgwYzAtMjYuNS0yMS41LTQ4LTQ4LTQ4em0xNiA0MDBjMCA4LjgtNy4yIDE2LTE2IDE2SDQ4Yy04LjggMC0xNi03LjItMTYtMTZWODBjMC04LjggNy4yLTE2IDE2LTE2aDM1MmM4LjggMCAxNiA3LjIgMTYgMTZ2MzUyem0tOTItMjcySDIyNHYtNDBjMC0xMy4yLTEwLjgtMjQtMjQtMjRoLTQ4Yy0xMy4yIDAtMjQgMTAuOC0yNCAyNHY0MEg5MmMtNi42IDAtMTIgNS40LTEyIDEydjhjMCA2LjYgNS40IDEyIDEyIDEyaDM2djQwYzAgMTMuMiAxMC44IDI0IDI0IDI0aDQ4YzEzLjIgMCAyNC0xMC44IDI0LTI0di00MGgxMDBjNi42IDAgMTItNS40IDEyLTEydi04YzAtNi42LTUuNC0xMi0xMi0xMnptLTEzMiA2NGgtMzJ2LTk2aDMydjk2em0xNDggOTZoLTIwdi00MGMwLTEzLjItMTAuOC0yNC0yNC0yNGgtNDhjLTEzLjIgMC0yNCAxMC44LTI0IDI0djQwSDEwOGMtNi42IDAtMTIgNS40LTEyIDEydjhjMCA2LjYgNS40IDEyIDEyIDEyaDExNnY0MGMwIDEzLjIgMTAuOCAyNCAyNCAyNGg0OGMxMy4yIDAgMjQtMTAuOCAyNC0yNHYtNDBoMjBjNi42IDAgMTItNS40IDEyLTEydi04YzAtNi42LTUuNC0xMi0xMi0xMnptLTUyIDY0aC0zMnYtOTZoMzJ2OTZ6Ij48L3BhdGg+PC9zdmc+"},"65UA":function(t,e,a){t.exports=a.p+"static/img/profile.782adc2.png"},"6gJB":function(t,e){},"6pu/":function(t,e){},"7kBt":function(t,e){},"7kOB":function(t,e){},"7zck":function(t,e){},"8nTS":function(t,e){},"9rC6":function(t,e){},AMKi:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48cGF0aCBmaWxsPSIjZmZmZmZmIiBkPSJNMTQwIDI4NGMtNi42IDAtMTItNS40LTEyLTEydi0zMmMwLTYuNiA1LjQtMTIgMTItMTJoMjMyYzYuNiAwIDEyIDUuNCAxMiAxMnYzMmMwIDYuNi01LjQgMTItMTIgMTJIMTQwem0zNjQtMjhjMCAxMzctMTExIDI0OC0yNDggMjQ4UzggMzkzIDggMjU2IDExOSA4IDI1NiA4czI0OCAxMTEgMjQ4IDI0OHptLTQ4IDBjMC0xMTAuNS04OS41LTIwMC0yMDAtMjAwUzU2IDE0NS41IDU2IDI1NnM4OS41IDIwMCAyMDAgMjAwIDIwMC04OS41IDIwMC0yMDB6Ii8+PC9zdmc+CjwhLS0KRm9udCBBd2Vzb21lIFBybyA1LjQuMSBieSBAZm9udGF3ZXNvbWUgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbQpMaWNlbnNlIC0gaHR0cHM6Ly9mb250YXdlc29tZS5jb20vbGljZW5zZSAoQ29tbWVyY2lhbCBMaWNlbnNlKQotLT4="},AP13:function(t,e){},APNH:function(t,e){},"Af+6":function(t,e){},AlXu:function(t,e){},B3X7:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyBhcmlhLWhpZGRlbj0idHJ1ZSIgZm9jdXNhYmxlPSJmYWxzZSIgZGF0YS1wcmVmaXg9ImZhbCIgZGF0YS1pY29uPSJhdCIgY2xhc3M9InN2Zy1pbmxpbmUtLWZhIGZhLWF0IGZhLXctMTYiIHJvbGU9ImltZyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgNTEyIDUxMiI+PHBhdGggZmlsbD0iI2ZmZmZmZiIgZD0iTTI1NiA4QzExOC45NDEgOCA4IDExOC45MTkgOCAyNTZjMCAxMzcuMDU4IDExMC45MTkgMjQ4IDI0OCAyNDggNTIuOTI1IDAgMTA0LjY4LTE3LjA3OCAxNDcuMDkyLTQ4LjMxOSA1LjUwMS00LjA1MiA2LjQyMy0xMS45MjQgMi4wOTUtMTcuMjExbC01LjA3NC02LjE5OGMtNC4wMTgtNC45MDktMTEuMTkzLTUuODgzLTE2LjMwNy0yLjEyOUMzNDYuOTMgNDU3LjIwOCAzMDEuOTc0IDQ3MiAyNTYgNDcyYy0xMTkuMzczIDAtMjE2LTk2LjYwNy0yMTYtMjE2IDAtMTE5LjM3NSA5Ni42MDctMjE2IDIxNi0yMTYgMTE4LjQ0NSAwIDIxNiA4MC4wMjQgMjE2IDIwMCAwIDcyLjg3My01Mi44MTkgMTA4LjI0MS0xMTYuMDY1IDEwOC4yNDEtMTkuNzM0IDAtMjMuNjk1LTEwLjgxNi0xOS41MDMtMzMuODY4bDMyLjA3LTE2NC4wNzFjMS40NDktNy40MTEtNC4yMjYtMTQuMzAyLTExLjc3Ny0xNC4zMDJoLTEyLjQyMWExMiAxMiAwIDAgMC0xMS43ODEgOS43MThjLTIuMjk0IDExLjg0Ni0yLjg2IDEzLjQ2NC0zLjg2MSAyNS42NDctMTEuNzI5LTI3LjA3OC0zOC42MzktNDMuMDIzLTczLjM3NS00My4wMjMtNjguMDQ0IDAtMTMzLjE3NiA2Mi45NS0xMzMuMTc2IDE1Ny4wMjcgMCA2MS41ODcgMzMuOTE1IDk4LjM1NCA5MC43MjMgOTguMzU0IDM5LjcyOSAwIDcwLjYwMS0yNC4yNzggODYuNjMzLTQ2Ljk4Mi0xLjIxMSAyNy43ODYgMTcuNDU1IDQyLjIxMyA0NS45NzUgNDIuMjEzQzQ1My4wODkgMzc4Ljk1NCA1MDQgMzIxLjcyOSA1MDQgMjQwIDUwNCAxMDMuODE0IDM5My44NjMgOCAyNTYgOHptLTM3LjkyIDM0Mi42MjdjLTM2LjY4MSAwLTU4LjU4LTI1LjEwOC01OC41OC02Ny4xNjYgMC03NC42OSA1MC43NjUtMTIxLjU0NSA5Ny4yMTctMTIxLjU0NSAzOC44NTcgMCA1OC4xMDIgMjcuNzkgNTguMTAyIDY1LjczNSAwIDU4LjEzMy0zOC4zNjkgMTIyLjk3Ni05Ni43MzkgMTIyLjk3NnoiPjwvcGF0aD48L3N2Zz4="},BJri:function(t,e){},"C+Tt":function(t,e){},"C7w/":function(t,e){},CBbl:function(t,e){},CF2y:function(t,e){},CZlt:function(t,e){},CjMs:function(t,e){},CuRo:function(t,e){},E3N6:function(t,e){},E3Ob:function(t,e){},El6f:function(t,e){},FW8I:function(t,e){},FYnd:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyBhcmlhLWhpZGRlbj0idHJ1ZSIgZm9jdXNhYmxlPSJmYWxzZSIgZGF0YS1wcmVmaXg9ImZhbCIgZGF0YS1pY29uPSJwYXBlci1wbGFuZSIgY2xhc3M9InN2Zy1pbmxpbmUtLWZhIGZhLXBhcGVyLXBsYW5lIGZhLXctMTYiIHJvbGU9ImltZyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgNTEyIDUxMiI+PHBhdGggZmlsbD0id2hpdGUiIGQ9Ik00NjQgNC4zTDE2IDI2Mi43Qy03IDI3Ni00LjcgMzA5LjkgMTkuOCAzMjBMMTYwIDM3OHYxMDJjMCAzMC4yIDM3LjggNDMuMyA1Ni43IDIwLjNsNjAuNy03My44IDEyNi40IDUyLjJjMTkuMSA3LjkgNDAuNy00LjIgNDMuOC0yNC43bDY0LTQxNy4xQzUxNS43IDEwLjIgNDg3LTkgNDY0IDQuM3pNMTkyIDQ4MHYtODguOGw1NC41IDIyLjVMMTkyIDQ4MHptMjI0LTMwLjlsLTIwNi4yLTg1LjIgMTk5LjUtMjM1LjhjNC44LTUuNi0yLjktMTMuMi04LjUtOC40TDE0NS41IDMzNy4zIDMyIDI5MC41IDQ4MCAzMmwtNjQgNDE3LjF6Ij48L3BhdGg+PC9zdmc+"},GBW7:function(t,e){},GZ1u:function(t,e){},"HJ+G":function(t,e){},ICBX:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyBhcmlhLWhpZGRlbj0idHJ1ZSIgZm9jdXNhYmxlPSJmYWxzZSIgZGF0YS1wcmVmaXg9ImZhbCIgZGF0YS1pY29uPSJmaWxlLWNoYXJ0LWxpbmUiIGNsYXNzPSJzdmctaW5saW5lLS1mYSBmYS1maWxlLWNoYXJ0LWxpbmUgZmEtdy0xMiIgcm9sZT0iaW1nIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzODQgNTEyIj48cGF0aCBmaWxsPSIjNTk1OTU5IiBkPSJNMTM2IDMyMGgtMTZjLTQuNCAwLTggMy42LTggOHY5NmMwIDQuNCAzLjYgOCA4IDhoMTZjNC40IDAgOC0zLjYgOC04di05NmMwLTQuNC0zLjYtOC04LTh6bTY0LTk2aC0xNmMtNC40IDAtOCAzLjYtOCA4djE5MmMwIDQuNCAzLjYgOCA4IDhoMTZjNC40IDAgOC0zLjYgOC04VjIzMmMwLTQuNC0zLjYtOC04LTh6bTQwIDcydjEyOGMwIDQuNCAzLjYgOCA4IDhoMTZjNC40IDAgOC0zLjYgOC04VjI5NmMwLTQuNC0zLjYtOC04LThoLTE2Yy00LjQgMC04IDMuNi04IDh6TTM2OS45IDk3Ljk4TDI4Ni4wMiAxNC4xYy05LTktMjEuMi0xNC4xLTMzLjg5LTE0LjFINDcuOTlDMjEuNS4xIDAgMjEuNiAwIDQ4LjA5djQxNS45MkMwIDQ5MC41IDIxLjUgNTEyIDQ3Ljk5IDUxMmgyODguMDJjMjYuNDkgMCA0Ny45OS0yMS41IDQ3Ljk5LTQ3Ljk5VjEzMS45N2MwLTEyLjY5LTUuMS0yNC45OS0xNC4xLTMzLjk5ek0yNTYuMDMgMzIuNTljMi44LjcgNS4zIDIuMSA3LjQgNC4ybDgzLjg4IDgzLjg4YzIuMSAyLjEgMy41IDQuNiA0LjIgNy40aC05NS40OFYzMi41OXptOTUuOTggNDMxLjQyYzAgOC44LTcuMiAxNi0xNiAxNkg0Ny45OWMtOC44IDAtMTYtNy4yLTE2LTE2VjQ4LjA5YzAtOC44IDcuMi0xNi4wOSAxNi0xNi4wOWgxNzYuMDR2MTA0LjA3YzAgMTMuMyAxMC43IDIzLjkzIDI0IDIzLjkzaDEwMy45OHYzMDQuMDF6Ij48L3BhdGg+PC9zdmc+"},Ia7I:function(t,e){},IyQz:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyBhcmlhLWhpZGRlbj0idHJ1ZSIgZm9jdXNhYmxlPSJmYWxzZSIgZGF0YS1wcmVmaXg9ImZhbCIgZGF0YS1pY29uPSJlZGl0IiBjbGFzcz0ic3ZnLWlubGluZS0tZmEgZmEtZWRpdCBmYS13LTE4IiByb2xlPSJpbWciIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDU3NiA1MTIiPjxwYXRoIGZpbGw9IiM1OTU5NTkiIGQ9Ik00MTcuOCAzMTUuNWwyMC0yMGMzLjgtMy44IDEwLjItMS4xIDEwLjIgNC4yVjQ2NGMwIDI2LjUtMjEuNSA0OC00OCA0OEg0OGMtMjYuNSAwLTQ4LTIxLjUtNDgtNDhWMTEyYzAtMjYuNSAyMS41LTQ4IDQ4LTQ4aDI5Mi4zYzUuMyAwIDggNi41IDQuMiAxMC4ybC0yMCAyMGMtMS4xIDEuMS0yLjcgMS44LTQuMiAxLjhINDhjLTguOCAwLTE2IDcuMi0xNiAxNnYzNTJjMCA4LjggNy4yIDE2IDE2IDE2aDM1MmM4LjggMCAxNi03LjIgMTYtMTZWMzE5LjdjMC0xLjYuNi0zLjEgMS44LTQuMnptMTQ1LjktMTkxLjJMMjUxLjIgNDM2LjhsLTk5LjkgMTEuMWMtMTMuNCAxLjUtMjQuNy05LjgtMjMuMi0yMy4ybDExLjEtOTkuOUw0NTEuNyAxMi4zYzE2LjQtMTYuNCA0My0xNi40IDU5LjQgMGw1Mi42IDUyLjZjMTYuNCAxNi40IDE2LjQgNDMgMCA1OS40em0tOTMuNiA0OC40TDQwMy40IDEwNiAxNjkuOCAzMzkuNWwtOC4zIDc1LjEgNzUuMS04LjMgMjMzLjUtMjMzLjZ6bTcxLTg1LjJsLTUyLjYtNTIuNmMtMy44LTMuOC0xMC4yLTQtMTQuMSAwTDQyNiA4My4zbDY2LjcgNjYuNyA0OC40LTQ4LjRjMy45LTMuOCAzLjktMTAuMiAwLTE0LjF6Ij48L3BhdGg+PC9zdmc+"},J9lC:function(t,e){t.exports={updateHaveImage:function(t,e){axios.post("/updatehaveimage",{questionid:t,haveimage:e}).then(function(t){return console.log(t),t}).catch(function(t){return"00"})}}},JFX1:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyBhcmlhLWhpZGRlbj0idHJ1ZSIgZm9jdXNhYmxlPSJmYWxzZSIgZGF0YS1wcmVmaXg9ImZhciIgZGF0YS1pY29uPSJhcnJvdy1jaXJjbGUtcmlnaHQiIGNsYXNzPSJzdmctaW5saW5lLS1mYSBmYS1hcnJvdy1jaXJjbGUtcmlnaHQgZmEtdy0xNiIgcm9sZT0iaW1nIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48cGF0aCBmaWxsPSJ3aGl0ZSIgZD0iTTggMjU2YzAgMTM3IDExMSAyNDggMjQ4IDI0OHMyNDgtMTExIDI0OC0yNDhTMzkzIDggMjU2IDggOCAxMTkgOCAyNTZ6bTQ0OCAwYzAgMTEwLjUtODkuNSAyMDAtMjAwIDIwMFM1NiAzNjYuNSA1NiAyNTYgMTQ1LjUgNTYgMjU2IDU2czIwMCA4OS41IDIwMCAyMDB6TTI2Ni45IDEyNi4xbDEyMS40IDEyMS40YzQuNyA0LjcgNC43IDEyLjMgMCAxN0wyNjYuOSAzODUuOWMtNC43IDQuNy0xMi4zIDQuNy0xNyAwbC0xOS42LTE5LjZjLTQuOC00LjgtNC43LTEyLjUuMi0xNy4ybDcwLjMtNjcuMUgxNDBjLTYuNiAwLTEyLTUuNC0xMi0xMnYtMjhjMC02LjYgNS40LTEyIDEyLTEyaDE2MC44bC03MC4zLTY3LjFjLTQuOS00LjctNS0xMi40LS4yLTE3LjJsMTkuNi0xOS42YzQuNy00LjcgMTIuMy00LjcgMTcgMHoiPjwvcGF0aD48L3N2Zz4="},LE9e:function(t,e){},"LGY/":function(t,e){},MfQB:function(t,e){},NCci:function(t,e){t.exports={is_siteadmin:function(){return!0},is_roleassigned:function(t,e){return t.find(function(t){return t.roleid===e})},downloadfiles:function(t,e){var a=new Blob([t.data],{type:t.headers["content-type"]}),s=document.createElement("a");s.href=window.URL.createObjectURL(a),s.download="Downloadfile"+Date.now()+"."+e,s.click()},secondtoStringtime:function(t){if(!t)return"";var e=this.removedecimal(t/86400,0);t%=86400;var a=this.removedecimal(t/3600,0);t%=3600;var s=this.removedecimal(t/60,0);t=this.removedecimal(t%60,0);var i="";return 0!=e&&(i+=e+" day "),0!=a&&(i+=a+" hour "),0!=s&&(i+=s+" min "),0!=t&&(i+=t+" second "),i},removedecimal:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var e=t.toString().lastIndexOf(".");return e>-1?t.toString().substr(0,e):t}}},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),i=a("NYxO"),n=a("mtWM"),o=a.n(n),r=localStorage.username,c=a("NCci"),d={data:function(){return{currentuser:null,errors:[],is_admin:!1,is_contactlistaccess:!1}},created:function(){var t=this;this.currentuser=localStorage.username,o.a.post("/getcurrentuser",{username:r}).then(function(e){null===e.data||(t.currentuser=e.data,c.is_roleassigned(e.data.roles,"1")?(t.is_admin=!0,t.is_contactlistaccess=!0):(t.is_contactlistaccess=!1,t.is_admin=!1),(c.is_roleassigned(e.data.roles,"2")||c.is_roleassigned(e.data.roles,"3"))&&(t.is_contactlistaccess=!0))}).catch(function(e){t.errors.push(e)})},watch:{currentuser:function(t,e){return e},role:function(t,e){return e}}},l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"navigationclass header"},[s("nav",{staticClass:"navbar"},[s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"navbar-header"},[t._m(0),t._v(" "),null!=t.currentuser?s("div",{staticClass:"topnav-right topnav_right"},[!0===t.is_admin||!0===t.is_contactlistaccess?s("span",{staticClass:"dropdown headmenu"},[s("a",{staticClass:"dropdown-item",attrs:{href:"/contactlist"}},[t._v("Contacts")])]):t._e(),t._v(" "),!0===t.is_admin||!0===t.is_contactlistaccess?s("span",{staticClass:"dropdown"},[s("a",{staticClass:"john_name",attrs:{href:"#"}},[t._v("Administration")]),t._v(" "),s("ul",{staticClass:"dropdown-content"},[!0===t.is_admin?s("li",[s("a",{staticClass:"dropdown-item",attrs:{href:"/createuser"}},[t._v("Create User")])]):t._e(),t._v(" "),!0===t.is_admin?s("li",[s("a",{staticClass:"dropdown-item",attrs:{href:"/userlist"}},[t._v("User list")])]):t._e(),t._v(" "),!0===t.is_admin?s("li",[s("a",{staticClass:"dropdown-item",attrs:{href:"/projectlist"}},[t._v("Project list")])]):t._e(),t._v(" "),!0===t.is_admin?s("li",[s("a",{staticClass:"dropdown-item",attrs:{href:"/addgroup"}},[t._v("Manage Group")])]):t._e(),t._v(" "),!0===t.is_admin||!0===t.is_contactlistaccess?s("li",[s("a",{staticClass:"dropdown-item",attrs:{href:"/gallery"}},[t._v("Gallery")])]):t._e(),t._v(" "),!0===t.is_admin||!0===t.is_contactlistaccess?s("li",[s("a",{staticClass:"dropdown-item",attrs:{href:"/mailformat"}},[t._v("Notification Template")])]):t._e(),t._v(" "),!0===t.is_admin?s("li",[s("a",{staticClass:"dropdown-item",attrs:{href:"/sentmailreport"}},[t._v("Mailing Report")])]):t._e(),t._v(" "),!0===t.is_admin?s("li",[s("a",{staticClass:"dropdown-item",attrs:{href:"/userlog"}},[t._v("Userlog Report")])]):t._e(),t._v(" "),!0===t.is_admin?s("li",[s("a",{staticClass:"dropdown-item",attrs:{href:"/setting"}},[t._v("Settings")])]):t._e(),t._v(" "),!0===t.is_admin?s("li",[s("a",{staticClass:"dropdown-item",attrs:{href:"/dateQuestionSubmit"}},[t._v("Question config")])]):t._e()])]):t._e(),t._v(" "),s("span",{staticClass:"dropdown"},[s("a",{staticClass:"john_name",attrs:{href:"#"}},[t._v(t._s(t.currentuser.firstname+" "+t.currentuser.lastname))]),t._v(" "),s("img",{staticClass:"circle_image",attrs:{src:a("65UA")}}),t._v(" "),t._m(1)])]):t._e()])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"navbar-brand",attrs:{href:"/"}},[e("img",{staticClass:"logo_header img img-responsive",attrs:{src:"/static/images/gpex-logo.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",{staticClass:"dropdown-content dropdown-content_logout"},[e("li",[e("a",{staticClass:"dropdown-item",attrs:{href:"/logout"}},[this._v("Logout")])])])}]};var u={components:{gpexheader:a("VU/8")(d,l,!1,function(t){a("tmk9")},"data-v-6ee7a834",null).exports}},p={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-app",[e("gpexheader"),this._v(" "),e("div",[e("v-content",[e("router-view")],1)],1)],1)},staticRenderFns:[]},v=a("VU/8")(u,p,!1,null,null,null).exports,h=a("/ocq"),m={data:function(){return{fname:null,lname:null,email:null,username:null,password:null,role:null,roles:[],errors:[]}},methods:{registerUser:function(){var t=this;axios.post("/Signup",{fname:this.fname,lname:this.lname,username:this.username,email:this.email,role:this.role,password:this.password}).then(function(e){Bus.$emit("loggedIn",e),t.$router.push("/")}).catch(function(t){console.log(t)})}},created:function(){var t=this;axios.get("/getroles").then(function(e){t.roles=e.data}).catch(function(e){t.errors.push(e)})}},f={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-layout",{staticClass:"login-layout"},[s("v-flex",{staticClass:"login-leftscreen",attrs:{xs12:"",sm6:"",md6:""}},[s("img",{staticClass:"left_login_img img img-responsive",attrs:{src:"assets/images/riverland-cruises-houseboats.jpg",alt:""}})]),t._v(" "),s("v-flex",{staticClass:"login-form",attrs:{xs12:"",sm6:"",md6:""}},[s("div",{staticClass:"login_face"},[s("v-card-text",{staticClass:"login_inner"},[s("div",{staticClass:"login_brand"},[s("p",{staticClass:"text-xs-center"},[s("img",{attrs:{width:"250",src:a("VIer"),alt:""}})])]),t._v(" "),s("v-form",[s("p",{staticClass:"text-xs-center"},[t._v(" Welcome to GPEx ONE, "),s("br"),t._v("Now access all GPEx applications using one email and password ")]),t._v(" "),s("v-text-field",{attrs:{"prepend-icon":"person",label:"First Name",type:"text"},model:{value:t.fname,callback:function(e){t.fname=e},expression:"fname"}}),t._v(" "),s("v-text-field",{attrs:{"prepend-icon":"person",label:"Last Name",type:"text"},model:{value:t.lname,callback:function(e){t.lname=e},expression:"lname"}}),t._v(" "),s("v-text-field",{attrs:{"prepend-icon":"person",label:"Username",type:"text"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),t._v(" "),s("v-text-field",{attrs:{"prepend-icon":"person",label:"Email",type:"email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t._v(" "),s("v-select",{attrs:{items:t.roles,name:"role","prepend-icon":"person",label:"Select Role","item-value":"_id","item-text":"roletitle"},model:{value:t.role,callback:function(e){t.role=e},expression:"role"}}),t._v(" "),s("v-text-field",{attrs:{id:"password","prepend-icon":"lock",label:"Password",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),t._v(" "),s("v-card-actions",{staticClass:"btns-login"},[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{dark:"",color:"#8B784A",href:"login"}},[t._v("Sign In")])],1)],1)])],1)},staticRenderFns:[]};var g=a("VU/8")(m,f,!1,function(t){a("C+Tt")},"data-v-3cd0d95f",null).exports,y=a("bOdI"),x=a.n(y),b={data:function(){return x()({picker:null,qusdark:null,radios:null,selected:!1,checkbox1:null,checkbox2:null,items:null,slider:null,rating:null,time:new Date,landscape:!1,reactive:!1},"items",["Delhi","Mumbai","Kolkata","Goa"])},methods:{submitForm:function(){axios.post("/Signup",{name:this.name,email:this.email,password:this.password}).then(function(t){Bus.$emit("loggedIn",t)}).catch(function(t){console.log(t)})}}},q={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"marginzerme col-md-5"},[a("h3",{staticClass:"surveyheading"},[t._v("Survey Form")]),t._v(" "),a("div",{staticClass:"surveyformouter"},[a("form",{staticClass:"surveyform",attrs:{action:"",method:"post"}},[a("div",{staticClass:"outersurvey outersurvey1"},[a("div",{attrs:{lass:"innersurvey"}},[a("label",{staticClass:"qusdark"},[t._v("1. What do you want learn?")]),a("br"),t._v(" "),a("v-text-field",{attrs:{label:"Enter your answer"},model:{value:t.qusdark,callback:function(e){t.qusdark=e},expression:"qusdark"}})],1)]),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("div",{staticClass:"outersurvey outersurvey2",attrs:{id:"outersurvey2"}},[a("div",{attrs:{lass:"innersurvey"}},[a("label",{staticClass:"qusdark"},[t._v("2. What is your gender?")]),t._v(" "),a("p",[a("v-radio-group",{attrs:{mandatory:!1},model:{value:t.radios,callback:function(e){t.radios=e},expression:"radios"}},[a("v-radio",{attrs:{label:"Male",value:"radio-1"}}),t._v(" "),a("v-radio",{attrs:{label:"Female",value:"radio-2"}}),t._v(" "),a("v-radio",{attrs:{label:"Other",value:"radio-3"}})],1)],1)])]),a("br"),t._v(" "),a("div",{staticClass:"outersurvey outersurvey3"},[a("div",{attrs:{lass:"innersurvey"}},[a("label",{staticClass:"qusdark"},[t._v("3. Check All That Apply")]),t._v(" "),a("v-checkbox",{attrs:{label:"Onedev",value:"Onedev"},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}}),t._v(" "),a("v-checkbox",{attrs:{label:"GPEx",value:"GPEx"},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}}),t._v(" "),a("v-checkbox",{attrs:{label:"Examples",value:"Examples"},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}}),t._v(" "),a("v-checkbox",{attrs:{label:"Forms",value:"Forms"},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)]),a("br"),t._v(" "),a("div",{staticClass:"outersurvey outersurvey4"},[a("div",{attrs:{lass:"innersurvey"}},[a("label",{staticClass:"qusdark"},[t._v("4. Select your location")]),a("br"),t._v(" "),a("v-select",{attrs:{items:t.items,label:"City"}})],1)]),t._v(" "),a("br"),t._v(" "),a("div",{staticClass:"outersurvey outersurvey5"},[a("div",{attrs:{lass:"innersurvey"}},[a("label",{attrs:{for:"msg"}}),t._v(" "),a("p",{staticClass:"qusdark"},[t._v("5. In 50 words or more explain why you select this location")]),t._v(" "),a("v-textarea",{attrs:{name:"input-7-4",label:"textarea",value:""}})],1)]),a("br"),t._v(" "),a("div",{staticClass:"outersurvey outersurvey6"},[a("div",{attrs:{lass:"innersurvey"}},[a("label",{staticClass:"qusdark",attrs:{for:"msg"}},[t._v("6. Select Your Range")]),a("br"),t._v(" "),a("v-subheader",{staticClass:"pl-0"}),t._v(" "),a("v-slider",{attrs:{color:"#8B784A",label:"Range","thumb-label":""},model:{value:t.slider,callback:function(e){t.slider=e},expression:"slider"}})],1)]),a("br"),t._v(" "),a("div",{staticClass:"outersurvey outersurvey6"},[a("div",{attrs:{lass:"innersurvey"}},[a("label",{staticClass:"qusdark",attrs:{for:"msg"}},[t._v("7. Select Your Rating")]),a("br"),t._v(" "),a("v-rating",{attrs:{color:"#8B784A"},model:{value:t.rating,callback:function(e){t.rating=e},expression:"rating"}})],1)]),a("br"),t._v(" "),a("div",[a("v-layout",{attrs:{row:"",wrap:""}}),t._v(" "),a("label",{staticClass:"qusdark",attrs:{for:"msg"}},[t._v("8. Select Your DOB")]),a("br"),a("br"),t._v(" "),a("v-date-picker",{attrs:{landscape:t.landscape,reactive:t.reactive,dark:"",color:"#8B784A"},model:{value:t.picker,callback:function(e){t.picker=e},expression:"picker"}})],1),t._v(" "),a("div",[a("br"),t._v(" "),a("label",{staticClass:"qusdark",attrs:{for:"msg"}},[t._v("9. Please select time")]),a("br"),a("br"),t._v(" "),a("v-time-picker",{attrs:{landscape:t.landscape,dark:"",color:"#8B784A"},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1),t._v(" "),a("br"),t._v(" "),t._m(0),a("br"),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{dark:"",color:"#8B784A",type:"submit"},on:{click:t.submitForm}},[t._v("Submit")])],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"outersurvey outersurvey7"},[e("div",{attrs:{lass:"innersurvey"}},[e("label",{staticClass:"qusdark",attrs:{for:"fileupload"}},[this._v(" 10. Select a file to upload")]),this._v(" "),e("br"),this._v(" "),e("input",{attrs:{type:"file",name:"fileupload",value:"fileupload",id:"fileupload"}})])])}]},w=a("VU/8")(b,q,!1,null,null,null).exports,C={data:function(){return{email:null,password:null}},methods:{logIn:function(){this.$store.dispatch("login",{email:this.email,password:this.password}).then(function(){location.href="/"}).catch(console.error)}},created:function(){console.log("router",this.$router)}},M={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-layout",{staticClass:"login-layout"},[s("v-flex",{staticClass:"login-leftscreen",attrs:{xs12:"",sm6:"",md6:""}},[s("img",{staticClass:"left_login_img img img-responsive",attrs:{src:a("wPWd"),alt:""}})]),t._v(" "),s("v-flex",{staticClass:"login-form",attrs:{xs12:"",sm6:"",md6:""}},[s("div",{staticClass:"login_face"},[s("v-card-text",{staticClass:"login_inner"},[s("div",{staticClass:"login_brand"},[s("p",{staticClass:"text-xs-center"},[s("img",{attrs:{width:"250",src:a("VIer"),alt:""}})])]),t._v(" "),s("v-form",[s("p",{staticClass:"text-xs-center"},[t._v(" Welcome to GPEx ONE, "),s("br"),t._v("Now access all GPEx applications using one email and password ")]),t._v(" "),s("v-text-field",{attrs:{"prepend-icon":"person",label:"Username or email",type:"text"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t._v(" "),s("v-text-field",{attrs:{id:"password","prepend-icon":"lock",label:"Password",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),t._v(" "),s("v-card-actions",{staticClass:"btns-login"},[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{dark:"",color:"#8B784A"},on:{click:t.logIn}},[t._v("Login")])],1)],1)])],1)},staticRenderFns:[]};var I=a("VU/8")(C,M,!1,function(t){a("CZlt")},"data-v-52a1a040",null).exports,k=a("mvHQ"),j=a.n(k),N={props:["userdate"],data:function(){return{surveyName:[]}},methods:{findByEmail:function(){var t=this;null!==this.userdate&&axios.post("/findbyemail",{email:this.userdate.email}).then(function(e){t.surveyName=e}).catch(function(t){console.log("error",t)})},getsharedlink:function(t){var e={email:window.btoa(this.userdate.email),sid:window.btoa(t.sharedid)};return"/sharedlinks?token="+window.btoa(encodeURIComponent(j()(e)))}},created:function(){this.findByEmail()}},D={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex_box"},[a("ul",{staticClass:"bells_ul_dashboard"},[a("div",{staticClass:"single_flexbox"},[t._l(t.surveyName.data,function(e,s){return[a("li",{key:"aaaaa"+s,staticClass:"background_lidash"},[a("a",{attrs:{href:t.getsharedlink(e)}},[a("i",{staticClass:"fa fa-fw fa-bell bell_icondashboard"}),t._v(t._s(e.surveyname)+"  \n                    ")])])]})],2)])])},staticRenderFns:[]};var L=a("VU/8")(N,D,!1,function(t){a("GBW7")},null,null).exports,A=(a("CqLJ"),localStorage.username,localStorage.userrole,localStorage.dashboard_tab,a("NCci"),{props:{searchsurvey:{default:"aaaaaaaaaaaaaaa"},activedashboard:{default:1},searchsemester:{default:"1"}},data:function(){return{isloading:!0,havemoredata:!0,deletedsurveys:[],haveaccess:null,lastupdated:0}},methods:{getsurveyimage:function(t){return""==t||null==t?"https://source.unsplash.com/collection/4728778/1600x900/":t.indexOf("unsplash.com")>=0?t:window.publicfileurl+t},undodeleteSurvey:function(t,e){var a=this,s=this.deletedsurveys[e];axios.post("/changesurveystatus",{surveyid:t,delete:"0"}).then(function(t){a.deletedsurveys.splice(e,1),s.delete="0"})},deleteSurvey:function(t,e){var a=this;axios.post("/deletesurvey",{surveyid:t}).then(function(t){a.$toast.open({message:"Survey Deleted Successfully",position:"top",type:"success"}),a.deletedsurveys.splice(e,1)})},getallsurveys:function(){var t=this;this.isloading=!0,this.havemoredata=!1,axios.post("/getdeletedsurveys",{lastdate:this.lastupdated}).then(function(e){t.isloading=!1,e.data.data.length>0&&(t.havemoredata=!0,t.lastupdated=e.data.data[e.data.data.length-1].modifiedddate,t.deletedsurveys=t.deletedsurveys.concat(e.data.data))}).catch(function(e){t.isloading=!0,console.log("erroe- ",e)})},bottomVisible:function(){var t=window.scrollY,e=document.documentElement.clientHeight,a=document.documentElement.scrollHeight;return e+t>=a||a<e},handleScroll:function(){this.bottomVisible()&&this.havemoredata&&this.getallsurveys()}},watch:{},created:function(){this.lastupdated=Date.now(),this.getallsurveys()},beforeMount:function(){window.addEventListener("scroll",this.handleScroll)}}),T={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"padding20"},[1==t.activedashboard?s("v-layout",{staticClass:"survey_lists",attrs:{row:"",wrap:""}},[t._l(t.deletedsurveys,function(e,i){return[""==t.searchsurvey||-1!=e.surveyname.toLowerCase().indexOf(t.searchsurvey.toLowerCase())?s("v-flex",{key:e._id,staticClass:"survey_list",attrs:{xs12:""}},[s("div",{staticClass:"survey-image"},[s("img",{attrs:{src:t.getsurveyimage(e.surveyConfig.coverphoto)}}),t._v(" "),s("div",{staticClass:"overflow"},[s("div",{staticClass:"float_name"},[s("div",{staticClass:"icon30"},[s("img",{attrs:{src:a("FYnd")}})]),t._v(" "),s("span",[t._v(t._s(e.surveyname))])])])]),t._v(" "),s("div",{staticClass:"survey-details"},[s("div",{staticClass:"surveycard"},[s("div",{staticClass:"details"},[s("p",[t._v("Editor: Name of editor")]),t._v(" "),s("p",[t._v("Reviewer: Name of reviewer")]),t._v(" "),s("p",[t._v("Created: "+t._s(e.createddate))]),t._v(" "),s("p",[t._v("Modified: 03/05/2019")])]),t._v(" "),s("div",{staticClass:"buttons"},["1"==e.surveyConfig.active?s("div",{staticClass:"custom_badges active"},[s("div",{staticClass:"badge_shape"},[s("i",{staticClass:"material-icons"},[t._v("done")])]),t._v(" "),s("div",{staticClass:"badge_text"},[t._v("Active")])]):s("div",{staticClass:"custom_badges"},[s("div",{staticClass:"badge_shape"},[s("i",{staticClass:"material-icons"},[t._v("pause")])]),t._v(" "),s("div",{staticClass:"badge_text"},[t._v("Active")])]),t._v(" "),"0"!=e.response?s("div",{staticClass:"custom_badges active",on:{click:function(a){return t.getallresponse(e._id)}}},[s("div",{staticClass:"badge_shape cursor_pointer"},[t._v(t._s(e.response))]),t._v(" "),s("div",{staticClass:"badge_text"},[t._v("Response")])]):s("div",{staticClass:"custom_badges"},[s("div",{staticClass:"badge_shape"},[t._v(t._s(e.response))]),t._v(" "),s("div",{staticClass:"badge_text"},[t._v("Response")])])])]),t._v(" "),s("div",{staticClass:"infocard"},[s("ul",[s("a",[s("li",{on:{click:function(a){return t.deleteSurvey(e._id,i)}}},[s("img",{staticClass:"icon15",attrs:{src:a("yJyA")}}),s("span",{staticClass:"fontinfo"},[t._v("Delete")])])]),t._v(" "),s("a",[s("li",{on:{click:function(a){return t.undodeleteSurvey(e._id,i)}}},[s("span",{staticClass:"fontinfo"},[t._v("Undo Delete")])])])])])])]):t._e()]})],2):t._e(),t._v(" "),0==t.activedashboard?s("v-layout",{staticClass:"survey_lists ",attrs:{row:"",wrap:""}},[s("v-flex",[s("div",{staticClass:"allresponselist"},[s("table",[s("tr",[s("td"),t._v(" "),s("td",[t._v("Created")]),t._v(" "),s("td",[t._v("Modified")]),t._v(" "),s("td",[t._v("Response")]),t._v(" "),s("td",[t._v("Active")]),t._v(" "),s("td")]),t._v(" "),t._l(t.deletedsurveys,function(e){return[""==t.searchsurvey||-1!=e.surveyname.toLowerCase().indexOf(t.searchsurvey.toLowerCase())?s("tr",{key:e._id},[s("td",[t._v(t._s(e.surveyname))]),t._v(" "),s("td",[t._v(t._s(e.createddate))]),t._v(" "),s("td",[t._v(t._s(e.modifiedddate))]),t._v(" "),s("td",[t._v(t._s(e.response))]),t._v(" "),s("td",["1"==e.surveyConfig.active?s("span",[t._v("Active")]):s("span",[t._v("InActive")])]),t._v(" "),s("td",[s("a",{on:{click:function(a){return t.deleteSurvey(e._id)}}},[s("img",{staticClass:"icon15",attrs:{src:a("yJyA")}}),s("span",{staticClass:"fontinfo"},[t._v("Delete")])])])]):t._e()]})],2)])])],1):t._e(),t._v(" "),s("div",{staticClass:"centerprogress"},[1==t.isloading?s("v-progress-circular",{attrs:{indeterminate:"",size:"50"}}):t._e()],1)],1)},staticRenderFns:[]},S=a("VU/8")(A,T,!1,null,null,null).exports,E={props:["dialogstate","surveyid","loginuser"],data:function(){return{dialog:this.dialogstate,survey:this.surveyid,user_id:this.loginuser,title:"",errormsg:""}},methods:{removeModel:function(){this.dialog=!1,this.$emit("removeModel",this.dialog)},validatetext:function(t){this.title=t,t.length<=0?this.errormsg="Title is required":this.errormsg=""},duplicateSurvey:function(){var t=this;""==this.title?this.errormsg="Title is required":axios.post("/duplicatsurvey",{surveyid:this.survey,title:this.title,user_id:this.user_id}).then(function(e){console.log(e),1==e.data.status?t.$router.push("/builder/"+e.data.data._id):t.errormsg="Failed to duplicate survey"}).catch(function(t){console.log(t)})}},watch:{dialog:function(t,e){return this.$emit("removeModel",this.dialog),this.dialog}}},z={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-xs-center duplicateSurvey_"},[a("v-dialog",{attrs:{width:"600"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[t._v("Duplicate Survey")]),t._v(" "),a("v-card-text",[""!=t.errormsg?a("v-card-text",{attrs:{danger:""}},[t._v(t._s(t.errormsg))]):t._e(),t._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Survey Title",required:""},on:{input:t.validatetext},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1)],1),t._v(" "),a("v-divider"),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:t.duplicateSurvey}},[t._v("\n          Duplicate\n        ")]),t._v(" "),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:t.removeModel}},[t._v("\n          Cancel\n        ")])],1)],1)],1)],1)},staticRenderFns:[]},O=a("VU/8")(E,z,!1,null,null,null).exports,Y=a("Quol"),F=a.n(Y),U={props:["dialogstate","surveyid"],data:function(){return{dialog:this.dialogstate,survey:this.surveyid,title:"",errormsg:""}},methods:{removeModel:function(){this.dialog=!1,this.$emit("removeModel",this.dialog)},copylinktoclipboard:function(t){0==t?F()(this.getsurveylinkwlogin):1==t?F()(this.getsurveylinkwtlogin):2==t&&F()(this.getsurveyembadecode)}},computed:{getsurveylinkwlogin:function(){return window.siteurl+"swl/"+this.survey},getsurveylinkwtlogin:function(){return window.siteurl+"swtl/"+this.survey},getsurveyembadecode:function(){return'<iframe id="gpex-survey"src="'+window.siteurl+"swtl/"+this.survey+'" width="100%" height="1000px" allowtransparency="true" style="frameborder:0; border: 0; margin: 0 auto; background: transparent; background-color: transparent;" ></iframe>'}},watch:{dialog:function(t,e){return this.$emit("removeModel",this.dialog),this.dialog}}},Q={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-xs-center shareSurvey_"},[a("v-dialog",{attrs:{width:"600"},on:{click:t.removeModel},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[t._v("Share Survey")]),t._v(" "),a("v-card-text",[a("div",{staticClass:"sharesurveybox"},[a("div",{staticClass:"shareelement"},[t._v("Direct Link")]),t._v(" "),a("div",{staticClass:"sharedata"},[t._v(t._s(t.getsurveylinkwlogin))]),t._v(" "),a("div",{staticClass:"sharebutton"},[a("button",{staticClass:"copysurveylink",on:{click:function(e){return t.copylinktoclipboard(0)}}},[t._v("Copy link")])])]),t._v(" "),a("div",{staticClass:"sharesurveybox"},[a("div",{staticClass:"shareelement"},[t._v("Direct Link- without login")]),t._v(" "),a("div",{staticClass:"sharedata"},[t._v(t._s(t.getsurveylinkwtlogin))]),t._v(" "),a("div",{staticClass:"sharebutton"},[a("button",{staticClass:"copysurveylink",on:{click:function(e){return t.copylinktoclipboard(1)}}},[t._v("Copy link")])])]),t._v(" "),a("div",{staticClass:"sharesurveybox"},[a("div",{staticClass:"shareelement"},[t._v("Embed code")]),t._v(" "),a("div",{staticClass:"sharedata"},[t._v(t._s(t.getsurveyembadecode))]),t._v(" "),a("div",{staticClass:"sharebutton"},[a("button",{staticClass:"copysurveylink",on:{click:function(e){return t.copylinktoclipboard(2)}}},[t._v("Copy")])])])])],1)],1)],1)},staticRenderFns:[]},$=a("VU/8")(U,Q,!1,null,null,null).exports,Z=a("CqLJ"),R=(localStorage.username,localStorage.userrole,localStorage.dashboard_tab,a("NCci"),{props:{searchsurvey:{default:""},project:{default:""},activedashboard:{default:1},searchsemester:{default:""},currentuser:{default:""}},components:{modelduplicatesurvey:O,modelsharesurvey:$},data:function(){return{isloading:!0,havemoredata:!0,surveys:[],haveaccess:null,model_modelduplicatesurvey:!1,model_modelsharesurvey:!1,share_surveyid:"",duplcate_surveyid:"",lastupdated:0}},methods:{getsurveyimage:function(t){return""==t||null==t?"https://source.unsplash.com/collection/4728778/1600x900/":t.indexOf("unsplash.com")>=0?t:window.publicfileurl+t},bottomVisible:function(){var t=window.scrollY,e=document.documentElement.clientHeight,a=document.documentElement.scrollHeight;return e+t>=a||a<e},handleScroll:function(){this.bottomVisible()&&this.havemoredata&&this.getallsurveys()},getallresponse:function(t){this.$router.push("/responselist/"+t)},formateddate:function(t){return"string"==typeof t?t.indexOf("/")>=0||t.indexOf("-")>=0?t.substring(0,10):(t=parseInt(t),Z(t,"yyyy/mm/dd")):Z(t,"yyyy/mm/dd")},deletestatus:function(t,e){var a=this;this.surveys[e];axios.post("/changesurveystatus",{surveyid:t,delete:"1"}).then(function(t){a.surveys.splice(e,1)})},undodeleteSurvey:function(t,e){var a=this,s=this.deletedsurveys[e];axios.post("/changesurveystatus",{surveyid:t,delete:"0"}).then(function(t){a.deletedsurveys.splice(e,1),s.delete="0",a.surveys.push(s)})},duplicateSurvey:function(t){this.model_modelduplicatesurvey=!0,this.duplcate_surveyid=t},shareSurvey:function(t){this.model_modelsharesurvey=!0,this.share_surveyid=t},deleteSurvey:function(t,e){var a=this;axios.post("/deletesurvey",{surveyid:t}).then(function(t){a.$toast.open({message:"Survey Deleted Successfully",position:"top",type:"success"}),a.deletedsurveys.splice(e,1)})},getallsurveys:function(){var t=this;""!=this.project&&(this.isloading=!0,this.havemoredata=!1,axios.post("/findSurveys",{id:this.project,lastdate:this.lastupdated}).then(function(e){t.isloading=!1,e.data.data.length>0&&(t.havemoredata=!0,t.lastupdated=e.data.data[e.data.data.length-1].modifiedddate,t.surveys=t.surveys.concat(e.data.data))}).catch(function(e){t.isloading=!1,console.log("err",e)}))}},watch:{model_modelduplicatesurvey:function(t,e){return this.model_modelduplicatesurvey},model_modelsharesurvey:function(t,e){return this.model_modelsharesurvey},activesurveytab:function(t,e){localStorage.setItem("dashboard_tab",t)},project:function(t,e){this.lastupdated=Date.now(),this.surveys=[],this.getallsurveys()}},created:function(){this.lastupdated=Date.now(),this.getallsurveys()},beforeMount:function(){window.addEventListener("scroll",this.handleScroll)}}),P={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"padding20"},[1==t.activedashboard?s("v-layout",{staticClass:"survey_lists",attrs:{row:"",wrap:""}},[t._l(t.surveys,function(e,i){return[""!=t.searchsurvey&&-1==e.surveyname.toLowerCase().indexOf(t.searchsurvey.toLowerCase())||!(t.searchsemester.length>0&&-1!=t.searchsemester.indexOf(e.semester)||0==t.searchsemester.length)?t._e():s("v-flex",{key:"surveyid"+i+e._id,staticClass:"survey_list",attrs:{xs12:""}},[s("div",{staticClass:"survey-image"},[s("img",{attrs:{src:t.getsurveyimage(e.surveyConfig.coverphoto)}}),t._v(" "),s("div",{staticClass:"overflow"},[s("div",{staticClass:"float_name"},[s("div",{staticClass:"icon30"},[s("img",{attrs:{src:a("FYnd")}})]),t._v(" "),s("span",[t._v(t._s(e.surveyname))])])])]),t._v(" "),s("div",{staticClass:"survey-details"},[s("div",{staticClass:"surveycard"},[s("div",{staticClass:"details"},[s("p",[t._v("Editor: \n                            "),t._l(e.surveyConfig.editorToJson,function(a,i){return[s("span",{key:"ed"+a._id},[t._v(t._s(a.firstname)+" "+t._s(a.lastname))]),i<e.surveyConfig.editorToJson.length-1?[t._v(", ")]:t._e()]})],2),t._v(" "),s("p",[t._v("Reviewer: "),t._l(e.surveyConfig.reviewerToJson,function(a,i){return[s("span",{key:"ed"+a._id},[t._v(t._s(a.firstname)+" "+t._s(a.lastname))]),i<e.surveyConfig.editorToJson.length-1?[t._v(", ")]:t._e()]})],2),t._v(" "),s("p",[t._v("Created: "+t._s(t.formateddate(e.createddate)))]),t._v(" "),s("p",[t._v("Modified: "+t._s(t.formateddate(e.modifiedddate)))])]),t._v(" "),s("div",{staticClass:"buttons"},["1"==e.surveyConfig.active?s("div",{staticClass:"custom_badges active"},[s("div",{staticClass:"badge_shape"},[s("i",{staticClass:"material-icons"},[t._v("done")])]),t._v(" "),s("div",{staticClass:"badge_text"},[t._v("Active")])]):s("div",{staticClass:"custom_badges"},[s("div",{staticClass:"badge_shape"},[s("i",{staticClass:"material-icons"},[t._v("pause")])]),t._v(" "),s("div",{staticClass:"badge_text"},[t._v("Active")])]),t._v(" "),"0"!=e.response?s("div",{staticClass:"custom_badges active",on:{click:function(a){return t.getallresponse(e._id)}}},[s("div",{staticClass:"badge_shape cursor_pointer"},[t._v(t._s(e.response))]),t._v(" "),s("div",{staticClass:"badge_text"},[t._v("Response")])]):s("div",{staticClass:"custom_badges"},[s("div",{staticClass:"badge_shape"},[t._v(t._s(e.response))]),t._v(" "),s("div",{staticClass:"badge_text"},[t._v("Response")])])])]),t._v(" "),s("div",{staticClass:"infocard"},[s("ul",[s("a",{attrs:{href:"/builder/"+e._id}},[s("li",[s("img",{staticClass:"icon15",attrs:{src:a("k+Wh")}}),s("span",{staticClass:"fontinfo"},[t._v("Edit")])])]),t._v(" "),s("a",{on:{click:function(a){return t.shareSurvey(e._id)}}},[s("li",[s("img",{staticClass:"icon15",attrs:{src:a("nosY")}}),s("span",{staticClass:"fontinfo"},[t._v("Share")])])]),t._v(" "),s("a",{on:{click:function(a){return t.duplicateSurvey(e._id)}}},[s("li",[s("img",{staticClass:"icon15",attrs:{src:a("34S8")}}),s("span",{staticClass:"fontinfo"},[t._v("Duplicate")])])]),t._v(" "),s("a",{attrs:{href:"/responsereport/"+e._id}},[s("li",[s("img",{staticClass:"icon15",attrs:{src:a("sCue")}}),s("span",{staticClass:"fontinfo"},[t._v("Report")])])]),t._v(" "),s("a",{on:{click:function(a){return t.deletestatus(e._id,i)}}},[s("li",[s("img",{staticClass:"icon15",attrs:{src:a("dxKX")}}),s("span",{staticClass:"fontinfo"},[t._v("Archive")])])])])])])])]})],2):t._e(),t._v(" "),0==t.activedashboard?s("v-layout",{staticClass:"survey_lists ",attrs:{row:"",wrap:""}},[s("v-flex",[s("div",{staticClass:"allresponselist"},[s("table",[s("tr",[s("td"),t._v(" "),s("td"),t._v(" "),s("td"),t._v(" "),s("td"),t._v(" "),s("td"),t._v(" "),s("td"),t._v(" "),s("td",[t._v("Created")]),t._v(" "),s("td",[t._v("Modified")]),t._v(" "),s("td",[t._v("Response")]),t._v(" "),s("td",[t._v("Active")])]),t._v(" "),t._l(t.surveys,function(e,i){return[""==t.searchsurvey||-1!=e.surveyname.toLowerCase().indexOf(t.searchsurvey.toLowerCase())?s("tr",{key:e._id},[s("td",[t._v(t._s(e.surveyname))]),t._v(" "),s("td",[s("a",{attrs:{href:"/builder/"+e._id}},[s("img",{staticClass:"icon15",attrs:{src:a("k+Wh")}}),s("span",{staticClass:"fontinfo"},[t._v("Edit")])])]),t._v(" "),s("td",[s("a",{on:{click:function(a){return t.shareSurvey(e._id)}}},[s("img",{staticClass:"icon15",attrs:{src:a("nosY")}}),s("span",{staticClass:"fontinfo"},[t._v("Share")])])]),t._v(" "),s("td",[s("a",{on:{click:function(a){return t.duplicateSurvey(e._id)}}},[s("img",{staticClass:"icon15",attrs:{src:a("34S8")}}),s("span",{staticClass:"fontinfo"},[t._v("Duplicate")])])]),t._v(" "),s("td",[s("a",{attrs:{href:"/responsereport/"+e._id}},[s("img",{staticClass:"icon15",attrs:{src:a("sCue")}}),s("span",{staticClass:"fontinfo"},[t._v("Report")])])]),t._v(" "),s("td",[s("a",{on:{click:function(a){return t.deletestatus(e._id,i)}}},[s("img",{staticClass:"icon15",attrs:{src:a("dxKX")}}),s("span",{staticClass:"fontinfo"},[t._v("Archive")])])]),s("td",[t._v(t._s(t.formateddate(e.createddate)))]),t._v(" "),s("td",[t._v(t._s(t.formateddate(e.modifiedddate)))]),t._v(" "),s("td",[t._v(t._s(e.response))]),t._v(" "),s("td",["1"==e.surveyConfig.active?s("span",[t._v("Active")]):s("span",[t._v("InActive")])])]):t._e()]})],2)])])],1):t._e(),t._v(" "),s("div",{staticClass:"centerprogress"},[1==t.isloading?s("v-progress-circular",{attrs:{indeterminate:"",size:"50"}}):t._e()],1),t._v(" "),1==t.model_modelduplicatesurvey?s("modelduplicatesurvey",{attrs:{dialogstate:t.model_modelduplicatesurvey,loginuser:t.currentuser,surveyid:t.duplcate_surveyid},on:{removeModel:function(e){t.model_modelduplicatesurvey=e}}}):t._e(),t._v(" "),1==t.model_modelsharesurvey?s("modelsharesurvey",{attrs:{dialogstate:t.model_modelsharesurvey,surveyid:t.share_surveyid},on:{removeModel:function(e){t.model_modelsharesurvey=e}}}):t._e()],1)},staticRenderFns:[]},G=a("VU/8")(R,P,!1,null,null,null).exports,J=a("CqLJ"),W=(localStorage.username,localStorage.userrole,localStorage.dashboard_tab,a("NCci"),{props:{searchsurvey:{default:""},project:{default:""},activedashboard:{default:1},searchsemester:{default:[]},currentuser:{default:""}},components:{modelduplicatesurvey:O,modelsharesurvey:$},data:function(){return{isloading:!0,havemoredata:!0,surveys:[],haveaccess:null,model_modelduplicatesurvey:!1,model_modelsharesurvey:!1,share_surveyid:"",duplcate_surveyid:"",lastupdated:0}},methods:{getsurveyimage:function(t){return""==t||null==t?"https://source.unsplash.com/collection/4728778/1600x900/":t.indexOf("unsplash.com")>=0?t:window.publicfileurl+t},bottomVisible:function(){var t=window.scrollY,e=document.documentElement.clientHeight,a=document.documentElement.scrollHeight;return e+t>=a||a<e},handleScroll:function(){this.bottomVisible()&&this.havemoredata&&this.debouncedgetallsurveys()},getallresponse:function(t){this.$router.push("/responselist/"+t)},formateddate:function(t){return"string"==typeof t?t.indexOf("/")>=0||t.indexOf("-")>=0?t.substring(0,10):(t=parseInt(t),J(t,"yyyy/mm/dd")):J(t,"yyyy/mm/dd")},deletestatus:function(t,e){var a=this;this.surveys[e];axios.post("/changesurveystatus",{surveyid:t,delete:"1"}).then(function(t){a.surveys.splice(e,1)})},undodeleteSurvey:function(t,e){var a=this,s=this.deletedsurveys[e];axios.post("/changesurveystatus",{surveyid:t,delete:"0"}).then(function(t){a.deletedsurveys.splice(e,1),s.delete="0",a.surveys.push(s)})},duplicateSurvey:function(t){this.model_modelduplicatesurvey=!0,this.duplcate_surveyid=t},shareSurvey:function(t){this.model_modelsharesurvey=!0,this.share_surveyid=t},deleteSurvey:function(t,e){var a=this;axios.post("/deletesurvey",{surveyid:t}).then(function(t){a.$toast.open({message:"Survey Deleted Successfully",position:"top",type:"success"}),a.deletedsurveys.splice(e,1)})},getallsurveys:function(){var t=this;this.isloading=!0,this.havemoredata=!1,axios.post("/searchallSurveys",{lastdate:this.lastupdated,surveyname:this.searchsurvey,semester:this.searchsemester}).then(function(e){t.isloading=!1,e.data.data.length>0&&(t.havemoredata=!0,t.lastupdated=e.data.data[e.data.data.length-1].modifiedddate,t.surveys=t.surveys.concat(e.data.data))}).catch(function(e){t.isloading=!1,console.log("err",e)})}},watch:{model_modelduplicatesurvey:function(t,e){return this.model_modelduplicatesurvey},model_modelsharesurvey:function(t,e){return this.model_modelsharesurvey},activesurveytab:function(t,e){localStorage.setItem("dashboard_tab",t)},searchsemester:function(t,e){this.lastupdated=Date.now(),this.surveys=[],this.debouncedgetallsurveys()},searchsurvey:function(t,e){this.lastupdated=Date.now(),this.surveys=[],this.debouncedgetallsurveys()}},created:function(){this.lastupdated=Date.now(),this.debouncedgetallsurveys=_.debounce(this.getallsurveys,2e3),this.getallsurveys()},beforeMount:function(){window.addEventListener("scroll",this.handleScroll)}}),H={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"padding20"},[1==t.activedashboard?s("v-layout",{staticClass:"survey_lists",attrs:{row:"",wrap:""}},[t._l(t.surveys,function(e,i){return[s("v-flex",{key:"surveyid"+i+e._id,staticClass:"survey_list",attrs:{xs12:""}},[s("div",{staticClass:"survey-image"},[s("img",{attrs:{src:t.getsurveyimage(e.surveyConfig.coverphoto)}}),t._v(" "),s("div",{staticClass:"overflow"},[s("div",{staticClass:"float_name"},[s("div",{staticClass:"icon30"},[s("img",{attrs:{src:a("FYnd")}})]),t._v(" "),s("span",[t._v(t._s(e.surveyname))])])])]),t._v(" "),s("div",{staticClass:"survey-details"},[s("div",{staticClass:"surveycard"},[s("div",{staticClass:"details"},[s("p",[t._v("Editor: \n                            "),t._l(e.surveyConfig.editorToJson,function(a,i){return[s("span",{key:"ed"+a._id},[t._v(t._s(a.firstname)+" "+t._s(a.lastname))]),i<e.surveyConfig.editorToJson.length-1?[t._v(", ")]:t._e()]})],2),t._v(" "),s("p",[t._v("Reviewer: "),t._l(e.surveyConfig.reviewerToJson,function(a,i){return[s("span",{key:"ed"+a._id},[t._v(t._s(a.firstname)+" "+t._s(a.lastname))]),i<e.surveyConfig.editorToJson.length-1?[t._v(", ")]:t._e()]})],2),t._v(" "),s("p",[t._v("Created: "+t._s(t.formateddate(e.createddate)))]),t._v(" "),s("p",[t._v("Modified: "+t._s(t.formateddate(e.modifiedddate)))])]),t._v(" "),s("div",{staticClass:"buttons"},["1"==e.surveyConfig.active?s("div",{staticClass:"custom_badges active"},[s("div",{staticClass:"badge_shape"},[s("i",{staticClass:"material-icons"},[t._v("done")])]),t._v(" "),s("div",{staticClass:"badge_text"},[t._v("Active")])]):s("div",{staticClass:"custom_badges"},[s("div",{staticClass:"badge_shape"},[s("i",{staticClass:"material-icons"},[t._v("pause")])]),t._v(" "),s("div",{staticClass:"badge_text"},[t._v("Active")])]),t._v(" "),"0"!=e.response?s("div",{staticClass:"custom_badges active",on:{click:function(a){return t.getallresponse(e._id)}}},[s("div",{staticClass:"badge_shape cursor_pointer"},[t._v(t._s(e.response))]),t._v(" "),s("div",{staticClass:"badge_text"},[t._v("Response")])]):s("div",{staticClass:"custom_badges"},[s("div",{staticClass:"badge_shape"},[t._v(t._s(e.response))]),t._v(" "),s("div",{staticClass:"badge_text"},[t._v("Response")])])])]),t._v(" "),s("div",{staticClass:"infocard"},[s("ul",[s("a",{attrs:{href:"/builder/"+e._id}},[s("li",[s("img",{staticClass:"icon15",attrs:{src:a("k+Wh")}}),s("span",{staticClass:"fontinfo"},[t._v("Edit")])])]),t._v(" "),s("a",{on:{click:function(a){return t.shareSurvey(e._id)}}},[s("li",[s("img",{staticClass:"icon15",attrs:{src:a("nosY")}}),s("span",{staticClass:"fontinfo"},[t._v("Share")])])]),t._v(" "),s("a",{on:{click:function(a){return t.duplicateSurvey(e._id)}}},[s("li",[s("img",{staticClass:"icon15",attrs:{src:a("34S8")}}),s("span",{staticClass:"fontinfo"},[t._v("Duplicate")])])]),t._v(" "),s("a",{attrs:{href:"/responsereport/"+e._id}},[s("li",[s("img",{staticClass:"icon15",attrs:{src:a("sCue")}}),s("span",{staticClass:"fontinfo"},[t._v("Report")])])]),t._v(" "),s("a",{on:{click:function(a){return t.deletestatus(e._id,i)}}},[s("li",[s("img",{staticClass:"icon15",attrs:{src:a("dxKX")}}),s("span",{staticClass:"fontinfo"},[t._v("Archive")])])])])])])])]})],2):t._e(),t._v(" "),0==t.activedashboard?s("v-layout",{staticClass:"survey_lists ",attrs:{row:"",wrap:""}},[s("v-flex",[s("div",{staticClass:"allresponselist"},[s("table",[s("tr",[s("td"),t._v(" "),s("td"),t._v(" "),s("td"),t._v(" "),s("td"),t._v(" "),s("td"),t._v(" "),s("td"),t._v(" "),s("td",[t._v("Created")]),t._v(" "),s("td",[t._v("Modified")]),t._v(" "),s("td",[t._v("Response")]),t._v(" "),s("td",[t._v("Active")])]),t._v(" "),t._l(t.surveys,function(e,i){return[s("tr",{key:e._id},[s("td",[t._v(t._s(e.surveyname))]),t._v(" "),s("td",[s("a",{attrs:{href:"/builder/"+e._id}},[s("img",{staticClass:"icon15",attrs:{src:a("k+Wh")}}),s("span",{staticClass:"fontinfo"},[t._v("Edit")])])]),t._v(" "),s("td",[s("a",{on:{click:function(a){return t.shareSurvey(e._id)}}},[s("img",{staticClass:"icon15",attrs:{src:a("nosY")}}),s("span",{staticClass:"fontinfo"},[t._v("Share")])])]),t._v(" "),s("td",[s("a",{on:{click:function(a){return t.duplicateSurvey(e._id)}}},[s("img",{staticClass:"icon15",attrs:{src:a("34S8")}}),s("span",{staticClass:"fontinfo"},[t._v("Duplicate")])])]),t._v(" "),s("td",[s("a",{attrs:{href:"/responsereport/"+e._id}},[s("img",{staticClass:"icon15",attrs:{src:a("sCue")}}),s("span",{staticClass:"fontinfo"},[t._v("Report")])])]),t._v(" "),s("td",[s("a",{on:{click:function(a){return t.deletestatus(e._id,i)}}},[s("img",{staticClass:"icon15",attrs:{src:a("dxKX")}}),s("span",{staticClass:"fontinfo"},[t._v("Archive")])])]),s("td",[t._v(t._s(t.formateddate(e.createddate)))]),t._v(" "),s("td",[t._v(t._s(t.formateddate(e.modifiedddate)))]),t._v(" "),s("td",[t._v(t._s(e.response))]),t._v(" "),s("td",["1"==e.surveyConfig.active?s("span",[t._v("Active")]):s("span",[t._v("InActive")])])])]})],2)])])],1):t._e(),t._v(" "),s("div",{staticClass:"centerprogress"},[1==t.isloading?s("v-progress-circular",{attrs:{indeterminate:"",size:"50"}}):t._e()],1),t._v(" "),1==t.model_modelduplicatesurvey?s("modelduplicatesurvey",{attrs:{dialogstate:t.model_modelduplicatesurvey,loginuser:t.currentuser,surveyid:t.duplcate_surveyid},on:{removeModel:function(e){t.model_modelduplicatesurvey=e}}}):t._e(),t._v(" "),1==t.model_modelsharesurvey?s("modelsharesurvey",{attrs:{dialogstate:t.model_modelsharesurvey,surveyid:t.share_surveyid},on:{removeModel:function(e){t.model_modelsharesurvey=e}}}):t._e()],1)},staticRenderFns:[]},B=a("VU/8")(W,H,!1,null,null,null).exports,V=a("OMJi"),X=(a("CqLJ"),localStorage.username),K=localStorage.userrole,tt=(localStorage.dashboard_tab,a("NCci")),et={components:{respondentDashboard:L,surveylist:G,deletedsurvey:S,searchsurveylist:B},data:function(){return{semesters:[],cats:[],displaysidebar:"",surveys:[],encodeddata:"dfgfdgdf",mygroup:[],deletedsurveys:[],activesurveytab:"1",searchsemester:[],userData:null,searchsurvey:"",model_modelduplicatesurvey:!1,model_modelsharesurvey:!1,share_surveyid:"",duplcate_surveyid:"",currentuser:"",role:0,haveaccess:null,activedashboard:1,selectedlistid:null,getdeleted:!1}},methods:{getsurveylist:function(t){this.selectedlistid=t._id,this.getdeleted=!1,localStorage.setItem("dashboard_project",t._id)},chnagecurrenttab:function(){this.selectedlistid=null,this.getdeleted=!0},togglesidebar:function(){this.displaysidebar.length?this.displaysidebar="":this.displaysidebar="active"},activeView:function(t){this.activedashboard=t}},computed:{},watch:{},created:function(){var t=this;axios.post("/getsemesters").then(function(e){t.semesters=e.data}).catch(function(e){t.errors.push(e)});var e=localStorage.getItem("dashboard_project");axios.post("/getcurrentuser",{username:X}).then(function(a){t.currentuser=a.data._id,t.userData=a.data,tt.is_roleassigned(a.data.roles,"1")||tt.is_roleassigned(a.data.roles,"2")||tt.is_roleassigned(a.data.roles,"3")?t.haveaccess=1:t.haveaccess=0,axios.post("/getusergroup",{userid:a.data._id}).then(function(e){e.data.forEach(function(e){t.mygroup.push(e._id)})}).catch(function(e){t.errors.push(e)}),axios.post("/findsurveycategory",{id:a.data._id}).then(function(a){var s=a.data;s.sort(function(t,e){return t.projectname.localeCompare(e.projectname)}),t.cats=s,e||(e=s[0]._id),t.selectedlistid=e,t.getdeleted=!1}).catch(function(e){t.errors.push(e)})}).catch(function(e){console.log(e),t.errors.push(e)}),this.role=K}},at={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return 1===t.haveaccess?s("v-container",{staticClass:"conatiner_dashboard",attrs:{"grid-list-xl":""}},[s("v-layout",[s("v-flex",{class:"dashboard-sidebar "+t.displaysidebar,attrs:{xs12:"",sm3:""}},[s("button",{staticClass:"exportbutton floatdashboardbtn",on:{click:function(e){return t.togglesidebar()}}},[s("i",{staticClass:"fa fa-bars"})]),t._v(" "),s("v-flex",{staticClass:"dashboard-sidebar-flex",attrs:{xs12:"","text-xs-left":""}},[s("v-card",{staticClass:"cardsddprotitle",attrs:{"text-right":""}},[s("a",{staticClass:"btn_totabs",attrs:{href:"addproject"}},[s("div",{staticClass:"icon30 blueback"},[s("img",{attrs:{src:a("wPQr")}})]),t._v("\n            Add a Project\n         ")]),t._v(" "),s("a",{staticClass:"btn_totabs",attrs:{href:"createsurvey"}},[s("div",{staticClass:"icon30 blueback"},[s("img",{attrs:{src:a("1apx")}})]),t._v("\n           Create a Survey\n         ")])])],1),t._v(" "),s("v-flex",{attrs:{xs12:"","text-xs-left":""}},[s("div",{staticClass:"cardsddprotitle side_projectlist"},[s("div",{staticClass:"card-header"},[t._v("Projects")]),t._v(" "),t._l(t.cats,function(e,i){return[s("button",{key:""+i,class:"btn_totabs "+(e._id==t.selectedlistid?"active":""),on:{click:function(a){return t.getsurveylist(e)}}},[s("div",{staticClass:"icon30"},[s("img",{attrs:{src:a("USt7")}})]),t._v(" "),s("span",[t._v(t._s(e.projectname))])])]}),t._v(" "),s("button",{class:"btn_totabs "+(0==t.activesurveytab?"active":"")+" btn_archieved",on:{click:function(e){return t.chnagecurrenttab()}}},[s("div",{staticClass:"icon30"},[s("img",{attrs:{src:a("USt7")}})]),t._v("\n           Archived\n       ")])],2)])],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm9:""}},[s("v-layout",{attrs:{row:"",wrap:"",stickeytop:"",survey_search:""}},[s("v-flex",{attrs:{md4:""}},[s("v-select",{attrs:{items:t.semesters,label:"Semester","item-value":"_id","item-text":"semesterName",multiple:"",solo:""},model:{value:t.searchsemester,callback:function(e){t.searchsemester=e},expression:"searchsemester"}})],1),t._v(" "),s("v-flex",{attrs:{md5:""}},[s("v-text-field",{attrs:{label:"Search...",solo:""},model:{value:t.searchsurvey,callback:function(e){t.searchsurvey=e},expression:"searchsurvey"}})],1),t._v(" "),s("v-flex",{attrs:{md3:""}},[s("div",{staticClass:"customtab_container"},[0==t.activedashboard?s("span",{staticClass:"custom_toogletab active",on:{click:function(e){return t.activeView(0)}}},[t._v("List View ")]):s("span",{staticClass:"custom_toogletab",on:{click:function(e){return t.activeView(0)}}},[t._v("List View ")]),t._v(" "),1==t.activedashboard?s("span",{staticClass:"custom_toogletab active",on:{click:function(e){return t.activeView(1)}}},[t._v("Cover View")]):s("span",{staticClass:"custom_toogletab",on:{click:function(e){return t.activeView(1)}}},[t._v("Cover View")])])])],1),t._v(" "),0==t.getdeleted&&(t.searchsemester.length>0||t.searchsurvey.length>0)?s("searchsurveylist",{attrs:{searchsemester:t.searchsemester,currentuser:t.currentuser,activedashboard:t.activedashboard,searchsurvey:t.searchsurvey}}):1==t.getdeleted?s("deletedsurvey",{attrs:{searchsemester:t.searchsemester,currentuser:t.currentuser,activedashboard:t.activedashboard,searchsurvey:t.searchsurvey}}):null!=t.selectedlistid&&0==t.getdeleted?s("surveylist",{attrs:{searchsemester:t.searchsemester,currentuser:t.currentuser,activedashboard:t.activedashboard,searchsurvey:t.searchsurvey,project:t.selectedlistid}}):t._e()],1)],1)],1):0===t.haveaccess?s("v-container",[s("v-flex",{attrs:{xs12:"","text-center":""}},[s("h1",[t._v("Respondent Dashboard")]),t._v(" "),s("respondentDashboard",{attrs:{userdate:t.userData}})],1)],1):s("v-container",[s("v-flex",{attrs:{xs12:"","text-center":""}},[s("h1",[t._v("Loading...")])])],1)},staticRenderFns:[]},st=a("VU/8")(et,at,!1,null,null,null).exports,it={data:function(){return{email:null,password:null}},created:function(){Bus.$emit("logout"),this.$store.dispatch("logout").then(function(){location.reload()})}},nt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-layout",{attrs:{"align-center":"","justify-center":""}},[e("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[e("h3",[this._v("You are logged out")])])],1)},staticRenderFns:[]},ot=a("VU/8")(it,nt,!1,null,null,null).exports,rt={created:function(){console.log(this.$route.query.token);var t=decodeURIComponent(this.$route.query.token);console.log(t);for(var e=t.split("&"),a=[],s=[],i=0;i<e.length;i++){var n=e[i].match(/\[(.*)\]/);a=e[i].split("=");n.length>=1&&a.length>=1&&(s[n[1]]=window.atob(a[1]))}console.log("allpair- ",s),void 0!=s.email?this.$store.dispatch("gpexlogin",{email:s.email}).then(function(){s.url&&s.url.lastIndexOf("/")<0?location.href="/swl/"+s.url:s.url&&s.url.lastIndexOf("/")>=0?location.href=s.url:location.href="/"}).catch(console.error):void 0!=s.url&&s.url.lastIndexOf("/")<0?location.href="/swtl/"+s.url.replace("/",""):location.href="/"}},ct=a("VU/8")(rt,null,!1,null,null,null).exports,dt={created:function(){var t=this;console.log(this.$route.query.token);var e=JSON.parse(decodeURIComponent(window.atob(this.$route.query.token)));if(Object(V.isObject)(e))if(e.email&&e.sid){var a=window.atob(e.email),s=window.atob(e.sid);this.$store.dispatch("validateshare",{shareid:s,email:a}).then(function(e){console.log("reslut - ",e),e?e.user?e.share.active?(localStorage.setItem("attemptemail",""),location.href="/swl/"+e.share.surveyid):(t.$toast.open({message:"Token expired",type:"error",position:"bottom"}),location.href="/"):e.share.active?(localStorage.setItem("attemptemail",a),location.href="/swtl/"+e.share.surveyid):(t.$toast.open({message:"Token expired",type:"error",position:"bottom"}),location.href="/"):(t.$toast.open({message:"Invalid token",type:"error",position:"bottom"}),location.href="/")}).catch(function(e){t.$toast.open({message:j()(e),type:"error",position:"bottom"})})}else this.$toast.open({message:"Invalid token",type:"error",position:"bottom"});else this.$toast.open({message:"Invalid token",type:"error",position:"bottom"})}},lt=a("VU/8")(dt,null,!1,null,null,null).exports,ut=new Date,pt=localStorage.username,vt={data:function(){return{projectname:null,currentuser:null,groups:[],group:null,roles:[],role:null,errors:[]}},methods:{createProject:function(){var t=this;o.a.post("/createproject",{projectname:this.projectname,groups:this.group,roles:this.role,createdby:this.currentuser,createddate:ut}).then(function(e){t.$router.push("/projectlist")}).catch(function(e){t.errors.push(e)})},clear:function(){this.projectname="",this.groups=null,this.$router.push("/")}},created:function(){var t=this;o.a.post("/getcurrentuser",{username:pt}).then(function(e){t.currentuser=e.data._id}).catch(function(e){t.errors.push(e)}),o.a.get("/getgroups").then(function(e){t.groups=e.data}).catch(function(e){t.errors.push(e)}),o.a.get("/getroles").then(function(e){t.roles=e.data}).catch(function(e){t.errors.push(e)})}},ht={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("h2",[t._v("Add Project")])])],1),t._v(" "),a("form",[a("v-layout",[a("v-text-field",{attrs:{label:"Project Name",required:""},model:{value:t.projectname,callback:function(e){t.projectname=e},expression:"projectname"}})],1),t._v(" "),a("v-layout",[a("v-select",{attrs:{items:t.groups,name:"group",label:"Select a Group","item-text":"groupname","item-value":"_id",multiple:""},model:{value:t.group,callback:function(e){t.group=e},expression:"group"}})],1),t._v(" "),a("v-layout",[a("v-select",{attrs:{items:t.roles,name:"role",label:"Select a Role","item-text":"roletitle","item-value":"_id",multiple:""},model:{value:t.role,callback:function(e){t.role=e},expression:"role"}})],1),t._v(" "),a("v-layout",[a("button",{staticClass:"exportbutton",attrs:{type:"button"},on:{click:t.createProject}},[t._v("Add")]),t._v(" "),a("button",{staticClass:"exportbutton",attrs:{type:"button"},on:{click:t.clear}},[t._v("Cancel")])])],1)],1)},staticRenderFns:[]},mt=a("VU/8")(vt,ht,!1,null,null,null).exports,ft=new Date,gt=localStorage.username,yt={data:function(){return{currentuser:null,projects:[],project:null,surveyname:null,allsemesters:[],semester:null,errors:[]}},methods:{createSurvey:function(){var t=this,e="";this.surveyname||(e="Survey name required"),this.project||(e+=" Project required"),e.length>0?this.$toast.open({message:e,position:"top",type:"error"}):o.a.post("/createsurvey",{surveyname:this.surveyname,category:this.project,semester:this.semester,createdby:this.currentuser,createddate:ft}).then(function(e){200==e.data.code?t.$router.push("/builder/"+e.data.data._id):t.$toast.open({message:e.message,position:"top",type:"error"})}).catch(function(e){t.$toast.open({message:"Failed",position:"top",type:"error"})})},clear:function(){this.surveyname="",this.project=null,this.$router.push("/")}},created:function(){var t=this;o.a.post("/getcurrentuser",{username:gt}).then(function(e){t.currentuser=e.data._id}).catch(function(e){t.errors.push(e)}),o.a.get("/getprojects").then(function(e){t.projects=e.data}).catch(function(e){t.errors.push(e)}),o.a.post("/getsemesters").then(function(e){t.allsemesters=e.data}).catch(function(e){t.errors.push(e)})}},_t={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("h2",[t._v("Add Survey")])])],1),t._v(" "),a("v-layout",[a("v-text-field",{attrs:{label:"Survey Name",required:""},model:{value:t.surveyname,callback:function(e){t.surveyname=e},expression:"surveyname"}})],1),t._v(" "),a("v-layout",[a("v-select",{attrs:{items:t.projects,name:"project",label:"Select a Project","item-value":"_id","item-text":"projectname"},model:{value:t.project,callback:function(e){t.project=e},expression:"project"}})],1),t._v(" "),a("v-layout",[a("v-select",{attrs:{items:t.allsemesters,label:"Select Semester","item-value":"_id","item-text":"semesterName"},model:{value:t.semester,callback:function(e){t.semester=e},expression:"semester"}})],1),t._v(" "),a("v-layout",[a("v-btn",{on:{click:t.createSurvey}},[t._v("Add")]),t._v(" "),a("v-btn",{on:{click:t.clear}},[t._v("Cancel")])],1)],1)},staticRenderFns:[]},xt=a("VU/8")(yt,_t,!1,null,null,null).exports,bt=(new Date,localStorage.username,{props:["uid","utype"],data:function(){return{user:null,errors:[]}},methods:{},created:function(){var t=this;o.a.post("/getuserbyid",{userid:this.uid}).then(function(e){t.user=e.data.user})}}),qt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return"span_nameonly"==t.utype&&null!=t.user?a("span",[t._v("\n  "+t._s(t.user.firstname)+" "+t._s(t.user.lastname)+"\n")]):t._e()},staticRenderFns:[]},wt=a("VU/8")(bt,qt,!1,null,null,null).exports,Ct=localStorage.username,Mt=new Date,It=a("NCci"),kt={components:{userdetailssnipt:wt},data:function(){return{registrars:[],users:[],search:"",headers:[{text:"Slno",align:"left",value:"slno"},{text:"Group Name",value:"groupname"},{text:"Members",value:"groupmemmbers"},{text:"",sortable:!1},{text:"",sortable:!1}],errors:[],currentuser:null,groupname:null,registrar:null,groups:[],pagination:{rowsPerPage:100}}},methods:{deletegroup:function(t){var e=this;o.a.post("/deletegroup",{groupid:t}).then(function(t){1==t.data.n?(e.getgroups(),e.$toast.open({message:"Group deleted successfully",position:"top",type:"success"})):e.$toast.open({message:"Failed to delete group",position:"top",type:"error"})}).catch(function(t){e.$toast.open({message:"Failed to delete group",position:"top",type:"error"})})},createGroup:function(){var t=this,e="";this.groupname||(e="Group name required"),this.registrar.length<=0&&(e+="Atleast one user is required"),e.length>0?this.$toast.open({message:e,position:"top",type:"error"}):o.a.post("/creategroup",{groupname:this.groupname,members:this.registrar,createdby:this.currentuser,createddate:Mt}).then(function(e){t.getgroups(),t.$toast.open({message:"Group created successfully",position:"top",type:"success"})}).catch(function(e){t.$toast.open({message:"Failed to create group",position:"top",type:"error"})})},clear:function(){this.projectname="",this.groups=null,this.$router.push("/")},getgroups:function(){var t=this;o.a.get("/getgroups").then(function(e){t.groups=e.data}).catch(function(e){t.errors.push(e)})}},created:function(){var t=this;o.a.post("/getcurrentuser",{username:Ct}).then(function(e){t.currentuser=e.data._id,It.is_roleassigned(e.data.roles,"1")?console.log("have access"):(console.log("don't have access"),t.$router.push("/"))}).catch(function(e){t.errors.push(e)}),o.a.get("/getusers").then(function(e){t.registrars=e.data}).catch(function(e){t.errors.push(e)}),this.getgroups()}},jt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs12:""}},[s("h2",[t._v("Create Group")])])],1),t._v(" "),s("v-layout",[s("v-text-field",{attrs:{label:"Group Name",required:""},model:{value:t.groupname,callback:function(e){t.groupname=e},expression:"groupname"}})],1),t._v(" "),s("v-layout",[s("v-select",{attrs:{items:t.registrars,name:"registrar",label:"Select a username","item-text":"firstname","item-value":"_id",multiple:""},model:{value:t.registrar,callback:function(e){t.registrar=e},expression:"registrar"}})],1),t._v(" "),s("v-layout",[s("button",{staticClass:"exportbutton",on:{click:t.createGroup}},[t._v("Add")]),t._v(" "),s("button",{staticClass:"exportbutton",on:{click:t.clear}},[t._v("Cancel")])]),t._v(" "),s("v-layout",[s("v-container",[s("v-card",[s("v-card-title",[t._v("Group list"),s("v-spacer"),s("v-text-field",{staticClass:"datatable_search",attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),s("v-data-table",{attrs:{headers:t.headers,items:t.groups,search:t.search,"rows-per-page-items":[50,100,150],pagination:t.pagination},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.index+1))]),t._v(" "),s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.groupname)+" ")]),t._v(" "),s("td",[null!=e.item.groupmemmbers&&""!=e.item.groupmemmbers?t._l(e.item.groupmemmbers.split(","),function(t){return s("userdetailssnipt",{key:t,attrs:{utype:"span_nameonly",uid:t}})}):t._e()],2),t._v(" "),s("td",[s("a",{attrs:{href:"/editgroup/"+e.item._id}},[t._v("edit")])]),t._v(" "),s("td",[s("v-btn",{staticClass:"btn-extrasmall",on:{click:function(a){return t.deletegroup(e.item._id)}}},[s("img",{staticClass:"deletequestion",attrs:{src:a("yJyA")}})])],1)]}}])})],1)],1)],1)],1)},staticRenderFns:[]},Nt=a("VU/8")(kt,jt,!1,null,null,null).exports,Dt=a("Xxa5"),Lt=a.n(Dt),At=a("exGp"),Tt=a.n(At),St={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"question"},[e("div",{staticClass:"question_text",domProps:{innerHTML:this._s(this.questiontext)}})])},staticRenderFns:[]};var Et=a("VU/8")({props:["questiontext","qno"]},St,!1,function(t){a("R1Kz")},null,null).exports,zt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"checkboxtop"},[a("v-checkbox",{attrs:{label:t.choicetext.choicetext},model:{value:t.answer,callback:function(e){t.answer=e},expression:"answer"}})],1)},staticRenderFns:[]};var Ot=a("VU/8")({props:["choicetext","ansno"],data:function(){return{choicetexts:this.choicetext,ansno1:this.ansno,answer:0}}},zt,!1,function(t){a("rieE")},null,null).exports,Yt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-container",{staticClass:"radiobutton"},[e("v-radio",{key:this.qno,attrs:{label:this.choicetext.choicetext,value:this.ansno}})],1)},staticRenderFns:[]};var Ft=a("VU/8")({props:["choicetext","ansno","qno"],data:function(){return{choicetext1:this.choicetext,ansno1:this.ansno,qno1:this.qno}}},Yt,!1,function(t){a("bLoI")},"data-v-501ba4cb",null).exports,Ut={components:{radiobutton:Ft},props:["allchoice","question"],data:function(){return{choices:this.allchoice,answer:null,extrafield:null,radioGroup:null}}},Qt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dropdown-btn",attrs:{id:"dropDownlist"}},[a("v-flex",{staticClass:"noprint",attrs:{xs12:"",sm4:""}},[a("v-select",{attrs:{items:t.choices,label:"Select","item-text":"choicetext"},model:{value:t.answer,callback:function(e){t.answer=e},expression:"answer"}})],1),t._v(" "),a("v-flex",{staticClass:"printonly",attrs:{xs12:"",sm4:""}},[a("v-radio-group",{model:{value:t.radioGroup,callback:function(e){t.radioGroup=e},expression:"radioGroup"}},t._l(t.choices,function(e,s){return a("div",{key:s},[a("radiobutton",{attrs:{choicetext:e,ansno:s,qno:t.questionno}})],1)}),0),t._v(" "),t.question.other?a("div",[a("v-container",{staticClass:"checkboxtop"},[""!=t.question.othertext?a("v-checkbox",{attrs:{label:t.question.othertext},model:{value:t.extrafield,callback:function(e){t.extrafield=e},expression:"extrafield"}}):a("v-checkbox",{attrs:{label:"Other, please specify"},model:{value:t.extrafield,callback:function(e){t.extrafield=e},expression:"extrafield"}})],1)],1):t._e()],1)],1)},staticRenderFns:[]};var $t=a("VU/8")(Ut,Qt,!1,function(t){a("BJri")},"data-v-15d324ce",null).exports,Zt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"textinput"},[e("v-layout",{attrs:{"align-center":""}},[e("v-text-field",{staticClass:"text_input",attrs:{label:"Answer"}})],1)],1)},staticRenderFns:[]};var Rt=a("VU/8")({props:["answertext"]},Zt,!1,function(t){a("1/JB")},"data-v-2833711c",null).exports,Pt={components:{question:Et},props:["alltextinput"],data:function(){return{allinput:this.alltextinput,questionno:this.qno}}},Gt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"multitextinput"},t._l(t.allinput,function(e,s){return a("div",{key:s,staticClass:"textinput"},[a("v-layout",{attrs:{"align-center":""}},[""!=e.choicetext?a("v-text-field",{key:s,attrs:{label:e.choicetext,value:""}}):t._e(),t._v(" "),""==e.choicetext?a("v-text-field",{key:s,attrs:{label:"Answer",value:""}}):t._e()],1)],1)}),0)},staticRenderFns:[]};var Jt=a("VU/8")(Pt,Gt,!1,function(t){a("E3N6")},"data-v-3603e3b6",null).exports,Wt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"scalerating"},[a("v-subheader",{staticClass:"pl-0"},[t._v("Rated:-  "+t._s(t.rating))]),t._v(" "),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",[a("v-slider",{attrs:{label:"0",max:t.ratingdata.length,"thumb-label":"true"},model:{value:t.rating,callback:function(e){t.rating=e},expression:"rating"}})],1),t._v(" "),a("v-flex",{staticStyle:{width:"60px"},attrs:{shrink:""}},[a("v-card-text",[t._v(t._s(t.ratingdata.length))])],1)],1)],1)},staticRenderFns:[]};var Ht=a("VU/8")({props:["ratingdata"],data:function(){return{maxrating:this.ratingdata.length,rating:0}}},Wt,!1,function(t){a("U4NH")},null,null).exports,Bt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-layout",{attrs:{"align-center":""}},[e("textarea",{staticClass:"xs12textarea",attrs:{rows:"8"}})])},staticRenderFns:[]};var Vt=a("VU/8")({props:["textinput"],data:function(){return{textvalue:""}},methods:{changetext:function(t){this.textvalue=t,this.$emit("changeQuestion",this.changetext)}}},Bt,!1,function(t){a("wnCE")},"data-v-22669702",null).exports,Xt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"maskedinput"},[e("v-layout",{attrs:{"align-center":""}},[e("v-text-field",{attrs:{label:"Answer",mask:this.maskedinput}})],1)],1)},staticRenderFns:[]};var Kt=a("VU/8")({props:["maskformat"],computed:{maskedinput:function(){var t="",e=0;for(e=0;e<this.maskformat;e++)t+="#";return t}}},Xt,!1,function(t){a("7kOB")},"data-v-46737f50",null).exports,te=a("X+2x"),ee=a.n(te),ae={props:["ratingdata"],components:{StarRating:ee.a},data:function(){return{maxrating:this.ratingdata.maxrate,rating:0}},computed:{cmaxrate:function(){return parseInt(this.ratingdata.maxrate)}}},se={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"starrating"},[a("star-rating",{attrs:{rating:t.rating,"max-rating":t.cmaxrate,"star-size":"30"},on:{"rating-selected":function(e){t.rating=e}}})],1)},staticRenderFns:[]};var ie=a("VU/8")(ae,se,!1,function(t){a("APNH")},null,null).exports,ne={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"emailinput"},[e("v-text-field",{attrs:{label:"Email: ",mask:this.maskedinput}})],1)},staticRenderFns:[]};var oe=a("VU/8")({data:function(){return{rules:{email:function(t){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)||"Invalid e-mail."}}}}},ne,!1,function(t){a("dibu")},"data-v-6eedf62d",null).exports,re=a("J53H"),ce=a.n(re),de={props:["questiondata"],components:{VueHotelDatepicker:ce.a},data:function(){return{questionpotres:"",selecteddate:null,menu:!1,dateLength:1}},created:function(){this.questiondata.length&&(this.dateLength=parseInt(this.questiondata.length)-1)}},le={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dateinput"},[t.questiondata.npsleft&&t.questiondata.npsright?[a("VueHotelDatepicker",{attrs:{placeholder:"select date range",minDate:t.questiondata.npsleft,maxDate:t.questiondata.npsright,maxNight:t.dateLength},model:{value:t.selecteddate,callback:function(e){t.selecteddate=e},expression:"selecteddate"}})]:[a("v-date-picker",{model:{value:t.selecteddate,callback:function(e){t.selecteddate=e},expression:"selecteddate"}})]],2)},staticRenderFns:[]},ue=a("VU/8")(de,le,!1,null,null,null).exports,pe={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text_contact qtype"},[e("v-flex",{attrs:{xs12:""}},[e("v-text-field",{attrs:{label:"First Name"}})],1),this._v(" "),e("v-flex",{attrs:{xs12:""}},[e("v-text-field",{attrs:{label:"Last Name"}})],1),this._v(" "),e("v-flex",{attrs:{xs12:""}},[e("v-text-field",{attrs:{label:"Email"}})],1),this._v(" "),e("v-flex",{attrs:{xs12:""}},[e("v-text-field",{attrs:{label:"Phone"}})],1),this._v(" "),e("v-flex",{attrs:{xs12:""}},[e("v-text-field",{attrs:{label:"Address..."}})],1)],1)},staticRenderFns:[]},ve=a("VU/8")({props:["contactform"],data:function(){return{questiontext:this.contactform.questiontext}}},pe,!1,null,null,null).exports,he={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"matrizquestion"},[a("table",{staticClass:"table",staticStyle:{"background-color":"transparent"}},[a("tr",[a("td"),t._v(" "),t._l(t.matrixdata.allcols,function(e,s){return a("td",{key:"header"+s,staticClass:"text-center"},[t._v(t._s(e.option))])})],2),t._v(" "),t._l(t.matrixdata.allrows,function(e,s){return a("tr",{key:"qq"+s},[a("th",[t._v(t._s(e.option))]),t._v(" "),t._l(t.matrixdata.allcols,function(i,n){return a("td",{key:"question"+s+n,staticClass:"text-center"},["0"==t.matrixdata.qtype?a("v-radio-group",{staticClass:"matrix_radio",model:{value:e.radioans,callback:function(a){t.$set(e,"radioans",a)},expression:"row.radioans"}},[a("v-radio",{attrs:{value:i.option}})],1):a("v-checkbox",{attrs:{value:i.option},model:{value:e.checkans,callback:function(a){t.$set(e,"checkans",a)},expression:"row.checkans"}})],1)})],2)})],2)])},staticRenderFns:[]},me=a("VU/8")({props:["matrixdata"],data:function(){return{allrows:this.matrixdata.allrows,allcols:this.matrixdata.allcols,ansno1:this.ansno,answer:0}}},he,!1,null,null,null).exports,fe={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"customform"},[a("v-layout",{attrs:{row:"",wrap:""}},t._l(t.formdata,function(e,s){return a("div",{key:"element"+s,class:"flex "+t.getorigwidth(e.width)},[a("div",{staticClass:"Custom_element"},["Number"==e.type?a("v-text-field",{attrs:{label:e.title,mask:"###############"}}):t._e(),t._v(" "),"Text"==e.type?a("v-text-field",{attrs:{label:e.title}}):t._e(),t._v(" "),"Textarea"==e.type?a("v-text-field",{attrs:{label:e.title}}):t._e(),t._v(" "),"Phone"==e.type?a("v-text-field",{attrs:{label:e.title,mask:"phone"}}):t._e(),t._v(" "),"Time"==e.type?a("v-text-field",{attrs:{label:e.title,mask:"time"}}):t._e(),t._v(" "),"Email"==e.type?a("v-text-field",{attrs:{rules:[t.rules.email],label:e.title}}):t._e(),t._v(" "),"textarea"==e.type?a("textarea",{staticClass:"xs12textarea",attrs:{placeholder:""+e.title,rows:"8"}}):t._e()],1)])}),0)],1)},staticRenderFns:[]};var ge=a("VU/8")({props:["customformdata"],data:function(){return{formdata:this.customformdata,rules:{email:function(t){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)||"Invalid e-mail."}}}},methods:{getorigwidth:function(t){var e="xs12";switch(t){case"8.3%":e="xs1";break;case"16.6%":e="xs2";break;case"25%":e="xs3";break;case"33.3%":e="xs4";break;case"41.6%":e="xs5";break;case"50%":e="xs6";break;case"58.3%":e="xs7";break;case"66.6%":e="xs8";break;case"75%":e="xs9";break;case"83.3%":e="xs10";break;case"91.6%":e="xs11";break;case"100%":e="xs12"}return e}}},fe,!1,function(t){a("S1yJ")},"data-v-fec1e8fe",null).exports,ye={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"preview_slider"},[e("v-spacer"),this._v(" "),e("v-carousel",this._l(this.items,function(t,a){return e("v-carousel-item",{key:a,attrs:{src:t.src}})}),1)],1)},staticRenderFns:[]};var _e=a("VU/8")({props:["sliderdata"],data:function(){return{questiontext:this.sliderdata.questiontext,items:this.sliderdata.links}}},ye,!1,function(t){a("LE9e")},"data-v-63906cc4",null).exports,xe={props:["allchoice"],data:function(){return{choices:[],answer:null,allrank:[]}},methods:{mapdata:function(t){var e=this,a=event.srcElement.innerText,s=this.choices[t];this.choices.forEach(function(t,i){t.answer==a&&t._id!=s._id&&(e.choices[i].answer="")})}},created:function(){var t=this,e=1;this.allrank.push(""),this.allchoice.forEach(function(a){t.allrank.push(e),e++,t.choices.push({_id:a._id,questionid:a.questionid,choicestate:a.choicestate,choicetext:a.choicetext,answer:""})})}},be={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Ranking-options"},t._l(t.choices,function(e,s){return a("v-layout",{key:s,staticClass:"rating-row"},[a("v-flex",{attrs:{xs1:""}},[a("v-select",{staticClass:"rankselector",attrs:{items:t.allrank,label:""},on:{change:function(e){return t.mapdata(s)}},model:{value:e.answer,callback:function(a){t.$set(e,"answer",a)},expression:"choice.answer"}})],1),t._v(" "),a("v-flex",{attrs:{xs11:""}},[t._v("\n            "+t._s(e.choicetext)+"\n        ")])],1)}),1)},staticRenderFns:[]},qe=a("VU/8")(xe,be,!1,null,null,null).exports,we=a("A1eF"),Ce=a("sA6N"),Me={props:["pindex","practice"],data:function(){return{isnewemail:!0,isnewphone:!0,isnewfax:!0,isnewwebsite:!0,newemail:[],newphone:[],newfax:[],newwebsite:[],practicedata:null,contactAnswer:"",finalContactData:[],contactData:[],isnewaddress:!1,autocompleteOptions:{componentRestrictions:{country:"au"}},fromregion:"",addressformat:{name:"",state:"",country:"",address:"",mmm:"",gpdivision:"",telephone1:"",addresstype:"",suburb:"",facilitytype:"",trainingprgm:"",emailaddress1:"",postcode:"",addressline1:"",addressline2:"",addressline3:"",rideidentifier:""}}},computed:{google:Ce.gmapApi},methods:{removepractice:function(){this.$emit("removepractice",{index:this.pindex})},addnewphone:function(){this.isnewphone=!1,this.practicedata.phone.push(""),this.isnewphone=!0},removephone:function(t){this.isnewemail=!1,this.practicedata.phone.splice(t,1),this.isnewemail=!0},updatephone:function(t){this.practicedata.phone[t]=this.newphone[t],this.debouncedsendbackdata()},addnewemail:function(){this.isnewemail=!1,this.practicedata.email.push(""),this.isnewemail=!0,console.log(this.practicedata.email)},removeemail:function(t){this.isnewemail=!1,this.practicedata.email.splice(t,1),this.isnewemail=!0},updateemail:function(t){this.practicedata.email[t]=this.newemail[t],this.debouncedsendbackdata()},addnewfax:function(){this.isnewfax=!1,this.practicedata.fax.push(""),this.isnewfax=!0},removefax:function(t){this.isnewfax=!1,this.practicedata.fax.splice(t,1),this.isnewefax=!0},updatefax:function(t){this.practicedata.fax[t]=this.newfax[t],this.debouncedsendbackdata()},addnewwebsite:function(){this.isnewwebsite=!1,this.practicedata.website.push(""),this.isnewwebsite=!0},removewebsite:function(t){this.isnewwebsite=!1,this.practicedata.website.splice(t,1),this.isnewewebsite=!0},updatewebsite:function(t){this.practicedata.website[t]=this.newwebsite[t],this.debouncedsendbackdata()},addnewaddress:function(){this.isnewaddress=!0},removeaddress:function(t){this.isnewaddress=!1,this.practicedata.address.splice(t,1),this.isnewaddress=!0},sendbackdata:function(){console.log("datachanged"),this.$emit("datachanged",{index:this.pindex,data:this.practicedata})},changeregion:function(t){for(var e={},a=0;a<t.address_components.length;a++){var s=t.address_components[a];e[s.types[0]]=s}"country"in e&&(this.addressformat.country=e.country.long_name),"administrative_area_level_1"in e&&(this.addressformat.state=e.administrative_area_level_1.long_name),"postal_code"in e&&(this.addressformat.postcode=e.postal_code.long_name),"administrative_area_level_1"in e&&(this.suburb=e.long_name),"route"in e&&"locality"in e&&"street_number"in e&&(this.addressformat.addressline1=e.street_number.long_name+", "+e.route.long_name+", "+e.locality.long_name),this.addressformat.address=t.formatted_address,this.addressformat.addresstype=t.types[0],this.addressformat.name=this.practicedata.name,this.practicedata.address.push(this.addressformat),this.resetaddress(),this.isnewaddress=!1},resetaddress:function(){this.addressformat={name:"",state:"",country:"",address:"",mmm:"",gpdivision:"",telephone1:"",addresstype:"",suburb:"",facilitytype:"",trainingprgm:"",emailaddress1:"",postcode:"",addressline1:"",addressline2:"",addressline3:"",rideidentifier:""}}},watch:{isnewemail:function(t,e){this.debouncedsendbackdata()},isnewphone:function(t,e){this.debouncedsendbackdata()},isnewaddress:function(t,e){this.debouncedsendbackdata()}},created:function(){this.debouncedsendbackdata=_.debounce(this.sendbackdata,1e3),this.practicedata=this.practice,this.newemail=this.practicedata.email,this.newphone=this.practicedata.phone,this.newfax=this.practicedata.fax,this.newwebsite=this.practicedata.website}},Ie={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"practiceform"},[null!=t.practicedata?[a("v-layout",{staticClass:"practicename"},[a("v-flex",{attrs:{xs10:""}},[a("h2",[t._v(t._s(t.practicedata.name))])]),t._v(" "),a("v-flex",{attrs:{xs2:""}},[a("v-btn",{staticClass:"icon30 delete ",attrs:{depressed:"",fab:""},on:{click:function(e){return t.removepractice()}}},[a("v-icon",[t._v("delete")])],1)],1)],1),t._v(" "),t.isnewemail?a("div",{staticClass:"practicefield"},[t.practicedata.email.length>0?t._l(t.practicedata.email,function(e,s){return a("v-layout",{key:s},[a("v-flex",{attrs:{xs3:""}},[0==s?a("strong",[t._v("Email")]):t._e()]),t._v(" "),a("v-flex",{attrs:{xs5:""}},[a("v-text-field",{on:{input:function(e){return t.updateemail(s)}},model:{value:t.newemail[s],callback:function(e){t.$set(t.newemail,s,e)},expression:"newemail[index]"}})],1),t._v(" "),a("v-flex",{attrs:{xs3:""}},[t.practicedata.email.length>1?a("v-btn",{staticClass:"icon30 delete ",attrs:{depressed:"",fab:""},on:{click:function(e){return t.removeemail(s)}}},[a("v-icon",[t._v("delete")])],1):t._e(),t._v(" "),s==t.practicedata.email.length-1?a("v-btn",{staticClass:"icon30 edit ",attrs:{depressed:"",fab:""},on:{click:t.addnewemail}},[a("v-icon",[t._v("add")])],1):t._e()],1)],1)}):[a("v-layout",[a("v-flex",{attrs:{xs3:""}},[a("strong",[t._v("Email")])]),t._v(" "),a("v-flex",{attrs:{xs5:""}}),t._v(" "),a("v-flex",{attrs:{xs3:""}},[a("v-btn",{staticClass:"icon30 edit ",attrs:{depressed:"",fab:""},on:{click:t.addnewemail}},[a("v-icon",[t._v("add")])],1)],1)],1)]],2):t._e(),t._v(" "),t.isnewphone?a("div",{staticClass:"practicefield"},[t.practicedata.phone.length>0?t._l(t.practicedata.phone,function(e,s){return a("v-layout",{key:s},[a("v-flex",{attrs:{xs3:""}},[0==s?a("strong",[t._v("Phone")]):t._e()]),t._v(" "),a("v-flex",{attrs:{xs5:""}},[a("v-text-field",{on:{input:function(e){return t.updatephone(s)}},model:{value:t.newphone[s],callback:function(e){t.$set(t.newphone,s,e)},expression:"newphone[index]"}})],1),t._v(" "),a("v-flex",{attrs:{xs3:""}},[t.practicedata.phone.length>1?a("v-btn",{staticClass:"icon30 delete ",attrs:{depressed:"",fab:""},on:{click:function(e){return t.removephone(s)}}},[a("v-icon",[t._v("delete")])],1):t._e(),t._v(" "),s==t.practicedata.phone.length-1?a("v-btn",{staticClass:"icon30 edit ",attrs:{depressed:"",fab:""},on:{click:t.addnewphone}},[a("v-icon",[t._v("add")])],1):t._e()],1)],1)}):[a("v-layout",[a("v-flex",{attrs:{xs3:""}},[a("strong",[t._v("Phone")])]),t._v(" "),a("v-flex",{attrs:{xs5:""}}),t._v(" "),a("v-flex",{attrs:{xs3:""}},[a("v-btn",{staticClass:"icon30 edit ",attrs:{depressed:"",fab:""},on:{click:t.addnewphone}},[a("v-icon",[t._v("add")])],1)],1)],1)]],2):t._e(),t._v(" "),t.isnewfax?a("div",{staticClass:"practicefield"},[t.practicedata.fax.length>0?t._l(t.practicedata.fax,function(e,s){return a("v-layout",{key:s},[a("v-flex",{attrs:{xs3:""}},[0==s?a("strong",[t._v("Fax")]):t._e()]),t._v(" "),a("v-flex",{attrs:{xs5:""}},[a("v-text-field",{on:{input:function(e){return t.updatefax(s)}},model:{value:t.newfax[s],callback:function(e){t.$set(t.newfax,s,e)},expression:"newfax[index]"}})],1),t._v(" "),a("v-flex",{attrs:{xs3:""}},[t.practicedata.fax.length>1?a("v-btn",{staticClass:"icon30 delete ",attrs:{depressed:"",fab:""},on:{click:function(e){return t.removefax(s)}}},[a("v-icon",[t._v("delete")])],1):t._e(),t._v(" "),s==t.practicedata.fax.length-1?a("v-btn",{staticClass:"icon30 edit ",attrs:{depressed:"",fab:""},on:{click:t.addnewfax}},[a("v-icon",[t._v("add")])],1):t._e()],1)],1)}):[a("v-layout",[a("v-flex",{attrs:{xs3:""}},[a("strong",[t._v("Fax")])]),t._v(" "),a("v-flex",{attrs:{xs5:""}}),t._v(" "),a("v-flex",{attrs:{xs3:""}},[a("v-btn",{staticClass:"icon30 edit ",attrs:{depressed:"",fab:""},on:{click:t.addnewfax}},[a("v-icon",[t._v("add")])],1)],1)],1)]],2):t._e(),t._v(" "),t.isnewwebsite?a("div",{staticClass:"practicefield"},[t.practicedata.website.length>0?t._l(t.practicedata.website,function(e,s){return a("v-layout",{key:s},[a("v-flex",{attrs:{xs3:""}},[0==s?a("strong",[t._v("Website")]):t._e()]),t._v(" "),a("v-flex",{attrs:{xs5:""}},[a("v-text-field",{on:{input:function(e){return t.updatewebsite(s)}},model:{value:t.newwebsite[s],callback:function(e){t.$set(t.newwebsite,s,e)},expression:"newwebsite[index]"}})],1),t._v(" "),a("v-flex",{attrs:{xs3:""}},[t.practicedata.website.length>1?a("v-btn",{staticClass:"icon30 delete ",attrs:{depressed:"",fab:""},on:{click:function(e){return t.removewebsite(s)}}},[a("v-icon",[t._v("delete")])],1):t._e(),t._v(" "),s==t.practicedata.website.length-1?a("v-btn",{staticClass:"icon30 edit ",attrs:{depressed:"",fab:""},on:{click:t.addnewewebsite}},[a("v-icon",[t._v("add")])],1):t._e()],1)],1)}):[a("v-layout",[a("v-flex",{attrs:{xs3:""}},[a("strong",[t._v("Website")])]),t._v(" "),a("v-flex",{attrs:{xs5:""}}),t._v(" "),a("v-flex",{attrs:{xs3:""}},[a("v-btn",{staticClass:"icon30 edit ",attrs:{depressed:"",fab:""},on:{click:t.addnewwebsite}},[a("v-icon",[t._v("add")])],1)],1)],1)]],2):t._e(),t._v(" "),a("div",{staticClass:"practicefield"},[t.practicedata.address.length>0?t._l(t.practicedata.address,function(e,s){return a("v-layout",{key:s,staticClass:"addressfiled"},[a("v-flex",{attrs:{xs3:""}},[a("strong",[t._v("Address"+t._s(s+1))])]),t._v(" "),a("v-flex",{attrs:{xs5:""}},[e.addressline1?a("v-text-field",{on:{input:t.debouncedsendbackdata},model:{value:e.addressline1,callback:function(a){t.$set(e,"addressline1",a)},expression:"item.addressline1"}}):t._e(),t._v(" "),e.addressline2?a("v-text-field",{on:{input:t.debouncedsendbackdata},model:{value:e.addressline2,callback:function(a){t.$set(e,"addressline2",a)},expression:"item.addressline2"}}):t._e(),t._v(" "),e.addressline3?a("v-text-field",{on:{input:t.debouncedsendbackdata},model:{value:e.addressline3,callback:function(a){t.$set(e,"addressline3",a)},expression:"item.addressline3"}}):t._e(),t._v(" "),e.suburb?a("v-text-field",{on:{input:t.debouncedsendbackdata},model:{value:e.suburb,callback:function(a){t.$set(e,"suburb",a)},expression:"item.suburb"}}):t._e(),t._v(" "),e.state?a("v-text-field",{on:{input:t.debouncedsendbackdata},model:{value:e.state,callback:function(a){t.$set(e,"state",a)},expression:"item.state"}}):t._e(),t._v(" "),e.country?a("v-text-field",{on:{input:t.debouncedsendbackdata},model:{value:e.country,callback:function(a){t.$set(e,"country",a)},expression:"item.country"}}):t._e(),t._v(" "),e.postcode?a("v-text-field",{on:{input:t.debouncedsendbackdata},model:{value:e.postcode,callback:function(a){t.$set(e,"postcode",a)},expression:"item.postcode"}}):t._e()],1),t._v(" "),a("v-flex",{attrs:{xs3:""}},[t.practicedata.address.length>1?a("v-btn",{staticClass:"icon30 delete ",attrs:{depressed:"",fab:""},on:{click:function(e){return t.removeaddress(s)}}},[a("v-icon",[t._v("delete")])],1):t._e(),t._v(" "),s==t.practicedata.address.length-1?a("v-btn",{staticClass:"icon30 edit ",attrs:{depressed:"",fab:""},on:{click:t.addnewaddress}},[a("v-icon",[t._v("add")])],1):t._e()],1)],1)}):t._e(),t._v(" "),1==t.isnewaddress||0==t.practicedata.address.length?[a("v-layout",[a("v-flex",{attrs:{xs3:""}},[a("strong",[t._v("Address")])]),t._v(" "),a("v-flex",{attrs:{xs5:""}},[t.isnewaddress?a("gmap-autocomplete",{staticClass:"suburbsearch ",attrs:{id:"el-input__inner"+t.pindex,placeholder:"Search",options:t.autocompleteOptions,value:t.fromregion},on:{place_changed:t.changeregion}}):t._e()],1),t._v(" "),a("v-flex",{attrs:{xs3:""}},[a("v-btn",{staticClass:"icon30 edit ",attrs:{depressed:"",fab:""},on:{click:t.addnewaddress}},[a("v-icon",[t._v("add")])],1)],1)],1)]:t._e()],2),t._v(" "),a("div",{staticClass:"practicefield"},[a("v-layout",[a("v-flex",{attrs:{xs3:""}},[a("strong",[t._v("Accreditation")])]),t._v(" "),a("v-flex",{attrs:{xs4:""}},[t._v("Start Date: "),t.practicedata.accreditian?[t._v(t._s(t.practicedata.accreditian.gpex_accreditationdatefrom))]:t._e()],2),t._v(" "),a("v-flex",{attrs:{xs4:""}},[t._v("End Date: "),t.practicedata.accreditian?[t._v(t._s(t.practicedata.accreditian.gpex_accreditationdateto))]:t._e()],2)],1)],1)]:t._e()],2)},staticRenderFns:[]},ke=a("VU/8")(Me,Ie,!1,null,null,null).exports,je={props:["question"],components:{ModelListSelect:we.ModelListSelect,practice:ke},data:function(){return{thisquestion:this.question,contactInfoData:[],contactAnswer:"",finalContactData:[],contactData:[],showCard:!1,questionpotres:"",finalAnswer:[],addressformat:{name:"",state:"",country:"",address:"",mmm:"",gpdivision:"",telephone1:"",addresstype:"",suburb:"",facilitytype:"",trainingprgm:"",emailaddress1:"",postcode:"",addressline1:"",addressline2:"",addressline3:"",rideidentifier:""}}},methods:{updateserveranswer:function(){},practiceupdated:function(t){this.contactData[t.index]=t.data,this.updateserveranswer()},removepractice:function(t){this.contactData.splice(t,1),this.updateserveranswer()},changequestionselection:function(){var t=this;return Tt()(Lt.a.mark(function e(){var a,s;return Lt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.contactInfoData.findIndex(function(e){return e.id==t.contactAnswer}),e.next=3,t.contactInfoData[a];case 3:(s=e.sent).email=[s.emailaddress1],s.fax=[],s.website=[],s.phone=t.getallphone(s.addressdata,[]),s.address=t.getalladdress(s.addressdata,[]),s.employee=[],console.log(s),t.contactData.push(s),t.updateserveranswer();case 13:case"end":return e.stop()}},e,t)}))()},getallphone:function(t,e){return Array.isArray(t)&&t.forEach(function(t){t.telephone1&&!e.includes(t.telephone1)&&e.push(t.telephone1)}),e},getalladdress:function(t,e){var a=this;return Array.isArray(t)&&t.forEach(function(t){t.name&&(a.addressformat.name=t.name),a.addressformat.state=a.getgpexname(t.state),a.addressformat.address=a.getgpexname(t.address),a.addressformat.country=a.getgpexname(t.country),a.addressformat.mmm=t.gpex_mmm,a.addressformat.gpdivision=a.getgpexname(t.gpdivision),a.addressformat.telephone1=t.telephone1,a.addressformat.addresstype=a.getgpexname(t.addresstype),a.addressformat.suburb=t.gpex_suburb,a.addressformat.facilitytype=a.getgpexname(t.facilitytype),a.addressformat.trainingprgm=a.getgpexname(t.trainingprgm),a.addressformat.emailaddress1=t.emailaddress1,a.addressformat.postcode=t.gpex_postcode,a.addressformat.addressline1=t.gpex_addressline1,a.addressformat.addressline2=t.gpex_addressline2,a.addressformat.addressline3=t.gpex_addressline3,a.addressformat.rideidentifier=t.gpex_rideidentifier,e.push(a.addressformat),a.resetaddress()}),e},getgpexname:function(t){var e=[];return t.length>0&&t.forEach(function(t){e.push(t.gpex_name)}),e.join(", ")},removeElement:function(t){this.contactData.splice(t,1)},resetaddress:function(){this.addressformat={name:"",state:"",country:"",address:"",mmm:"",gpdivision:"",telephone1:"",addresstype:"",suburb:"",facilitytype:"",trainingprgm:"",emailaddress1:"",postcode:"",addressline1:"",addressline2:"",addressline3:"",rideidentifier:""}}},created:function(){var t=this;window.surveyattemptid;axios.post("/contactinfo").then(function(e){t.contactInfoData=JSON.parse(e.data.data)}).catch(function(t){console.log("ERROR >>> ",t)})}},Ne={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("model-list-select",{attrs:{list:t.contactInfoData,"option-value":"id","option-text":"name",placeholder:"select"},on:{input:t.changequestionselection},model:{value:t.contactAnswer,callback:function(e){t.contactAnswer=e},expression:"contactAnswer"}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.questionpotres,expression:"questionpotres"}],attrs:{type:"hidden"},domProps:{value:t.questionpotres},on:{input:function(e){e.target.composing||(t.questionpotres=e.target.value)}}}),t._v(" "),t._l(t.contactData,function(e,s){return[a("practice",{key:"cinfo"+s,attrs:{pindex:s,practice:e},on:{datachanged:t.practiceupdated,removepractice:t.removepractice}})]})],2)},staticRenderFns:[]},De=a("VU/8")(je,Ne,!1,null,null,null).exports,Le=a("woOf"),Ae=a.n(Le),Te={props:["dataCol","practices","answer","tindex"],data:function(){return{allAnswers:[],selected:-1,finalAnswer:this.answer.finalAnswer,dialog:!1,questionpotres:"",errors:[]}},methods:{saveData:function(){var t=Ae()({},this.allAnswers);console.log(t),this.selected<0?this.finalAnswer.push(t):this.finalAnswer[this.selected]=t,this.allAnswers=[],this.dialog=!1,this.selected=-1,this.debouncedsendbackdata()},removeElement:function(t){this.finalAnswer.splice(t,1)},openEditor:function(t){this.allAnswers=Ae()({},this.finalAnswer[t]),this.dialog=!0,this.selected=t},sendbackdata:function(){this.$emit("datachanged",{index:this.tindex,data:this.finalAnswer})}},created:function(){this.debouncedsendbackdata=_.debounce(this.sendbackdata,1e3)}},Se={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"datatablequestion"},[a("h2",{staticClass:"practicename"},[t._v(t._s(t.answer.practicename))]),t._v(" "),a("table",{staticClass:"dtable table",staticStyle:{"background-color":"transparent"}},[a("tr",{staticClass:"tableheader"},[t._l(t.dataCol.allcols,function(e,s){return a("th",{key:"header"+s,staticClass:"text-center"},[t._v(t._s(e.option))])}),t._v(" "),a("th",{staticClass:"text-center"})],2),t._v(" "),t.finalAnswer.length>0?[t._l(t.finalAnswer,function(e,s){return[a("tr",{key:"datarow"+s,staticClass:"tabledata"},[t._l(t.dataCol.allcols,function(s,i){return a("td",{key:i,staticClass:"text-center"},[t._v(t._s(e[s._id]))])}),t._v(" "),a("td",{staticStyle:{width:"80px"}},[a("v-btn",{staticClass:"icon30 edit ",attrs:{depressed:"",fab:""},on:{click:function(e){return t.openEditor(s)}}},[a("v-icon",[t._v("edit")])],1),t._v(" "),a("v-btn",{staticClass:"icon30 delete ",attrs:{depressed:"",fab:""},on:{click:function(e){return t.removeElement(s)}}},[a("v-icon",[t._v("delete")])],1)],1)],2)]})]:t._e()],2),t._v(" "),a("div",{staticClass:"my-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.questionpotres,expression:"questionpotres"}],attrs:{type:"hidden"},domProps:{value:t.questionpotres},on:{input:function(e){e.target.composing||(t.questionpotres=e.target.value)}}}),t._v(" "),a("v-btn",{staticClass:"icon30  add",attrs:{depressed:"",fab:""},on:{click:function(e){t.dialog=!0}}},[a("v-icon",[t._v("add")])],1)],1),t._v(" "),a("div",{attrs:{justify:"center"}},[a("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[t._v("Editable Profile")]),t._v(" "),a("v-card-text",[a("v-container",[a("div",t._l(t.dataCol.allcols,function(e){return a("div",{key:e._id},[a("div",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{label:e.option,required:""},model:{value:t.allAnswers[e._id],callback:function(a){t.$set(t.allAnswers,e._id,a)},expression:"allAnswers[col._id]"}})],1)])}),0)])],1),t._v(" "),a("v-divider"),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:t.saveData}},[t._v("Save")]),t._v(" "),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.dialog=!1}}},[t._v("Close")])],1)],1)],1)],1)])},staticRenderFns:[]},Ee={components:{dtable:a("VU/8")(Te,Se,!1,null,null,null).exports},props:["question"],data:function(){return{allAnswers:[],allpractice:[],finalAnswer:[],dialog:!1,questionpotres:"",infoconnected:this.question.qtype.length>10?1:0,errors:[],currentanswer:[]}},methods:{getallPractice:function(){var t=this,e=window.surveyattemptid;axios.post("/getattemptanswer",{questionid:this.question.qtype,attemptid:e._id}).then(function(e){e.data.data?e.data.data.answer&&(t.allpractice=JSON.parse(e.data.data.answer),t.getcurrentquestionanswer()):(t.allpractice=[],t.getcurrentquestionanswer())}).catch(function(e){t.errors.push(e)})},getcurrentquestionanswer:function(){var t=this,e=window.surveyattemptid;axios.post("/getattemptanswer",{questionid:this.question._id,attemptid:e._id}).then(function(e){e.data.data&&e.data.data.answer?t.currentanswer=JSON.parse(e.data.data.answer):t.currentanswer=[],t.mergeallanswer()}).catch(function(e){t.errors.push(e)})},mergeallanswer:function(){var t=this;console.log("mergeallanswer- ",this.infoconnected);var e=[];1==this.infoconnected?this.allpractice.forEach(function(a){var s=t.currentanswer.find(function(t){return t.practice==a.id});s?e.push(s):e.push({practice:a.id,practicename:a.name,finalAnswer:[]})}):(console.log("currentanswer- ",this.currentanswer),this.currentanswer.length>0?e[0]=this.currentanswer[0]:e[0]={practice:"",practicename:"",finalAnswer:[]},console.log("allAnswers- ",this.allAnswers)),this.allAnswers=e},tableupdated:function(t){var e=this.allAnswers[t.index];e.finalAnswer=t.data,this.allAnswers[t.index]=e,this.updateserveranswer()},updateserveranswer:function(){}},watch:{allAnswers:function(t,e){console.log("watch allAnswers",this.allAnswers)}},created:function(){this.mergeallanswer()}},ze={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"datatable"},[1==t.infoconnected?[t._l(t.allAnswers,function(e,s){return[a("dtable",{key:"dtable"+s,attrs:{tindex:s,dataCol:t.question,practices:t.allpractice,answer:e},on:{datachanged:t.tableupdated}})]}),t._v(" "),a("h3",[t._v("Question preview is not available for Datatable connected with contact info")])]:t.allAnswers.length>0?[a("dtable",{attrs:{dataCol:t.question,tindex:0,practices:t.allpractice,answer:t.allAnswers[0]},on:{datachanged:t.tableupdated}})]:t._e()],2)},staticRenderFns:[]},Oe=a("VU/8")(Ee,ze,!1,null,null,null).exports,Ye={props:["questiondata","qno"],components:{question:Et,checkbox:Ot,radiobutton:Ft,dropdown:$t,textinput:Rt,multitextinput:Jt,ratescale:Ht,vtextarea:Vt,numberinput:Kt,ratingstars:ie,emailtextbox:oe,dateinput:ue,contactform:ve,slider:_e,matrixquestion:me,customform:ge,ranking:qe,ModelListSelect:we.ModelListSelect,contactInfo:De,dataTable:Oe},data:function(){return{question:null,questionno:this.qno,extrafield:!1,toggle_exclusive:2}},watch:{questionno:function(t,e){},questiondata:function(t,e){return this.questiondata}},computed:{questionfinalimage:function(){return this.questiondata.image.indexOf("://")>0?this.questiondata.image:window.publicfileurl+this.questiondata.image}},created:function(){var t=this;axios.post("/getquestion",{questionid:this.questiondata._id}).then(function(e){t.question=e.data.data,axios.post("/getalllogicjump",{questionid:t.question._id}).then(function(e){t.jumpdata=e.data})})}},Fe={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"finalquestion"},[null!=t.question?a("v-layout",[a("v-flex",{staticClass:"finalquestionindex",attrs:{xs1:""}},["qtypeslider"!=t.question.questiontype?a("span",[t._v(t._s(t.questionno+1)+".")]):t._e()]),t._v(" "),a("v-flex",{attrs:{xs11:"",questionbox:""}},[a("question",{attrs:{questiontext:t.question.questiontext,qno:t.questionno}}),t._v(" "),t.question.imagefirst?[""!=t.question.image&&"1"==t.question.haveimage?a("div",{staticClass:"finalquestionimage"},[a("img",{staticClass:"img-question",attrs:{src:t.questionfinalimage}})]):t._e(),t._v(" "),"1"==t.question.havedescription?a("div",{staticClass:"finalquestiondescription",domProps:{innerHTML:t._s(t.question.description)}}):t._e()]:["1"==t.question.havedescription?a("div",{staticClass:"finalquestiondescription",domProps:{innerHTML:t._s(t.question.description)}}):t._e(),t._v(" "),""!=t.question.image&&"1"==t.question.haveimage?a("div",{staticClass:"finalquestionimage"},[a("img",{staticClass:"img-question",attrs:{src:t.questionfinalimage}})]):t._e()],t._v(" "),"nps"==t.question.questiontype?a("div",{staticClass:"npsquestion"},[a("v-btn-toggle",{model:{value:t.toggle_exclusive,callback:function(e){t.toggle_exclusive=e},expression:"toggle_exclusive"}},[a("v-btn",{staticClass:"npsbtn"},[t._v("0")]),t._v(" "),a("v-btn",{staticClass:"npsbtn"},[t._v("1")]),t._v(" "),a("v-btn",{staticClass:"npsbtn"},[t._v("2")]),t._v(" "),a("v-btn",{staticClass:"npsbtn"},[t._v("3")]),t._v(" "),a("v-btn",{staticClass:"npsbtn"},[t._v("4")]),t._v(" "),a("v-btn",{staticClass:"npsbtn"},[t._v("5")]),t._v(" "),a("v-btn",{staticClass:"npsbtn"},[t._v("6")]),t._v(" "),a("v-btn",{staticClass:"npsbtn"},[t._v("7")]),t._v(" "),a("v-btn",{staticClass:"npsbtn"},[t._v("8")]),t._v(" "),a("v-btn",{staticClass:"npsbtn"},[t._v("9")]),t._v(" "),a("v-btn",{staticClass:"npsbtn"},[t._v("10")])],1),t._v(" "),a("div",{staticClass:"npsscales"},[a("span",{staticClass:"npsscale text-left"},[t._v(t._s(t.question.npsleft))]),t._v(" "),a("span",{staticClass:"npsscale text-middle"},[t._v(t._s(t.question.npsmiddle))]),t._v(" "),a("span",{staticClass:"npsscale text-right"},[t._v(t._s(t.question.npsright))])])],1):"multic"==t.question.questiontype?a("div",{staticClass:"multichoice"},[t._l(t.question.choice,function(t,e){return a("div",{key:e},[a("checkbox",{attrs:{choicetext:t,ansno:e}})],1)}),t._v(" "),t.question.other?a("div",[a("v-container",{staticClass:"checkboxtop"},[""!=t.question.othertext?a("v-checkbox",{attrs:{label:t.question.othertext},model:{value:t.extrafield,callback:function(e){t.extrafield=e},expression:"extrafield"}}):a("v-checkbox",{attrs:{label:"Other, please specify"},model:{value:t.extrafield,callback:function(e){t.extrafield=e},expression:"extrafield"}})],1)],1):t._e(),t._v(" "),t.extrafield?a("div",[a("v-container",{staticClass:"checkboxtop"},[a("v-text-field",{attrs:{label:""}})],1)],1):t._e()],2):t._e(),t._v(" "),"singlec"==t.question.questiontype?a("div",{staticClass:"singlechoice"},[a("v-radio-group",{model:{value:t.radioGroup,callback:function(e){t.radioGroup=e},expression:"radioGroup"}},t._l(t.question.choice,function(e,s){return a("div",{key:s},[a("radiobutton",{attrs:{choicetext:e,ansno:s,qno:t.questionno}})],1)}),0),t._v(" "),t.question.other?a("div",[a("v-container",{staticClass:"checkboxtop"},[""!=t.question.othertext?a("v-checkbox",{attrs:{label:t.question.othertext},model:{value:t.extrafield,callback:function(e){t.extrafield=e},expression:"extrafield"}}):a("v-checkbox",{attrs:{label:"Other, please specify"},model:{value:t.extrafield,callback:function(e){t.extrafield=e},expression:"extrafield"}})],1)],1):t._e(),t._v(" "),t.extrafield?a("div",[a("v-container",{staticClass:"checkboxtop"},[a("v-text-field",{attrs:{label:""}})],1)],1):t._e()],1):t._e(),t._v(" "),"ranking"==t.question.questiontype?a("div",{staticClass:"ranking"},[a("ranking",{attrs:{allchoice:t.question.choice}})],1):t._e(),t._v(" "),"dropdown"==t.question.questiontype?a("div",{staticClass:"drop-down"},[a("dropdown",{attrs:{allchoice:t.question.choice,qno:t.questionno}}),t._v(" "),t.question.other?a("div",[a("v-container",{staticClass:"checkboxtop"},[""!=t.question.othertext?a("v-checkbox",{attrs:{label:t.question.othertext},model:{value:t.extrafield,callback:function(e){t.extrafield=e},expression:"extrafield"}}):a("v-checkbox",{attrs:{label:"Other, please specify"},model:{value:t.extrafield,callback:function(e){t.extrafield=e},expression:"extrafield"}})],1)],1):t._e(),t._v(" "),t.extrafield?a("div",[a("v-container",{staticClass:"checkboxtop"},[a("v-text-field",{attrs:{label:""}})],1)],1):t._e()],1):t._e(),t._v(" "),"multipletext"==t.question.questiontype?a("div",{staticClass:"multipletext"},[a("multitextinput",{attrs:{alltextinput:t.question.choice,qno:t.questionno}})],1):t._e(),t._v(" "),"singletext"==t.question.questiontype?a("div",{staticClass:"singletext"},[a("textinput",{attrs:{textinput:t.question.answertext,qno:t.questionno}})],1):t._e(),t._v(" "),"commenttext"==t.question.questiontype?a("div",{staticClass:"commenttext"},[a("vtextarea",{attrs:{textinput:t.question.answertext,qno:t.questionno}})],1):t._e(),t._v(" "),"numbertext"==t.question.questiontype?a("div",{staticClass:"numbertext"},[a("numberinput",{attrs:{maskformat:t.question.maskformat,qno:t.questionno}})],1):t._e(),t._v(" "),"ratescal"==t.question.questiontype?a("div",{staticClass:"ratescal"},[a("ratescale",{attrs:{ratingdata:t.question}})],1):t._e(),t._v(" "),"ratestars"==t.question.questiontype?a("div",{staticClass:"ratestars"},[a("ratingstars",{attrs:{ratingdata:t.question}})],1):t._e(),t._v(" "),"emailtext"==t.question.questiontype?a("div",{staticClass:"ratestars"},[a("emailtextbox")],1):t._e(),t._v(" "),"qtypedatetime"==t.question.questiontype?a("div",{staticClass:"qtypedatetime"},[a("dateinput",{attrs:{questiondata:t.question}})],1):t._e(),t._v(" "),"contacttext"==t.question.questiontype?a("div",{staticClass:"contacttext"},[a("contactform",{attrs:{contactform:t.question}})],1):t._e(),t._v(" "),"qtypeslider"==t.question.questiontype?a("div",{staticClass:"qtypeslider"},[a("slider",{attrs:{sliderdata:t.question}})],1):t._e(),t._v(" "),"matrixquestion"==t.question.questiontype?a("div",{staticClass:"matrixquestion"},[a("matrixquestion",{attrs:{matrixdata:t.question}})],1):t._e(),t._v(" "),"customform"==t.question.questiontype?a("div",{staticClass:"customform"},[a("customform",{attrs:{customformdata:t.question.customformdata}})],1):t._e(),t._v(" "),"fileupload"==t.question.questiontype?a("div",{staticClass:"fileupload"},[a("form",{staticClass:"form_dropzone",attrs:{enctype:"multipart/form-data"}},[a("div",{staticClass:"dropzone"},[a("div",[a("input",{ref:"file",staticClass:"file-upload-input",attrs:{type:"file"}}),t._v(" "),a("p",{staticClass:"call-to-action"},[t._v("Drag your file here")])])])])]):t._e(),t._v(" "),"contactInfo"==t.question.questiontype?a("div",{staticClass:"fileuploadtype"},[a("contactInfo",{attrs:{question:t.question}})],1):t._e(),t._v(" "),"dataTable"==t.question.questiontype?a("div",{staticClass:"fileuploadtype"},[a("dataTable",{attrs:{question:t.question}})],1):t._e(),t._v(" "),1==t.question.havecomment?a("div",[""!=t.question.commenttext?a("div",{},[a("label",[t._v(t._s(t.question.commenttext))]),t._v(" "),a("textarea",{staticClass:"xs12textarea resize"})]):a("div",{},[a("label",[t._v("Enter comment here")]),t._v(" "),a("textarea",{staticClass:"xs12textarea resize"})])]):t._e()],2)],1):t._e()],1)},staticRenderFns:[]};var Ue=a("VU/8")(Ye,Fe,!1,function(t){a("7kBt"),a("0dwZ")},"data-v-12c80b29",null).exports,Qe={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-layout",[e("v-flex",{staticClass:"finalquestionindex",attrs:{xs1:""}}),this._v(" "),e("v-flex",{attrs:{xs11:"",questionbox:""}},[e("h2",{staticClass:"section-heading no-background"},[e("span",[this._v(" "+this._s(this.sectiondata.questiontext))])])])],1)},staticRenderFns:[]};var $e=a("VU/8")({props:["sectiondata"]},Qe,!1,function(t){a("zrJ9")},"data-v-2b7419e5",null).exports,Ze=a("J9lC"),Re={props:["qtypedata"],data:function(){return{id:this.qtypedata._id,questiontext:this.qtypedata.questiontext,questiondesc:this.qtypedata.description,options:this.qtypedata.choice,required:!1}},methods:{editorInit:function(){this.$refs.tincyeditor.editor.setContent(this.questiondesc)},updateHaveImage:function(t){console.log(t),Ze.updateHaveImage(this.id,t)?(console.log("Updated"),this.qtypedata.haveimage=t):console.log("Failed")},changerequired:function(){var t=this,e="1";0==this.required&&(e="0"),axios.post("/updatequestionrequired",{questionid:this.id,required:e}).then(function(a){console.log(a),t.qtypedata.required=e}).catch(function(e){t.errors.push(e)})},checkrequired:function(){"1"==this.qtypedata.required&&(this.required=!0)},addDescription:function(){var t=this;axios.post("/updatehavedescription",{questionid:this.id,havedesc:"1"}).then(function(e){t.qtypedata.havedescription="1"}).catch(function(e){t.errors.push(e)})},removeDescription:function(){var t=this;axios.post("/updatehavedescription",{questionid:this.id,havedesc:"0"}).then(function(e){t.qtypedata.havedescription="0"}).catch(function(e){t.errors.push(e)})},addQuestionHaveImage:function(){var t=this;axios.post("/updatehaveimage",{questionid:this.id,haveimage:"1"}).then(function(e){t.qtypedata.haveimage="1"}).catch(function(e){t.errors.push(e)})},removeQuestionHaveImage:function(){var t=this;axios.post("/updatehaveimage",{questionid:this.id,haveimage:"0"}).then(function(e){t.qtypedata.haveimage="0"}).catch(function(e){t.errors.push(e)})},deleteChoice:function(t){var e=this,a=this.options[t]._id;axios.post("/deleteoptions",{optionid:a}).then(function(a){1==a.data.n&&(e.options.splice(t,1),e.$emit("deleteChoice",e.options))}).catch(function(t){e.errors.push(t)})},addChoice:function(){var t=this;axios.post("/addoptions",{questionid:this.id,choicestate:"0",choicetext:""}).then(function(e){1==e.data.status&&(t.options.push(e.data.result),t.$emit("addChoice",t.options))}).catch(function(e){t.errors.push(e)})},changeQuestion:function(t){this.questiontext=t},updateQuestion:function(){var t=this,e=this.id,a=this.questiontext;axios.post("/updatequestion",{questionid:e,questiontext:a}).then(function(t){}).catch(function(e){t.errors.push(e)})},changeDescription:function(t){this.questiondesc=t},updateDescription:function(){var t=this,e=this.id,a=this.questiondesc;axios.post("/updatedescription",{questionid:e,desctext:a}).then(function(t){}).catch(function(e){t.errors.push(e)})},changeChoicetext:function(t){this.options[t].choicetext=event.target.value,this.debouncedUpdateOptions()},updateallChoicetext:function(){var t=this,e=(this.id,this.options);axios.post("/updatequestionoption",{alloption:e}).then(function(t){}).catch(function(e){t.errors.push(e)})},sendImageFile:function(){var t=this;return Tt()(Lt.a.mark(function e(){var a,s,i;return Lt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.$refs.file.files[0],console.log(a),(s=new FormData).append("file",a),e.prev=4,e.next=7,axios.post("/upload",s);case 7:i=e.sent,axios.post("/updatequestionimage",{questionid:t.id,image:i.data.file}).then(function(e){t.qtypedata.image=i.data.file}).catch(function(e){t.errors.push(e)}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),t.message=e.t0.response.data.error,t.error=!0;case 15:case"end":return e.stop()}},e,t,[[4,11]])}))()}},watch:{questiontext:function(t,e){this.debouncedUpdateQuestion()},questiondesc:function(t,e){this.debouncedUpdateDescription()}},created:function(){this.debouncedUpdateQuestion=_.debounce(this.updateQuestion,500),this.debouncedUpdateDescription=_.debounce(this.updateDescription,500),this.debouncedUpdateOptions=_.debounce(this.updateallChoicetext,500),this.checkrequired()},computed:{questionfinalimage:function(){return window.publicfileurl+this.qtypedata.image}}},Pe={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"multichoice_question qtype"},[s("div",{staticClass:"multichoice_option"},[s("v-text-field",{attrs:{label:"Type Question here...",required:""},on:{input:t.changeQuestion},model:{value:t.qtypedata.questiontext,callback:function(e){t.$set(t.qtypedata,"questiontext",e)},expression:"qtypedata.questiontext"}}),t._v(" "),""!=t.qtypedata.image&&"1"==t.qtypedata.haveimage?s("div",{staticClass:"questionimagepreview"},[s("img",{staticClass:"img-question",attrs:{src:t.questionfinalimage}})]):t._e(),t._v(" "),"1"==t.qtypedata.havedescription?s("div",{staticClass:"tobedeletedesc"},[s("button",{staticClass:"btn-absolute right top",on:{click:function(e){return t.removeDescription()}}},[s("img",{staticClass:"deletequestion",attrs:{src:a("yJyA")}})]),t._v(" "),s("div",{staticClass:"editorinput-conatiner"},[s("div",{staticClass:"editorinput-title"},[t._v("Description: ")]),t._v(" "),s("tinymce",{ref:"tincyeditor",attrs:{id:"editor_"+t.qtypedata._id},on:{input:t.changeDescription,editorInit:t.editorInit},model:{value:t.qtypedata.description,callback:function(e){t.$set(t.qtypedata,"description",e)},expression:"qtypedata.description"}})],1)]):t._e(),t._v(" "),"1"==t.qtypedata.haveimage?s("div",{staticClass:"questionimage"},[s("button",{staticClass:"btn-absolute extreme-right top ",on:{click:function(e){return t.removeQuestionHaveImage()}}},[s("img",{staticClass:"deletequestion",attrs:{src:a("yJyA")}})]),t._v(" "),s("form",{staticClass:"form_dropzone",attrs:{enctype:"multipart/form-data"}},[s("div",{staticClass:"dropzone"},[s("div",[s("input",{ref:"file",staticClass:"file-upload-input",attrs:{type:"file"},on:{change:t.sendImageFile}}),t._v(" "),s("p",{staticClass:"call-to-action"},[t._v("Drag your file here")]),t._v(" "),""!=t.qtypedata.image?s("p",{},[t._v(t._s(t.qtypedata.image))]):t._e()])])])]):t._e(),t._v(" "),t._l(t.qtypedata.choice,function(e,i){return s("div",{key:i,staticClass:"tobedelete"},[s("v-btn",{staticClass:"btn-extrasmall",attrs:{fab:""},on:{click:function(e){return t.deleteChoice(i)}}},[s("img",{staticClass:"deletequestion",attrs:{src:a("yJyA")}})]),t._v(" "),s("v-layout",{attrs:{"align-center":""}},[s("v-checkbox",{staticClass:"shrink mr-2",attrs:{model:e.choicestate,"hide-details":""}}),t._v(" "),s("v-text-field",{key:i,attrs:{label:"Option "+(i+1)},on:{input:function(e){return t.changeChoicetext(i)}},model:{value:e.choicetext,callback:function(a){t.$set(e,"choicetext",a)},expression:"choice.choicetext"}})],1)],1)})],2),t._v(" "),s("div",{staticClass:"que_bottom_btns"},[s("v-chip",{staticClass:"addchip",on:{click:function(e){return t.addChoice()}}},[s("v-avatar",[s("v-icon",[t._v("add_circle_outline")])],1),t._v("Add choice")],1),t._v(" "),s("v-chip",{staticClass:"addchip",on:{click:function(e){return t.addDescription()}}},[s("v-avatar",[s("v-icon",[t._v("format_align_left")])],1),t._v("Add Instruction")],1),t._v(" "),s("v-chip",{staticClass:"addchip",on:{click:function(e){return t.addQuestionHaveImage()}}},[s("v-avatar",[s("v-icon",[t._v("image")])],1),t._v("Add Image")],1),t._v(" "),s("v-checkbox",{attrs:{label:"Required"},on:{change:t.changerequired},model:{value:t.required,callback:function(e){t.required=e},expression:"required"}})],1)])},staticRenderFns:[]},Ge=a("VU/8")(Re,Pe,!1,null,null,null).exports,Je={props:["qtypedata"],data:function(){return{id:this.qtypedata._id,questiontext:this.qtypedata.questiontext,questiondesc:this.qtypedata.description,options:this.qtypedata.choice,radiochoose:"",required:!1}},methods:{editorInit:function(){this.$refs.tincyeditor.editor.setContent(this.questiondesc)},addDescription:function(){var t=this;axios.post("/updatehavedescription",{questionid:this.id,havedesc:"1"}).then(function(e){t.qtypedata.havedescription="1"}).catch(function(e){t.errors.push(e)})},removeDescription:function(){var t=this;axios.post("/updatehavedescription",{questionid:this.id,havedesc:"0"}).then(function(e){t.qtypedata.havedescription="0"}).catch(function(e){t.errors.push(e)})},changerequired:function(){var t=this,e="1";0==this.required&&(e="0"),axios.post("/updatequestionrequired",{questionid:this.id,required:e}).then(function(a){console.log(a),t.qtypedata.required=e}).catch(function(e){t.errors.push(e)})},checkrequired:function(){"1"==this.qtypedata.required&&(this.required=!0)},deleteChoice:function(t){var e=this,a=this.options[t]._id;axios.post("/deleteoptions",{optionid:a}).then(function(a){1==a.data.n&&(e.options.splice(t,1),e.$emit("deleteChoice",e.options))}).catch(function(t){e.errors.push(t)})},addChoice:function(){var t=this;axios.post("/addoptions",{questionid:this.id,choicestate:"0",choicetext:""}).then(function(e){1==e.data.status&&(t.options.push(e.data.result),t.$emit("addChoice",t.options))}).catch(function(e){t.errors.push(e)})},changeChoicetext:function(t){var e=this.options[t];e.choicetext=event.target.value,console.log(e.choicetext),this.debouncedUpdateOptions()},updateallChoicetext:function(){var t=this,e=(this.id,this.options);axios.post("/updatequestionoption",{alloption:e}).then(function(t){}).catch(function(e){t.errors.push(e)})},changeQuestion:function(t){this.questiontext=t},updateQuestion:function(){var t=this,e=this.id,a=this.questiontext;axios.post("/updatequestion",{questionid:e,questiontext:a}).then(function(t){console.log(t)}).catch(function(e){t.errors.push(e)})},changeDescription:function(t){this.questiondesc=t},updateDescription:function(){var t=this,e=this.id,a=this.questiondesc;axios.post("/updatedescription",{questionid:e,desctext:a}).then(function(t){console.log(t)}).catch(function(e){t.errors.push(e)})},addQuestionHaveImage:function(){var t=this;axios.post("/updatehaveimage",{questionid:this.id,haveimage:"1"}).then(function(e){t.qtypedata.haveimage="1"}).catch(function(e){t.errors.push(e)})},removeQuestionHaveImage:function(){var t=this;axios.post("/updatehaveimage",{questionid:this.id,haveimage:"0"}).then(function(e){t.qtypedata.haveimage="0"}).catch(function(e){t.errors.push(e)})},sendImageFile:function(){var t=this;return Tt()(Lt.a.mark(function e(){var a,s,i;return Lt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.$refs.file.files[0],console.log(a),(s=new FormData).append("file",a),e.prev=4,e.next=7,axios.post("/upload",s);case 7:i=e.sent,axios.post("/updatequestionimage",{questionid:t.id,image:i.data.file}).then(function(e){t.qtypedata.image=i.data.file}).catch(function(e){t.errors.push(e)}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),t.message=e.t0.response.data.error,t.error=!0;case 15:case"end":return e.stop()}},e,t,[[4,11]])}))()}},watch:{questiontext:function(t,e){this.debouncedUpdateQuestion()},questiondesc:function(t,e){this.debouncedUpdateDescription()}},created:function(){this.debouncedUpdateQuestion=_.debounce(this.updateQuestion,500),this.debouncedUpdateDescription=_.debounce(this.updateDescription,500),this.debouncedUpdateOptions=_.debounce(this.updateallChoicetext,500),this.checkrequired()},computed:{questionfinalimage:function(){return window.publicfileurl+this.qtypedata.image}}},We={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"singlechoice_question qtype"},[s("v-text-field",{attrs:{label:"Type Question here...",required:""},on:{input:t.changeQuestion},model:{value:t.qtypedata.questiontext,callback:function(e){t.$set(t.qtypedata,"questiontext",e)},expression:"qtypedata.questiontext"}}),t._v(" "),""!=t.qtypedata.image&&"1"==t.qtypedata.haveimage?s("div",{staticClass:"questionimagepreview"},[s("img",{staticClass:"img-question",attrs:{src:t.questionfinalimage}})]):t._e(),t._v(" "),"1"==t.qtypedata.havedescription?s("div",{staticClass:"tobedeletedesc"},[s("button",{staticClass:"btn-absolute right top",on:{click:function(e){return t.removeDescription()}}},[s("img",{staticClass:"deletequestion",attrs:{src:a("yJyA")}})]),t._v(" "),s("div",{staticClass:"editorinput-conatiner"},[s("div",{staticClass:"editorinput-title"},[t._v("Description: ")]),t._v(" "),s("tinymce",{ref:"tincyeditor",attrs:{id:"editor_"+t.qtypedata._id},on:{input:t.changeDescription,editorInit:t.editorInit},model:{value:t.qtypedata.description,callback:function(e){t.$set(t.qtypedata,"description",e)},expression:"qtypedata.description"}})],1)]):t._e(),t._v(" "),"1"==t.qtypedata.haveimage?s("div",{staticClass:"questionimage"},[s("button",{staticClass:"btn-absolute extreme-right top ",on:{click:function(e){return t.removeQuestionHaveImage()}}},[s("img",{staticClass:"deletequestion",attrs:{src:a("yJyA")}})]),t._v(" "),s("form",{staticClass:"form_dropzone",attrs:{enctype:"multipart/form-data"}},[s("div",{staticClass:"dropzone"},[s("div",[s("input",{ref:"file",staticClass:"file-upload-input",attrs:{type:"file"},on:{change:t.sendImageFile}}),t._v(" "),s("p",{staticClass:"call-to-action"},[t._v("Drag your file here")]),t._v(" "),""!=t.qtypedata.image?s("p",{},[t._v(t._s(t.qtypedata.image))]):t._e()])])])]):t._e(),t._v(" "),t._l(t.qtypedata.choice,function(e,i){return s("div",{key:i,staticClass:"tobedelete"},[s("v-btn",{staticClass:"btn-extrasmall",attrs:{fab:""},on:{click:function(e){return t.deleteChoice(i)}}},[s("img",{staticClass:"deletequestion",attrs:{src:a("yJyA")}})]),t._v(" "),s("v-layout",{attrs:{"align-center":""}},[s("v-radio",{staticClass:"shrink mr-2",attrs:{"hide-details":""}}),t._v(" "),s("v-text-field",{key:i,attrs:{label:"Option "+(i+1)},on:{input:function(e){return t.changeChoicetext(i)}},model:{value:e.choicetext,callback:function(a){t.$set(e,"choicetext",a)},expression:"choice.choicetext"}})],1)],1)}),t._v(" "),s("div",{staticClass:"que_bottom_btns"},[s("v-chip",{staticClass:"addchip",on:{click:function(e){return t.addChoice()}}},[s("v-avatar",[s("v-icon",[t._v("add")])],1),t._v("Add choice")],1),t._v(" "),s("v-chip",{staticClass:"addchip",on:{click:function(e){return t.addDescription()}}},[s("v-avatar",[s("v-icon",[t._v("format_align_left")])],1),t._v("Add Instruction")],1),t._v(" "),s("v-chip",{staticClass:"addchip",on:{click:function(e){return t.addQuestionHaveImage()}}},[s("v-avatar",[s("v-icon",[t._v("image")])],1),t._v("Add Image")],1),t._v(" "),s("v-checkbox",{attrs:{label:"Required"},on:{change:t.changerequired},model:{value:t.required,callback:function(e){t.required=e},expression:"required"}})],1)],2)},staticRenderFns:[]},He=a("VU/8")(Je,We,!1,null,null,null).exports,Be=a("4vvG"),Ve=a.n(Be),Xe={props:["qtypedata"],data:function(){return{id:this.qtypedata._id,ratingdata:this.qtypedata,questiontext:this.qtypedata.questiontext,questiondesc:this.qtypedata.description,length:this.qtypedata.length,required:!1,tinyoption:{initial:"djfhkgfjdhgkjfdhkgfkdgkdfgkdfhkgd"},editor:Ve.a,editorData:"<p>Content of the editor.</p>",editorConfig:{}}},methods:{addDescription:function(){var t=this;axios.post("/updatehavedescription",{questionid:this.id,havedesc:"1"}).then(function(e){t.qtypedata.havedescription="1"}).catch(function(e){t.errors.push(e)})},editorInit:function(){this.$refs.tincyeditor.editor.setContent(this.questiondesc)},removeDescription:function(){var t=this;axios.post("/updatehavedescription",{questionid:this.id,havedesc:"0"}).then(function(e){t.qtypedata.havedescription="0"}).catch(function(e){t.errors.push(e)})},changerequired:function(){var t=this,e="1";0==this.required&&(e="0"),axios.post("/updatequestionrequired",{questionid:this.id,required:e}).then(function(a){console.log(a),t.qtypedata.required=e}).catch(function(e){t.errors.push(e)})},checkrequired:function(){"1"==this.qtypedata.required&&(this.required=!0)},changeScalelength:function(t){this.length=t},changeQuestion:function(t){this.questiontext=t},updateQuestion:function(){var t=this,e=this.id,a=this.questiontext;axios.post("/updatequestion",{questionid:e,questiontext:a}).then(function(t){console.log(t)}).catch(function(e){t.errors.push(e)})},changeDescription:function(t){this.questiondesc=t},updateDescription:function(){var t=this,e=this.id,a=this.questiondesc;axios.post("/updatedescription",{questionid:e,desctext:a}).then(function(t){console.log(t)}).catch(function(e){t.errors.push(e)})},updateLength:function(){var t=this,e=this.id,a=this.length;axios.post("/updatelength",{questionid:e,length:a}).then(function(t){console.log(t)}).catch(function(e){t.errors.push(e)})},addQuestionHaveImage:function(){var t=this;axios.post("/updatehaveimage",{questionid:this.id,haveimage:"1"}).then(function(e){t.qtypedata.haveimage="1"}).catch(function(e){t.errors.push(e)})},removeQuestionHaveImage:function(){var t=this;axios.post("/updatehaveimage",{questionid:this.id,haveimage:"0"}).then(function(e){t.qtypedata.haveimage="0"}).catch(function(e){t.errors.push(e)})},sendImageFile:function(){var t=this;return Tt()(Lt.a.mark(function e(){var a,s,i;return Lt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.$refs.file.files[0],console.log(a),(s=new FormData).append("file",a),e.prev=4,e.next=7,axios.post("/upload",s);case 7:i=e.sent,axios.post("/updatequestionimage",{questionid:t.id,image:i.data.file}).then(function(e){t.qtypedata.image=i.data.file}).catch(function(e){t.errors.push(e)}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),t.message=e.t0.response.data.error,t.error=!0;case 15:case"end":return e.stop()}},e,t,[[4,11]])}))()}},watch:{questiontext:function(t,e){this.debouncedUpdateQuestion()},questiondesc:function(t,e){this.debouncedUpdateDescription()},length:function(t,e){this.debouncedUpdateLength()}},created:function(){this.debouncedUpdateQuestion=_.debounce(this.updateQuestion,500),this.debouncedUpdateDescription=_.debounce(this.updateDescription,500),this.debouncedUpdateLength=_.debounce(this.updateLength,500),this.checkrequired(),this.getInstanceById("editor_"+this.qtypedata._id).setContent("kjhkdsfhgkjdfghdfkjhgkfjdgh")},computed:{questionfinalimage:function(){return window.publicfileurl+this.qtypedata.image}}},Ke={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"qtype_ratingscale"},[s("div",{},[s("v-text-field",{attrs:{label:"Type Question here...",required:""},on:{input:t.changeQuestion},model:{value:t.qtypedata.questiontext,callback:function(e){t.$set(t.qtypedata,"questiontext",e)},expression:"qtypedata.questiontext"}}),t._v(" "),""!=t.qtypedata.image&&"1"==t.qtypedata.haveimage?s("div",{staticClass:"questionimagepreview"},[s("img",{staticClass:"img-question",attrs:{src:t.questionfinalimage}})]):t._e(),t._v(" "),"1"==t.qtypedata.havedescription?s("div",{staticClass:"tobedeletedesc"},[s("button",{staticClass:"btn-absolute right top",on:{click:function(e){return t.removeDescription()}}},[s("img",{staticClass:"deletequestion",attrs:{src:a("yJyA")}})]),t._v(" "),s("div",{staticClass:"editorinput-conatiner"},[s("div",{staticClass:"editorinput-title"},[t._v("Description: ")]),t._v(" "),s("tinymce",{ref:"tincyeditor",attrs:{id:"editor_"+t.qtypedata._id},on:{input:t.changeDescription,editorInit:t.editorInit},model:{value:t.qtypedata.description,callback:function(e){t.$set(t.qtypedata,"description",e)},expression:"qtypedata.description"}})],1)]):t._e(),t._v(" "),"1"==t.qtypedata.haveimage?s("div",{staticClass:"questionimage"},[s("button",{staticClass:"btn-absolute extreme-right top ",on:{click:function(e){return t.removeQuestionHaveImage()}}},[s("img",{staticClass:"deletequestion",attrs:{src:a("yJyA")}})]),t._v(" "),s("form",{staticClass:"form_dropzone",attrs:{enctype:"multipart/form-data"}},[s("div",{staticClass:"dropzone"},[s("div",[s("input",{ref:"file",staticClass:"file-upload-input",attrs:{type:"file"},on:{change:t.sendImageFile}}),t._v(" "),s("p",{staticClass:"call-to-action"},[t._v("Drag your file here")]),t._v(" "),""!=t.qtypedata.image?s("p",{},[t._v(t._s(t.qtypedata.image))]):t._e()])])])]):t._e(),t._v(" "),s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",[s("v-slider",{attrs:{label:"Select Max Rating: ","thumb-color":"green","thumb-label":"","always-dirty":"",min:"5",max:"100"},on:{input:t.changeScalelength},model:{value:t.qtypedata.length,callback:function(e){t.$set(t.qtypedata,"length",e)},expression:"qtypedata.length"}})],1),t._v(" "),s("v-flex",{staticStyle:{width:"60px"},attrs:{shrink:""}},[s("v-card-text",[t._v(t._s(t.ratingdata.length))])],1)],1)],1),t._v(" "),s("div",{staticClass:"que_bottom_btns"},[s("v-chip",{staticClass:"addchip",on:{click:function(e){return t.addDescription()}}},[s("v-avatar",[s("v-icon",[t._v("format_align_left")])],1),t._v("Add Instruction")],1),t._v(" "),s("v-chip",{staticClass:"addchip",on:{click:function(e){return t.addQuestionHaveImage()}}},[s("v-avatar",[s("v-icon",[t._v("image")])],1),t._v("Add Image")],1),t._v(" "),s("v-checkbox",{attrs:{label:"Required"},on:{change:t.changerequired},model:{value:t.required,callback:function(e){t.required=e},expression:"required"}})],1)])},staticRenderFns:[]},ta=a("VU/8")(Xe,Ke,!1,null,null,null).exports,ea={props:["qtypedata"],data:function(){return{id:this.qtypedata._id,questiontext:this.qtypedata.questiontext,questiondesc:this.qtypedata.description,date1:(new Date).toISOString().substr(0,10),required:!1}},methods:{editorInit:function(){this.$refs.tincyeditor.editor.setContent(this.questiondesc)},addDescription:function(){var t=this;axios.post("/updatehavedescription",{questionid:this.id,havedesc:"1"}).then(function(e){t.qtypedata.havedescription="1"}).catch(function(e){t.errors.push(e)})},removeDescription:function(){var t=this;axios.post("/updatehavedescription",{questionid:this.id,havedesc:"0"}).then(function(e){t.qtypedata.havedescription="0"}).catch(function(e){t.errors.push(e)})},changeQuestion:function(t){this.questiontext=t},changerequired:function(){var t=this,e="1";0==this.required&&(e="0"),axios.post("/updatequestionrequired",{questionid:this.id,required:e}).then(function(a){console.log(a),t.qtypedata.required=e}).catch(function(e){t.errors.push(e)})},checkrequired:function(){"1"==this.qtypedata.required&&(this.required=!0)},updateQuestion:function(){var t=this,e=this.id,a=this.questiontext;axios.post("/updatequestion",{questionid:e,questiontext:a}).then(function(t){console.log(t)}).catch(function(e){t.errors.push(e)})},changeDescription:function(t){this.questiondesc=t},updateDescription:function(){var t=this,e=this.id,a=this.questiondesc;axios.post("/updatedescription",{questionid:e,desctext:a}).then(function(t){console.log(t)}).catch(function(e){t.errors.push(e)})},addQuestionHaveImage:function(){var t=this;axios.post("/updatehaveimage",{questionid:this.id,haveimage:"1"}).then(function(e){t.qtypedata.haveimage="1"}).catch(function(e){t.errors.push(e)})},removeQuestionHaveImage:function(){var t=this;axios.post("/updatehaveimage",{questionid:this.id,haveimage:"0"}).then(function(e){t.qtypedata.haveimage="0"}).catch(function(e){t.errors.push(e)})},sendImageFile:function(){var t=this;return Tt()(Lt.a.mark(function e(){var a,s,i;return Lt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.$refs.file.files[0],console.log(a),(s=new FormData).append("file",a),e.prev=4,e.next=7,axios.post("/upload",s);case 7:i=e.sent,axios.post("/updatequestionimage",{questionid:t.id,image:i.data.file}).then(function(e){t.qtypedata.image=i.data.file}).catch(function(e){t.errors.push(e)}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),t.message=e.t0.response.data.error,t.error=!0;case 15:case"end":return e.stop()}},e,t,[[4,11]])}))()}},watch:{questiontext:function(t,e){this.debouncedUpdateQuestion()},questiondesc:function(t,e){this.debouncedUpdateDescription()}},created:function(){this.debouncedUpdateQuestion=_.debounce(this.updateQuestion,500),this.debouncedUpdateDescription=_.debounce(this.updateDescription,500),this.checkrequired()},computed:{questionfinalimage:function(){return window.publicfileurl+this.qtypedata.image}}},aa={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"qtype_date"},[s("v-text-field",{attrs:{label:"Type Question here...",required:""},on:{input:t.changeQuestion},model:{value:t.qtypedata.questiontext,callback:function(e){t.$set(t.qtypedata,"questiontext",e)},expression:"qtypedata.questiontext"}}),t._v(" "),""!=t.qtypedata.image&&"1"==t.qtypedata.haveimage?s("div",{staticClass:"questionimagepreview"},[s("img",{staticClass:"img-question",attrs:{src:t.questionfinalimage}})]):t._e(),t._v(" "),"1"==t.qtypedata.havedescription?s("div",{staticClass:"tobedeletedesc"},[s("button",{staticClass:"btn-absolute right top",on:{click:function(e){return t.removeDescription()}}},[s("img",{staticClass:"deletequestion",attrs:{src:a("yJyA")}})]),t._v(" "),s("div",{staticClass:"editorinput-conatiner"},[s("div",{staticClass:"editorinput-title"},[t._v("Description: ")]),t._v(" "),s("tinymce",{ref:"tincyeditor",attrs:{id:"editor_"+t.qtypedata._id},on:{input:t.changeDescription,editorInit:t.editorInit},model:{value:t.qtypedata.description,callback:function(e){t.$set(t.qtypedata,"description",e)},expression:"qtypedata.description"}})],1)]):t._e(),t._v(" "),"1"==t.qtypedata.haveimage?s("div",{staticClass:"questionimage"},[s("button",{staticClass:"btn-absolute extreme-right top ",on:{click:function(e){return t.removeQuestionHaveImage()}}},[s("img",{staticClass:"deletequestion",attrs:{src:a("yJyA")}})]),t._v(" "),s("form",{staticClass:"form_dropzone",attrs:{enctype:"multipart/form-data"}},[s("div",{staticClass:"dropzone"},[s("div",[s("input",{ref:"file",staticClass:"file-upload-input",attrs:{type:"file"},on:{change:t.sendImageFile}}),t._v(" "),s("p",{staticClass:"call-to-action"},[t._v("Drag your file here")]),t._v(" "),""!=t.qtypedata.image?s("p",{},[t._v(t._s(t.qtypedata.image))]):t._e()])])])]):t._e(),t._v(" "),s("v-layout",{attrs:{"align-center":""}},[s("v-date-picker",{attrs:{"show-current":!1},model:{value:t.date1,callback:function(e){t.date1=e},expression:"date1"}})],1),t._v(" "),s("div",{staticClass:"que_bottom_btns"},[s("v-chip",{staticClass:"addchip",on:{click:function(e){return t.addDescription()}}},[s("v-avatar",[s("v-icon",[t._v("format_align_left")])],1),t._v("Add Instruction")],1),t._v(" "),s("v-chip",{staticClass:"addchip",on:{click:function(e){return t.addQuestionHaveImage()}}},[s("v-avatar",[s("v-icon",[t._v("image")])],1),t._v("Add Image")],1),t._v(" "),s("v-checkbox",{attrs:{label:"Required"},on:{change:t.changerequired},model:{value:t.required,callback:function(e){t.required=e},expression:"required"}})],1)],1)},staticRenderFns:[]},sa=a("VU/8")(ea,aa,!1,null,null,null).exports,ia={props:["qtypedata"],data:function(){return{id:this.qtypedata._id,questiondesc:this.qtypedata.description,items:this.qtypedata.links}},methods:{editorInit:function(){this.$refs.tincyeditor.editor.setContent(this.questiondesc)},addDescription:function(){var t=this;axios.post("/updatehavedescription",{questionid:this.id,havedesc:"1"}).then(function(e){t.qtypedata.havedescription="1"}).catch(function(e){t.errors.push(e)})},removeDescription:function(){var t=this;axios.post("/updatehavedescription",{questionid:this.id,havedesc:"0"}).then(function(e){t.qtypedata.havedescription="0"}).catch(function(e){t.errors.push(e)})},deleteURL:function(t,e){var a=this,s=this.items[t]._id;axios.post("/deletesliderlinks",{linkid:s}).then(function(e){1==e.data.n&&(a.items.splice(t,1),a.$emit("deleteURL",a.items))}).catch(function(t){a.errors.push(t)})},changeURL:function(t){this.items[t].src=event.target.value,this.debouncedUpdateallsilderurl()},updateallsilderurl:function(){var t=this,e=(this.id,this.items);console.log("from options"),axios.post("/updatesliderlinks",{links:e}).then(function(t){console.log(t)}).catch(function(e){t.errors.push(e)})},addURL:function(){var t=this;axios.post("/addsliderlink",{questionid:this.id,src:""}).then(function(e){1==e.data.status&&(t.items.push(e.data.result),t.$emit("addURL",t.items))}).catch(function(e){t.errors.push(e)})},changeDescription:function(t){this.questiondesc=t},updateDescription:function(){var t=this,e=this.id,a=this.questiondesc;axios.post("/updatedescription",{questionid:e,desctext:a}).then(function(t){console.log(t)}).catch(function(e){t.errors.push(e)})},addQuestionHaveImage:function(){var t=this;axios.post("/updatehaveimage",{questionid:this.id,haveimage:"1"}).then(function(e){t.qtypedata.haveimage="1"}).catch(function(e){t.errors.push(e)})},removeQuestionHaveImage:function(){var t=this;axios.post("/updatehaveimage",{questionid:this.id,haveimage:"0"}).then(function(e){t.qtypedata.haveimage="0"}).catch(function(e){t.errors.push(e)})},sendImageFile:function(){var t=this;return Tt()(Lt.a.mark(function e(){var a,s,i;return Lt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.$refs.file.files[0],console.log(a),(s=new FormData).append("file",a),e.prev=4,e.next=7,axios.post("/upload",s);case 7:i=e.sent,axios.post("/updatequestionimage",{questionid:t.id,image:i.data.file}).then(function(e){t.qtypedata.image=i.data.file}).catch(function(e){t.errors.push(e)}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),t.message=e.t0.response.data.error,t.error=!0;case 15:case"end":return e.stop()}},e,t,[[4,11]])}))()}},watch:{questiondesc:function(t,e){this.debouncedUpdateDescription()}},created:function(){this.debouncedUpdateDescription=_.debounce(this.updateDescription,500),this.debouncedUpdateallsilderurl=_.debounce(this.updateallsilderurl,500)},computed:{questionfinalimage:function(){return window.publicfileurl+this.qtypedata.image}}},na={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"text_contact"},[s("h4",[t._v("Slider Description: ")]),t._v(" "),s("v-form",{ref:"form",staticClass:"text_contacttext",attrs:{label:"Slider summary text ","lazy-validation":""}},[""!=t.qtypedata.image&&"1"==t.qtypedata.haveimage?s("div",{staticClass:"questionimagepreview"},[s("img",{staticClass:"img-question",attrs:{src:t.questionfinalimage}})]):t._e(),t._v(" "),"1"==t.qtypedata.havedescription?s("div",{staticClass:"tobedeletedesc"},[s("button",{staticClass:"btn-absolute right top",on:{click:function(e){return t.removeDescription()}}},[s("img",{staticClass:"deletequestion",attrs:{src:a("yJyA")}})]),t._v(" "),s("div",{staticClass:"editorinput-conatiner"},[s("div",{staticClass:"editorinput-title"},[t._v("Description: ")]),t._v(" "),s("tinymce",{ref:"tincyeditor",attrs:{id:"editor_"+t.qtypedata._id},on:{input:t.changeDescription,editorInit:t.editorInit},model:{value:t.qtypedata.description,callback:function(e){t.$set(t.qtypedata,"description",e)},expression:"qtypedata.description"}})],1)]):t._e(),t._v(" "),"1"==t.qtypedata.haveimage?s("div",{staticClass:"questionimage"},[s("button",{staticClass:"btn-absolute extreme-right top ",on:{click:function(e){return t.removeQuestionHaveImage()}}},[s("img",{staticClass:"deletequestion",attrs:{src:a("yJyA")}})]),t._v(" "),s("form",{staticClass:"form_dropzone",attrs:{enctype:"multipart/form-data"}},[s("div",{staticClass:"dropzone"},[s("div",[s("input",{ref:"file",staticClass:"file-upload-input",attrs:{type:"file"},on:{change:t.sendImageFile}}),t._v(" "),s("p",{staticClass:"call-to-action"},[t._v("Drag your file here")]),t._v(" "),""!=t.qtypedata.image?s("p",{},[t._v(t._s(t.qtypedata.image))]):t._e()])])])]):t._e(),t._v(" "),t._l(t.qtypedata.links,function(e,i){return s("div",{key:i,staticClass:"tobedelete"},[s("v-btn",{staticClass:"btn-extrasmall",attrs:{fab:""},on:{click:function(e){return t.deleteURL(i)}}},[s("img",{staticClass:"deletequestion",attrs:{src:a("yJyA")}})]),t._v(" "),s("v-layout",{attrs:{"align-center":""}},[s("v-text-field",{attrs:{value:e.src,label:"link "+(i+1),required:""},on:{input:function(e){return t.changeURL(i)}}})],1)],1)}),t._v(" "),s("div",{staticClass:"que_bottom_btns"},[s("v-chip",{staticClass:"addchip",on:{click:function(e){return t.addURL()}}},[s("v-avatar",[s("v-icon",[t._v("add")])],1),t._v("URL")],1),t._v(" "),s("v-chip",{staticClass:"addchip",on:{click:function(e){return t.addDescription()}}},[s("v-avatar",[s("v-icon",[t._v("format_align_left")])],1),t._v("Add Instruction")],1),t._v(" "),s("v-chip",{staticClass:"addchip",on:{click:function(e){return t.addQuestionHaveImage()}}},[s("v-avatar",[s("v-icon",[t._v("image")])],1),t._v("Add Image")],1)],1)],2),t._v(" "),s("v-divider"),t._v(" "),s("v-carousel",t._l(t.items,function(t,e){return s("v-carousel-item",{key:e,attrs:{src:t.src}})}),1)],1)},staticRenderFns:[]};var oa,ra=a("VU/8")(ia,na,!1,function(t){a("XyA6")},"data-v-361d46d0",null).exports,ca={props:["qtypedata"],data:function(){return{id:this.qtypedata._id,questiontext:this.qtypedata.questiontext,questiondesc:this.qtypedata.description,required:!1}},methods:{editorInit:function(){this.$refs.tincyeditor.editor.setContent(this.questiondesc)},addDescription:function(){var t=this;axios.post("/updatehavedescription",{questionid:this.id,havedesc:"1"}).then(function(e){t.qtypedata.havedescription="1"}).catch(function(e){t.errors.push(e)})},removeDescription:function(){var t=this;axios.post("/updatehavedescription",{questionid:this.id,havedesc:"0"}).then(function(e){t.qtypedata.havedescription="0"}).catch(function(e){t.errors.push(e)})},changerequired:function(){var t=this,e="1";0==this.required&&(e="0"),axios.post("/updatequestionrequired",{questionid:this.id,required:e}).then(function(a){console.log(a),t.qtypedata.required=e}).catch(function(e){t.errors.push(e)})},checkrequired:function(){"1"==this.qtypedata.required&&(this.required=!0)},changeQuestion:function(t){this.questiontext=t},updateQuestion:function(){var t=this,e=this.id,a=this.questiontext;axios.post("/updatequestion",{questionid:e,questiontext:a}).then(function(t){console.log(t)}).catch(function(e){t.errors.push(e)})},changeDescription:function(t){this.questiondesc=t},updateDescription:function(){var t=this,e=this.id,a=this.questiondesc;axios.post("/updatedescription",{questionid:e,desctext:a}).then(function(t){console.log(t)}).catch(function(e){t.errors.push(e)})},addQuestionHaveImage:function(){var t=this;axios.post("/updatehaveimage",{questionid:this.id,haveimage:"1"}).then(function(e){t.qtypedata.haveimage="1"}).catch(function(e){t.errors.push(e)})},removeQuestionHaveImage:function(){var t=this;axios.post("/updatehaveimage",{questionid:this.id,haveimage:"0"}).then(function(e){t.qtypedata.haveimage="0"}).catch(function(e){t.errors.push(e)})},sendImageFile:function(){var t=this;return Tt()(Lt.a.mark(function e(){var a,s,i;return Lt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.$refs.file.files[0],console.log(a),(s=new FormData).append("file",a),e.prev=4,e.next=7,axios.post("/upload",s);case 7:i=e.sent,axios.post("/updatequestionimage",{questionid:t.id,image:i.data.file}).then(function(e){t.qtypedata.image=i.data.file}).catch(function(e){t.errors.push(e)}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),t.message=e.t0.response.data.error,t.error=!0;case 15:case"end":return e.stop()}},e,t,[[4,11]])}))()}},watch:{questiontext:function(t,e){this.debouncedUpdateQuestion()},questiondesc:function(t,e){this.debouncedUpdateDescription()}},created:function(){this.debouncedUpdateQuestion=_.debounce(this.updateQuestion,500),this.debouncedUpdateDescription=_.debounce(this.updateDescription,500),this.checkrequired()},computed:{questionfinalimage:function(){return window.publicfileurl+this.qtypedata.image}}},da={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"text_single qtype"},[s("v-text-field",{attrs:{label:"Type Question here...",required:""},on:{input:t.changeQuestion},model:{value:t.qtypedata.questiontext,callback:function(e){t.$set(t.qtypedata,"questiontext",e)},expression:"qtypedata.questiontext"}}),t._v(" "),""!=t.qtypedata.image&&"1"==t.qtypedata.haveimage?s("div",{staticClass:"questionimagepreview"},[s("img",{staticClass:"img-question",attrs:{src:t.questionfinalimage}})]):t._e(),t._v(" "),"1"==t.qtypedata.havedescription?s("div",{staticClass:"tobedeletedesc"},[s("button",{staticClass:"btn-absolute right top",on:{click:function(e){return t.removeDescription()}}},[s("img",{staticClass:"deletequestion",attrs:{src:a("yJyA")}})]),t._v(" "),s("div",{staticClass:"editorinput-conatiner"},[s("div",{staticClass:"editorinput-title"},[t._v("Description: ")]),t._v(" "),s("tinymce",{ref:"tincyeditor",attrs:{id:"editor_"+t.qtypedata._id},on:{input:t.changeDescription,editorInit:t.editorInit},model:{value:t.qtypedata.description,callback:function(e){t.$set(t.qtypedata,"description",e)},expression:"qtypedata.description"}})],1)]):t._e(),t._v(" "),"1"==t.qtypedata.haveimage?s("div",{staticClass:"questionimage"},[s("button",{staticClass:"btn-absolute extreme-right top ",on:{click:function(e){return t.removeQuestionHaveImage()}}},[s("img",{staticClass:"deletequestion",attrs:{src:a("yJyA")}})]),t._v(" "),s("form",{staticClass:"form_dropzone",attrs:{enctype:"multipart/form-data"}},[s("div",{staticClass:"dropzone"},[s("div",[s("input",{ref:"file",staticClass:"file-upload-input",attrs:{type:"file"},on:{change:t.sendImageFile}}),t._v(" "),s("p",{staticClass:"call-to-action"},[t._v("Drag your file here")]),t._v(" "),""!=t.qtypedata.image?s("p",{},[t._v(t._s(t.qtypedata.image))]):t._e()])])])]):t._e(),t._v(" "),s("v-layout",{attrs:{"align-center":""}},[s("v-text-field",{attrs:{label:"Answer"},model:{value:t.qtypedata.answertext,callback:function(e){t.$set(t.qtypedata,"answertext",e)},expression:"qtypedata.answertext"}})],1),t._v(" "),s("div",{staticClass:"que_bottom_btns"},[s("v-chip",{staticClass:"addchip",on:{click:function(e){return t.addDescription()}}},[s("v-avatar",[s("v-icon",[t._v("format_align_left")])],1),t._v("Add Instruction")],1),t._v(" "),s("v-chip",{staticClass:"addchip",on:{click:function(e){return t.addQuestionHaveImage()}}},[s("v-avatar",[s("v-icon",[t._v("image")])],1),t._v("Add Image")],1),t._v(" "),s("v-checkbox",{attrs:{label:"Required"},on:{change:t.changerequired},model:{value:t.required,callback:function(e){t.required=e},expression:"required"}})],1)],1)},staticRenderFns:[]},la=a("VU/8")(ca,da,!1,null,null,null).exports,ua={props:["qtypedata"],data:function(){return{id:this.qtypedata._id,questiontext:this.qtypedata.questiontext,questiondesc:this.qtypedata.description,options:this.qtypedata.choice,required:!1}},methods:(oa={editorInit:function(){this.$refs.tincyeditor.editor.setContent(this.questiondesc)},addDescription:function(){var t=this;axios.post("/updatehavedescription",{questionid:this.id,havedesc:"1"}).then(function(e){t.qtypedata.havedescription="1"}).catch(function(e){t.errors.push(e)})},removeDescription:function(){var t=this;axios.post("/updatehavedescription",{questionid:this.id,havedesc:"0"}).then(function(e){t.qtypedata.havedescription="0"}).catch(function(e){t.errors.push(e)})},changerequired:function(){var t=this,e="1";0==this.required&&(e="0"),axios.post("/updatequestionrequired",{questionid:this.id,required:e}).then(function(a){console.log(a),t.qtypedata.required=e}).catch(function(e){t.errors.push(e)})},checkrequired:function(){"1"==this.qtypedata.required&&(this.required=!0)},deleteTextbox:function(t){var e=this,a=this.options[t]._id;axios.post("/deleteoptions",{optionid:a}).then(function(a){1==a.data.n&&(e.options.splice(t,1),e.$emit("deleteTextbox",e.options))}).catch(function(t){e.errors.push(t)})},changeQuestion:function(t){this.questiontext=t,this.$emit("changeQuestion",this.questiontext)},changeAnswer:function(t){console.log(t),this.options[t].choicetext=event.target.value,this.debouncedUpdateOptions()},updateallChoicetext:function(){var t=this,e=(this.id,this.options);console.log("from options"),axios.post("/updatequestionoption",{alloption:e}).then(function(t){console.log(t)}).catch(function(e){t.errors.push(e)})},addTextbox:function(){var t=this;axios.post("/addoptions",{questionid:this.id,choicestate:"0",choicetext:""}).then(function(e){1==e.data.status&&(t.options.push(e.data.result),t.$emit("addTextbox",t.options))}).catch(function(e){t.errors.push(e)})}},x()(oa,"changeQuestion",function(t){this.questiontext=t}),x()(oa,"updateQuestion",function(){var t=this,e=this.id,a=this.questiontext;axios.post("/updatequestion",{questionid:e,questiontext:a}).then(function(t){console.log(t)}).catch(function(e){t.errors.push(e)})}),x()(oa,"changeDescription",function(t){this.questiondesc=t}),x()(oa,"updateDescription",function(){var t=this,e=this.id,a=this.questiondesc;axios.post("/updatedescription",{questionid:e,desctext:a}).then(function(t){console.log(t)}).catch(function(e){t.errors.push(e)})}),x()(oa,"addQuestionHaveImage",function(){var t=this;axios.post("/updatehaveimage",{questionid:this.id,haveimage:"1"}).then(function(e){t.qtypedata.haveimage="1"}).catch(function(e){t.errors.push(e)})}),x()(oa,"removeQuestionHaveImage",function(){var t=this;axios.post("/updatehaveimage",{questionid:this.id,haveimage:"0"}).then(function(e){t.qtypedata.haveimage="0"}).catch(function(e){t.errors.push(e)})}),x()(oa,"sendImageFile",function(){var t=this;return Tt()(Lt.a.mark(function e(){var a,s,i;return Lt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.$refs.file.files[0],console.log(a),(s=new FormData).append("file",a),e.prev=4,e.next=7,axios.post("/upload",s);case 7:i=e.sent,axios.post("/updatequestionimage",{questionid:t.id,image:i.data.file}).then(function(e){t.qtypedata.image=i.data.file}).catch(function(e){t.errors.push(e)}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),t.message=e.t0.response.data.error,t.error=!0;case 15:case"end":return e.stop()}},e,t,[[4,11]])}))()}),oa),watch:{questiontext:function(t,e){this.debouncedUpdateQuestion()},questiondesc:function(t,e){this.debouncedUpdateDescription()}},created:function(){this.debouncedUpdateQuestion=_.debounce(this.updateQuestion,500),this.debouncedUpdateDescription=_.debounce(this.updateDescription,500),this.debouncedUpdateOptions=_.debounce(this.updateallChoicetext,500),this.checkrequired()},computed:{questionfinalimage:function(){return window.publicfileurl+this.qtypedata.image}}},pa={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"text_multiple qtype"},[s("v-text-field",{attrs:{label:"Type Question here...",required:""},on:{input:t.changeQuestion},model:{value:t.qtypedata.questiontext,callback:function(e){t.$set(t.qtypedata,"questiontext",e)},expression:"qtypedata.questiontext"}}),t._v(" "),""!=t.qtypedata.image&&"1"==t.qtypedata.haveimage?s("div",{staticClass:"questionimagepreview"},[s("img",{staticClass:"img-question",attrs:{src:t.questionfinalimage}})]):t._e(),t._v(" "),"1"==t.qtypedata.havedescription?s("div",{staticClass:"tobedeletedesc"},[s("button",{staticClass:"btn-absolute right top",on:{click:function(e){return t.removeDescription()}}},[s("img",{staticClass:"deletequestion",attrs:{src:a("yJyA")}})]),t._v(" "),s("div",{staticClass:"editorinput-conatiner"},[s("div",{staticClass:"editorinput-title"},[t._v("Description: ")]),t._v(" "),s("tinymce",{ref:"tincyeditor",attrs:{id:"editor_"+t.qtypedata._id},on:{input:t.changeDescription,editorInit:t.editorInit},model:{value:t.qtypedata.description,callback:function(e){t.$set(t.qtypedata,"description",e)},expression:"qtypedata.description"}})],1)]):t._e(),t._v(" "),"1"==t.qtypedata.haveimage?s("div",{staticClass:"questionimage"},[s("button",{staticClass:"btn-absolute extreme-right top ",on:{click:function(e){return t.removeQuestionHaveImage()}}},[s("img",{staticClass:"deletequestion",attrs:{src:a("yJyA")}})]),t._v(" "),s("form",{staticClass:"form_dropzone",attrs:{enctype:"multipart/form-data"}},[s("div",{staticClass:"dropzone"},[s("div",[s("input",{ref:"file",staticClass:"file-upload-input",attrs:{type:"file"},on:{change:t.sendImageFile}}),t._v(" "),s("p",{staticClass:"call-to-action"},[t._v("Drag your file here")]),t._v(" "),""!=t.qtypedata.image?s("p",{},[t._v(t._s(t.qtypedata.image))]):t._e()])])])]):t._e(),t._v(" "),t._l(t.qtypedata.choice,function(e,i){return s("div",{key:i,staticClass:"tobedelete"},[s("v-btn",{staticClass:"btn-extrasmall",attrs:{fab:""},on:{click:function(e){return t.deleteTextbox(i)}}},[s("img",{staticClass:"deletequestion",attrs:{src:a("yJyA")}})]),t._v(" "),s("v-layout",{attrs:{"align-center":""}},[s("v-text-field",{key:i,attrs:{label:"Enter Text Here"},on:{input:function(e){return t.changeAnswer(i)}},model:{value:e.choicetext,callback:function(a){t.$set(e,"choicetext",a)},expression:"answer.choicetext"}})],1)],1)}),t._v(" "),s("div",{staticClass:"que_bottom_btns"},[s("v-chip",{staticClass:"addchip",on:{click:function(e){return t.addTextbox()}}},[s("v-avatar",[s("v-icon",[t._v("add")])],1),t._v("Add Textbox")],1),t._v(" "),s("v-chip",{staticClass:"addchip",on:{click:function(e){return t.addDescription()}}},[s("v-avatar",[s("v-icon",[t._v("format_align_left")])],1),t._v("Add Instruction")],1),t._v(" "),s("v-chip",{staticClass:"addchip",on:{click:function(e){return t.addQuestionHaveImage()}}},[s("v-avatar",[s("v-icon",[t._v("image")])],1),t._v("Add Image")],1),t._v(" "),s("v-checkbox",{attrs:{label:"Required"},on:{change:t.changerequired},model:{value:t.required,callback:function(e){t.required=e},expression:"required"}})],1)],2)},staticRenderFns:[]},va=a("VU/8")(ua,pa,!1,null,null,null).exports,ha={props:["qtypedata"],data:function(){return{id:this.qtypedata._id,questiontext:this.qtypedata.questiontext,questiondesc:this.qtypedata.description,required:!1}},methods:{editorInit:function(){this.$refs.tincyeditor.editor.setContent(this.questiondesc)},addDescription:function(){var t=this;axios.post("/updatehavedescription",{questionid:this.id,havedesc:"1"}).then(function(e){t.qtypedata.havedescription="1"}).catch(function(e){t.errors.push(e)})},changerequired:function(){var t=this,e="1";0==this.required&&(e="0"),axios.post("/updatequestionrequired",{questionid:this.id,required:e}).then(function(a){console.log(a),t.qtypedata.required=e}).catch(function(e){t.errors.push(e)})},checkrequired:function(){"1"==this.qtypedata.required&&(this.required=!0)},removeDescription:function(){var t=this;axios.post("/updatehavedescription",{questionid:this.id,havedesc:"0"}).then(function(e){t.qtypedata.havedescription="0"}).catch(function(e){t.errors.push(e)})},changeQuestion:function(t){this.questiontext=t},updateQuestion:function(){var t=this,e=this.id,a=this.questiontext;axios.post("/updatequestion",{questionid:e,questiontext:a}).then(function(t){console.log(t)}).catch(function(e){t.errors.push(e)})},changeDescription:function(t){this.questiondesc=t},updateDescription:function(){var t=this,e=this.id,a=this.questiondesc;axios.post("/updatedescription",{questionid:e,desctext:a}).then(function(t){console.log(t)}).catch(function(e){t.errors.push(e)})},addQuestionHaveImage:function(){var t=this;axios.post("/updatehaveimage",{questionid:this.id,haveimage:"1"}).then(function(e){t.qtypedata.haveimage="1"}).catch(function(e){t.errors.push(e)})},removeQuestionHaveImage:function(){var t=this;axios.post("/updatehaveimage",{questionid:this.id,haveimage:"0"}).then(function(e){t.qtypedata.haveimage="0"}).catch(function(e){t.errors.push(e)})},sendImageFile:function(){var t=this;return Tt()(Lt.a.mark(function e(){var a,s,i;return Lt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.$refs.file.files[0],console.log(a),(s=new FormData).append("file",a),e.prev=4,e.next=7,axios.post("/upload",s);case 7:i=e.sent,axios.post("/updatequestionimage",{questionid:t.id,image:i.data.file}).then(function(e){t.qtypedata.image=i.data.file}).catch(function(e){t.errors.push(e)}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),t.message=e.t0.response.data.error,t.error=!0;case 15:case"end":return e.stop()}},e,t,[[4,11]])}))()}},watch:{questiontext:function(t,e){this.debouncedUpdateQuestion()},questiondesc:function(t,e){this.debouncedUpdateDescription()}},created:function(){this.debouncedUpdateQuestion=_.debounce(this.updateQuestion,500),this.debouncedUpdateDescription=_.debounce(this.updateDescription,500),this.checkrequired()},computed:{questionfinalimage:function(){return window.publicfileurl+this.qtypedata.image}}},ma={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"text_comment qtype"},[s("v-text-field",{attrs:{label:"Type Question here...",required:""},on:{input:t.changeQuestion},model:{value:t.qtypedata.questiontext,callback:function(e){t.$set(t.qtypedata,"questiontext",e)},expression:"qtypedata.questiontext"}}),t._v(" "),""!=t.qtypedata.image&&"1"==t.qtypedata.haveimage?s("div",{staticClass:"questionimagepreview"},[s("img",{staticClass:"img-question",attrs:{src:t.questionfinalimage}})]):t._e(),t._v(" "),"1"==t.qtypedata.havedescription?s("div",{staticClass:"tobedeletedesc"},[s("button",{staticClass:"btn-absolute right top",on:{click:function(e){return t.removeDescription()}}},[s("img",{staticClass:"deletequestion",attrs:{src:a("yJyA")}})]),t._v(" "),s("div",{staticClass:"editorinput-conatiner"},[s("div",{staticClass:"editorinput-title"},[t._v("Description: ")]),t._v(" "),s("tinymce",{ref:"tincyeditor",attrs:{id:"editor_"+t.qtypedata._id},on:{input:t.changeDescription,editorInit:t.editorInit},model:{value:t.qtypedata.description,callback:function(e){t.$set(t.qtypedata,"description",e)},expression:"qtypedata.description"}})],1)]):t._e(),t._v(" "),"1"==t.qtypedata.haveimage?s("div",{staticClass:"questionimage"},[s("button",{staticClass:"btn-absolute extreme-right top ",on:{click:function(e){return t.removeQuestionHaveImage()}}},[s("img",{staticClass:"deletequestion",attrs:{src:a("yJyA")}})]),t._v(" "),s("form",{staticClass:"form_dropzone",attrs:{enctype:"multipart/form-data"}},[s("div",{staticClass:"dropzone"},[s("div",[s("input",{ref:"file",staticClass:"file-upload-input",attrs:{type:"file"},on:{change:t.sendImageFile}}),t._v(" "),s("p",{staticClass:"call-to-action"},[t._v("Drag your file here")]),t._v(" "),""!=t.qtypedata.image?s("p",{},[t._v(t._s(t.qtypedata.image))]):t._e()])])])]):t._e(),t._v(" "),s("v-layout",{attrs:{"align-center":""}},[s("textarea",{staticClass:"xs12textarea",attrs:{disabled:"",rows:"8"}})]),t._v(" "),s("div",{staticClass:"que_bottom_btns"},[s("v-chip",{staticClass:"addchip",on:{click:function(e){return t.addDescription()}}},[s("v-avatar",[s("v-icon",[t._v("format_align_left")])],1),t._v("Add Instruction")],1),t._v(" "),s("v-chip",{staticClass:"addchip",on:{click:function(e){return t.addQuestionHaveImage()}}},[s("v-avatar",[s("v-icon",[t._v("image")])],1),t._v("Add Image")],1),t._v(" "),s("v-checkbox",{attrs:{label:"Required"},on:{change:t.changerequired},model:{value:t.required,callback:function(e){t.required=e},expression:"required"}})],1)],1)},staticRenderFns:[]};var fa=a("VU/8")(ha,ma,!1,function(t){a("Af+6")},null,null).exports,ga={props:["qtypedata"],data:function(){return{id:this.qtypedata._id,questiontext:this.qtypedata.questiontext,questiondesc:this.qtypedata.description,maskformat:this.qtypedata.maskformat,required:!1}},methods:{editorInit:function(){this.$refs.tincyeditor.editor.setContent(this.questiondesc)},addDescription:function(){var t=this;axios.post("/updatehavedescription",{questionid:this.id,havedesc:"1"}).then(function(e){t.qtypedata.havedescription="1"}).catch(function(e){t.errors.push(e)})},removeDescription:function(){var t=this;axios.post("/updatehavedescription",{questionid:this.id,havedesc:"0"}).then(function(e){t.qtypedata.havedescription="0"}).catch(function(e){t.errors.push(e)})},changerequired:function(){var t=this,e="1";0==this.required&&(e="0"),axios.post("/updatequestionrequired",{questionid:this.id,required:e}).then(function(a){console.log(a),t.qtypedata.required=e}).catch(function(e){t.errors.push(e)})},checkrequired:function(){"1"==this.qtypedata.required&&(this.required=!0)},changeQuestion:function(t){this.questiontext=t},updateQuestion:function(){var t=this,e=this.id,a=this.questiontext;axios.post("/updatequestion",{questionid:e,questiontext:a}).then(function(t){console.log(t)}).catch(function(e){t.errors.push(e)})},changeDescription:function(t){this.questiondesc=t},updateDescription:function(){var t=this,e=this.id,a=this.questiondesc;axios.post("/updatedescription",{questionid:e,desctext:a}).then(function(t){console.log(t)}).catch(function(e){t.errors.push(e)})},addQuestionHaveImage:function(){var t=this;axios.post("/updatehaveimage",{questionid:this.id,haveimage:"1"}).then(function(e){t.qtypedata.haveimage="1"}).catch(function(e){t.errors.push(e)})},removeQuestionHaveImage:function(){var t=this;axios.post("/updatehaveimage",{questionid:this.id,haveimage:"0"}).then(function(e){t.qtypedata.haveimage="0"}).catch(function(e){t.errors.push(e)})},sendImageFile:function(){var t=this;return Tt()(Lt.a.mark(function e(){var a,s,i;return Lt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.$refs.file.files[0],console.log(a),(s=new FormData).append("file",a),e.prev=4,e.next=7,axios.post("/upload",s);case 7:i=e.sent,axios.post("/updatequestionimage",{questionid:t.id,image:i.data.file}).then(function(e){t.qtypedata.image=i.data.file}).catch(function(e){t.errors.push(e)}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),t.message=e.t0.response.data.error,t.error=!0;case 15:case"end":return e.stop()}},e,t,[[4,11]])}))()}},watch:{questiontext:function(t,e){this.debouncedUpdateQuestion()},questiondesc:function(t,e){this.debouncedUpdateDescription()}},created:function(){this.debouncedUpdateQuestion=_.debounce(this.updateQuestion,500),this.debouncedUpdateDescription=_.debounce(this.updateDescription,500),this.checkrequired()},computed:{questionfinalimage:function(){return window.publicfileurl+this.qtypedata.image}}},ya={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"text_number qtype"},[s("v-text-field",{attrs:{label:"Type Question here...",required:""},on:{input:t.changeQuestion},model:{value:t.qtypedata.questiontext,callback:function(e){t.$set(t.qtypedata,"questiontext",e)},expression:"qtypedata.questiontext"}}),t._v(" "),""!=t.qtypedata.image&&"1"==t.qtypedata.haveimage?s("div",{staticClass:"questionimagepreview"},[s("img",{staticClass:"img-question",attrs:{src:t.questionfinalimage}})]):t._e(),t._v(" "),"1"==t.qtypedata.havedescription?s("div",{staticClass:"tobedeletedesc"},[s("button",{staticClass:"btn-absolute right top",on:{click:function(e){return t.removeDescription()}}},[s("img",{staticClass:"deletequestion",attrs:{src:a("yJyA")}})]),t._v(" "),s("div",{staticClass:"editorinput-conatiner"},[s("div",{staticClass:"editorinput-title"},[t._v("Description: ")]),t._v(" "),s("tinymce",{ref:"tincyeditor",attrs:{id:"editor_"+t.qtypedata._id},on:{input:t.changeDescription,editorInit:t.editorInit},model:{value:t.qtypedata.description,callback:function(e){t.$set(t.qtypedata,"description",e)},expression:"qtypedata.description"}})],1)]):t._e(),t._v(" "),"1"==t.qtypedata.haveimage?s("div",{staticClass:"questionimage"},[s("button",{staticClass:"btn-absolute extreme-right top ",on:{click:function(e){return t.removeQuestionHaveImage()}}},[s("img",{staticClass:"deletequestion",attrs:{src:a("yJyA")}})]),t._v(" "),s("form",{staticClass:"form_dropzone",attrs:{enctype:"multipart/form-data"}},[s("div",{staticClass:"dropzone"},[s("div",[s("input",{ref:"file",staticClass:"file-upload-input",attrs:{type:"file"},on:{change:t.sendImageFile}}),t._v(" "),s("p",{staticClass:"call-to-action"},[t._v("Drag your file here")]),t._v(" "),""!=t.qtypedata.image?s("p",{},[t._v(t._s(t.qtypedata.image))]):t._e()])])])]):t._e(),t._v(" "),s("v-layout",{attrs:{"align-center":""}},[s("v-text-field",{attrs:{mask:"##",label:"Digits allowed"},model:{value:t.qtypedata.maskformat,callback:function(e){t.$set(t.qtypedata,"maskformat",e)},expression:"qtypedata.maskformat"}})],1),t._v(" "),s("div",{staticClass:"que_bottom_btns"},[s("v-chip",{staticClass:"addchip",on:{click:function(e){return t.addDescription()}}},[s("v-avatar",[s("v-icon",[t._v("format_align_left")])],1),t._v("Add Instruction")],1),t._v(" "),s("v-chip",{staticClass:"addchip",on:{click:function(e){return t.addQuestionHaveImage()}}},[s("v-avatar",[s("v-icon",[t._v("image")])],1),t._v("Add Image")],1),t._v(" "),s("v-checkbox",{attrs:{label:"Required"},on:{change:t.changerequired},model:{value:t.required,callback:function(e){t.required=e},expression:"required"}})],1)],1)},staticRenderFns:[]};var _a=a("VU/8")(ga,ya,!1,function(t){a("c1Fp")},null,null).exports,xa={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text_contact qtype"},[e("v-text-field",{attrs:{label:"Type Question here...",required:""},on:{input:this.changeQuestion}}),this._v(" "),e("v-layout",{attrs:{"align-center":""}},[e("v-text-field",{attrs:{label:"First Name"}})],1),this._v(" "),e("v-layout",{attrs:{"align-center":""}},[e("v-text-field",{attrs:{label:"Last Name"}})],1),this._v(" "),e("v-layout",{attrs:{"align-center":""}},[e("v-text-field",{attrs:{label:"Email"}})],1),this._v(" "),e("v-layout",{attrs:{"align-center":""}},[e("v-text-field",{attrs:{label:"Phone"}})],1),this._v(" "),e("v-layout",{attrs:{"align-center":""}},[e("v-text-field",{attrs:{label:"Address..."}})],1)],1)},staticRenderFns:[]};var ba=a("VU/8")({props:["qtypedata"],data:function(){return{questiontext:this.qtypedata.questiontext}},methods:{changeQuestion:function(t){this.questiontext=t,this.$emit("changeQuestion",this.questiontext)}}},xa,!1,function(t){a("Tf+Z")},null,null).exports,qa={props:["qtypedata"],data:function(){return{id:this.qtypedata._id,questiontext:this.qtypedata.questiontext,questiondesc:this.qtypedata.description,required:!1,email:"",rules:{email:function(t){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)||"Invalid e-mail."}}}},methods:{editorInit:function(){this.$refs.tincyeditor.editor.setContent(this.questiondesc)},addDescription:function(){var t=this;axios.post("/updatehavedescription",{questionid:this.id,havedesc:"1"}).then(function(e){t.qtypedata.havedescription="1"}).catch(function(e){t.errors.push(e)})},removeDescription:function(){var t=this;axios.post("/updatehavedescription",{questionid:this.id,havedesc:"0"}).then(function(e){t.qtypedata.havedescription="0"}).catch(function(e){t.errors.push(e)})},changeQuestion:function(t){this.questiontext=t,this.$emit("changeQuestion",this.questiontext)},changerequired:function(){var t=this,e="1";0==this.required&&(e="0"),axios.post("/updatequestionrequired",{questionid:this.id,required:e}).then(function(a){console.log(a),t.qtypedata.required=e}).catch(function(e){t.errors.push(e)})},checkrequired:function(){"1"==this.qtypedata.required&&(this.required=!0)},updateQuestion:function(){var t=this,e=this.id,a=this.questiontext;axios.post("/updatequestion",{questionid:e,questiontext:a}).then(function(t){console.log(t)}).catch(function(e){t.errors.push(e)})},changeDescription:function(t){this.questiondesc=t},updateDescription:function(){var t=this,e=this.id,a=this.questiondesc;axios.post("/updatedescription",{questionid:e,desctext:a}).then(function(t){console.log(t)}).catch(function(e){t.errors.push(e)})},addQuestionHaveImage:function(){var t=this;axios.post("/updatehaveimage",{questionid:this.id,haveimage:"1"}).then(function(e){t.qtypedata.haveimage="1"}).catch(function(e){t.errors.push(e)})},removeQuestionHaveImage:function(){var t=this;axios.post("/updatehaveimage",{questionid:this.id,haveimage:"0"}).then(function(e){t.qtypedata.haveimage="0"}).catch(function(e){t.errors.push(e)})},sendImageFile:function(){var t=this;return Tt()(Lt.a.mark(function e(){var a,s,i;return Lt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.$refs.file.files[0],console.log(a),(s=new FormData).append("file",a),e.prev=4,e.next=7,axios.post("/upload",s);case 7:i=e.sent,axios.post("/updatequestionimage",{questionid:t.id,image:i.data.file}).then(function(e){t.qtypedata.image=i.data.file}).catch(function(e){t.errors.push(e)}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),t.message=e.t0.response.data.error,t.error=!0;case 15:case"end":return e.stop()}},e,t,[[4,11]])}))()}},watch:{questiontext:function(t,e){this.debouncedUpdateQuestion()},questiondesc:function(t,e){this.debouncedUpdateDescription()}},created:function(){this.debouncedUpdateQuestion=_.debounce(this.updateQuestion,500),this.debouncedUpdateDescription=_.debounce(this.updateDescription,500),this.checkrequired()},computed:{questionfinalimage:function(){return window.publicfileurl+this.qtypedata.image}}},wa={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"text_single qtype"},[s("v-text-field",{attrs:{label:"Type Question here...",required:""},on:{input:t.changeQuestion},model:{value:t.qtypedata.questiontext,callback:function(e){t.$set(t.qtypedata,"questiontext",e)},expression:"qtypedata.questiontext"}}),t._v(" "),""!=t.qtypedata.image&&"1"==t.qtypedata.haveimage?s("div",{staticClass:"questionimagepreview"},[s("img",{staticClass:"img-question",attrs:{src:t.questionfinalimage}})]):t._e(),t._v(" "),"1"==t.qtypedata.havedescription?s("div",{staticClass:"tobedeletedesc"},[s("button",{staticClass:"btn-absolute right top",on:{click:function(e){return t.removeDescription()}}},[s("img",{staticClass:"deletequestion",attrs:{src:a("yJyA")}})]),t._v(" "),s("div",{staticClass:"editorinput-conatiner"},[s("div",{staticClass:"editorinput-title"},[t._v("Description: ")]),t._v(" "),s("tinymce",{ref:"tincyeditor",attrs:{id:"editor_"+t.qtypedata._id},on:{input:t.changeDescription,editorInit:t.editorInit},model:{value:t.qtypedata.description,callback:function(e){t.$set(t.qtypedata,"description",e)},expression:"qtypedata.description"}})],1)]):t._e(),t._v(" "),"1"==t.qtypedata.haveimage?s("div",{staticClass:"questionimage"},[s("button",{staticClass:"btn-absolute extreme-right top ",on:{click:function(e){return t.removeQuestionHaveImage()}}},[s("img",{staticClass:"deletequestion",attrs:{src:a("yJyA")}})]),t._v(" "),s("form",{staticClass:"form_dropzone",attrs:{enctype:"multipart/form-data"}},[s("div",{staticClass:"dropzone"},[s("div",[s("input",{ref:"file",staticClass:"file-upload-input",attrs:{type:"file"},on:{change:t.sendImageFile}}),t._v(" "),s("p",{staticClass:"call-to-action"},[t._v("Drag your file here")]),t._v(" "),""!=t.qtypedata.image?s("p",{},[t._v(t._s(t.qtypedata.image))]):t._e()])])])]):t._e(),t._v(" "),s("v-layout",{attrs:{"align-center":""}},[s("v-text-field",{attrs:{rules:[t.rules.email],label:"Email"}})],1),t._v(" "),s("div",{staticClass:"que_bottom_btns"},[s("v-chip",{staticClass:"addchip",on:{click:function(e){return t.addDescription()}}},[s("v-avatar",[s("v-icon",[t._v("format_align_left")])],1),t._v("Add Instruction")],1),t._v(" "),s("v-chip",{staticClass:"addchip",on:{click:function(e){return t.addQuestionHaveImage()}}},[s("v-avatar",[s("v-icon",[t._v("image")])],1),t._v("Add Image")],1),t._v(" "),s("v-checkbox",{attrs:{label:"Required"},on:{change:t.changerequired},model:{value:t.required,callback:function(e){t.required=e},expression:"required"}})],1)],1)},staticRenderFns:[]},Ca=a("VU/8")(qa,wa,!1,null,null,null).exports,Ma={props:["qtypedata"],data:function(){return{id:this.qtypedata._id,questiontext:this.qtypedata.questiontext,questiondesc:this.qtypedata.description,options:this.qtypedata.choice,required:!1}},methods:{editorInit:function(){this.$refs.tincyeditor.editor.setContent(this.questiondesc)},addDescription:function(){var t=this;axios.post("/updatehavedescription",{questionid:this.id,havedesc:"1"}).then(function(e){t.qtypedata.havedescription="1"}).catch(function(e){t.errors.push(e)})},removeDescription:function(){var t=this;axios.post("/updatehavedescription",{questionid:this.id,havedesc:"0"}).then(function(e){t.qtypedata.havedescription="0"}).catch(function(e){t.errors.push(e)})},changerequired:function(){var t=this,e="1";0==this.required&&(e="0"),axios.post("/updatequestionrequired",{questionid:this.id,required:e}).then(function(a){console.log(a),t.qtypedata.required=e}).catch(function(e){t.errors.push(e)})},checkrequired:function(){"1"==this.qtypedata.required&&(this.required=!0)},deleteOptions:function(t,e){var a=this,s=this.options[t]._id;axios.post("/deleteoptions",{optionid:s}).then(function(e){1==e.data.n&&(a.options.splice(t,1),a.$emit("deleteOptions",a.options))}).catch(function(t){a.errors.push(t)})},addOption:function(){var t=this;axios.post("/addoptions",{questionid:this.id,choicestate:"0",choicetext:""}).then(function(e){1==e.data.status&&(t.options.push(e.data.result),t.$emit("addOption",t.options))}).catch(function(e){t.errors.push(e)})},updateallOptiontext:function(){var t=this,e=(this.id,this.options);console.log("from options"),axios.post("/updatequestionoption",{alloption:e}).then(function(t){console.log(t)}).catch(function(e){t.errors.push(e)})},changeQuestion:function(t){this.questiontext=t},updateQuestion:function(){var t=this,e=this.id,a=this.questiontext;axios.post("/updatequestion",{questionid:e,questiontext:a}).then(function(t){console.log(t)}).catch(function(e){t.errors.push(e)})},changeDescription:function(t){this.questiondesc=t},updateDescription:function(){var t=this,e=this.id,a=this.questiondesc;axios.post("/updatedescription",{questionid:e,desctext:a}).then(function(t){console.log(t)}).catch(function(e){t.errors.push(e)})},changeOption:function(t){this.options[t].choicetext=event.target.value,this.debouncedUpdateOptions()},addQuestionHaveImage:function(){var t=this;axios.post("/updatehaveimage",{questionid:this.id,haveimage:"1"}).then(function(e){t.qtypedata.haveimage="1"}).catch(function(e){t.errors.push(e)})},removeQuestionHaveImage:function(){var t=this;axios.post("/updatehaveimage",{questionid:this.id,haveimage:"0"}).then(function(e){t.qtypedata.haveimage="0"}).catch(function(e){t.errors.push(e)})},sendImageFile:function(){var t=this;return Tt()(Lt.a.mark(function e(){var a,s,i;return Lt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.$refs.file.files[0],console.log(a),(s=new FormData).append("file",a),e.prev=4,e.next=7,axios.post("/upload",s);case 7:i=e.sent,axios.post("/updatequestionimage",{questionid:t.id,image:i.data.file}).then(function(e){t.qtypedata.image=i.data.file}).catch(function(e){t.errors.push(e)}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),t.message=e.t0.response.data.error,t.error=!0;case 15:case"end":return e.stop()}},e,t,[[4,11]])}))()}},watch:{questiontext:function(t,e){this.debouncedUpdateQuestion()},questiondesc:function(t,e){this.debouncedUpdateDescription()}},created:function(){this.debouncedUpdateQuestion=_.debounce(this.updateQuestion,500),this.debouncedUpdateDescription=_.debounce(this.updateDescription,500),this.debouncedUpdateOptions=_.debounce(this.updateallOptiontext,500),this.checkrequired()},computed:{questionfinalimage:function(){return window.publicfileurl+this.qtypedata.image}}},Ia={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"multichoice_question qtype"},[s("div",{staticClass:"multichoice_option"},[s("v-text-field",{attrs:{label:"Type Question here...",required:""},on:{input:t.changeQuestion},model:{value:t.qtypedata.questiontext,callback:function(e){t.$set(t.qtypedata,"questiontext",e)},expression:"qtypedata.questiontext"}}),t._v(" "),""!=t.qtypedata.image&&"1"==t.qtypedata.haveimage?s("div",{staticClass:"questionimagepreview"},[s("img",{staticClass:"img-question",attrs:{src:t.questionfinalimage}})]):t._e(),t._v(" "),"1"==t.qtypedata.havedescription?s("div",{staticClass:"tobedeletedesc"},[s("button",{staticClass:"btn-absolute right top",on:{click:function(e){return t.removeDescription()}}},[s("img",{staticClass:"deletequestion",attrs:{src:a("yJyA")}})]),t._v(" "),s("div",{staticClass:"editorinput-conatiner"},[s("div",{staticClass:"editorinput-title"},[t._v("Description: ")]),t._v(" "),s("tinymce",{ref:"tincyeditor",attrs:{id:"editor_"+t.qtypedata._id},on:{input:t.changeDescription,editorInit:t.editorInit},model:{value:t.qtypedata.description,callback:function(e){t.$set(t.qtypedata,"description",e)},expression:"qtypedata.description"}})],1)]):t._e(),t._v(" "),"1"==t.qtypedata.haveimage?s("div",{staticClass:"questionimage"},[s("button",{staticClass:"btn-absolute extreme-right top ",on:{click:function(e){return t.removeQuestionHaveImage()}}},[s("img",{staticClass:"deletequestion",attrs:{src:a("yJyA")}})]),t._v(" "),s("form",{staticClass:"form_dropzone",attrs:{enctype:"multipart/form-data"}},[s("div",{staticClass:"dropzone"},[s("div",[s("input",{ref:"file",staticClass:"file-upload-input",attrs:{type:"file"},on:{change:t.sendImageFile}}),t._v(" "),s("p",{staticClass:"call-to-action"},[t._v("Drag your file here")]),t._v(" "),""!=t.qtypedata.image?s("p",{},[t._v(t._s(t.qtypedata.image))]):t._e()])])])]):t._e(),t._v(" "),t._l(t.qtypedata.choice,function(e,i){return s("div",{key:i,staticClass:"tobedelete"},[s("v-btn",{staticClass:"btn-extrasmall",attrs:{fab:""},on:{click:function(e){return t.deleteOptions(i)}}},[s("img",{staticClass:"deletequestion",attrs:{src:a("yJyA")}})]),t._v(" "),s("v-layout",{attrs:{"align-center":""}},[s("v-text-field",{key:i,attrs:{label:"Option "+(i+1)},on:{input:function(e){return t.changeOption(i)}},model:{value:e.choicetext,callback:function(a){t.$set(e,"choicetext",a)},expression:"option.choicetext"}})],1)],1)})],2),t._v(" "),s("div",{staticClass:"que_bottom_btns"},[s("v-chip",{staticClass:"addchip",on:{click:function(e){return t.addOption()}}},[s("v-avatar",[s("v-icon",[t._v("add")])],1),t._v("Add option")],1),t._v(" "),s("v-chip",{staticClass:"addchip",on:{click:function(e){return t.addDescription()}}},[s("v-avatar",[s("v-icon",[t._v("format_align_left")])],1),t._v("Add Instruction")],1),t._v(" "),s("v-chip",{staticClass:"addchip",on:{click:function(e){return t.addQuestionHaveImage()}}},[s("v-avatar",[s("v-icon",[t._v("image")])],1),t._v("Add Image")],1),t._v(" "),s("v-checkbox",{attrs:{label:"Required"},on:{change:t.changerequired},model:{value:t.required,callback:function(e){t.required=e},expression:"required"}})],1)])},staticRenderFns:[]},ka=a("VU/8")(Ma,Ia,!1,null,null,null).exports,ja={data:function(){return{}},methods:{addquestion:function(t){console.log(t),this.builderarray.push(t),console.log(this.builderarray)}},created:function(){var t=this;axios.post("/getcurrentuser",{username:username}).then(function(e){t.currentuser=e.data._id}).catch(function(e){t.errors.push(e)})}},Na={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text_single qtype"},[a("v-card",[a("v-card-text",[a("v-text-field",{attrs:{label:"Type Question here...",required:""},model:{value:t.questiontext,callback:function(e){t.questiontext=e},expression:"questiontext"}}),t._v(" "),a("v-layout",{attrs:{"align-center":""}},[a("input",{ref:"file",attrs:{type:"file",id:"file"},on:{change:function(e){return t.handleFileUpload()}}})])],1)],1),t._v(" "),a("v-layout",{attrs:{"align-center":""}},[a("v-chip",{staticClass:"addchip"},[a("v-avatar",{on:{onclick:function(e){return t.addoption()}}},[a("v-icon",[t._v("add")])],1),t._v("\n    Add choice\n  ")],1)],1)],1)},staticRenderFns:[]},Da=a("VU/8")(ja,Na,!1,null,null,null).exports,La={props:["qtypedata"],data:function(){return{id:this.qtypedata._id,file:"",message:"",error:!1,uploading:!1,questiontext:this.qtypedata.questiontext,questiondesc:this.qtypedata.description,required:!1}},methods:{editorInit:function(){this.$refs.tincyeditor.editor.setContent(this.questiondesc)},updateHaveImage:function(t){var e=this;axios.post("/updatehaveimage",{questionid:this.id,haveimage:t}).then(function(a){e.qtypedata.haveimage=t}).catch(function(t){e.errors.push(t)})},addDescription:function(){var t=this;axios.post("/updatehavedescription",{questionid:this.id,havedesc:"1"}).then(function(e){t.qtypedata.havedescription="1"}).catch(function(e){t.errors.push(e)})},changerequired:function(){var t=this,e="1";0==this.required&&(e="0"),axios.post("/updatequestionrequired",{questionid:this.id,required:e}).then(function(a){console.log(a),t.qtypedata.required=e}).catch(function(e){t.errors.push(e)})},checkrequired:function(){"1"==this.qtypedata.required&&(this.required=!0)},removeDescription:function(){var t=this;axios.post("/updatehavedescription",{questionid:this.id,havedesc:"0"}).then(function(e){t.qtypedata.havedescription="0"}).catch(function(e){t.errors.push(e)})},changeQuestion:function(t){this.questiontext=t},updateQuestion:function(){var t=this,e=this.id,a=this.questiontext;axios.post("/updatequestion",{questionid:e,questiontext:a}).then(function(t){}).catch(function(e){t.errors.push(e)})},changeDescription:function(t){console.log(t),this.questiondesc=t},updateDescription:function(){var t=this,e=this.id,a=this.questiondesc;axios.post("/updatedescription",{questionid:e,desctext:a}).then(function(t){}).catch(function(e){t.errors.push(e)})}},watch:{questiontext:function(t,e){this.debouncedUpdateQuestion()},questiondesc:function(t,e){this.debouncedUpdateDescription()}},created:function(){this.debouncedUpdateQuestion=_.debounce(this.updateQuestion,500),this.debouncedUpdateDescription=_.debounce(this.updateDescription,500),this.checkrequired()}},Aa={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"text_single qtype"},[s("v-text-field",{attrs:{label:"Type Question here...",required:""},on:{input:t.changeQuestion},model:{value:t.qtypedata.questiontext,callback:function(e){t.$set(t.qtypedata,"questiontext",e)},expression:"qtypedata.questiontext"}}),t._v(" "),"1"==t.qtypedata.havedescription?s("div",{staticClass:"tobedeletedesc"},[s("button",{staticClass:"btn-absolute right top",on:{click:function(e){return t.removeDescription()}}},[s("img",{staticClass:"deletequestion",attrs:{src:a("yJyA")}})]),t._v(" "),s("div",{staticClass:"editorinput-conatiner"},[s("div",{staticClass:"editorinput-title"},[t._v("Description: ")]),t._v(" "),s("tinymce",{ref:"tincyeditor",attrs:{id:"editor_"+t.qtypedata._id},on:{input:t.changeDescription,editorInit:t.editorInit},model:{value:t.qtypedata.description,callback:function(e){t.$set(t.qtypedata,"description",e)},expression:"qtypedata.description"}})],1)]):t._e(),t._v(" "),s("v-layout",{attrs:{"align-center":""}},[s("form",{staticClass:"form_dropzone",attrs:{enctype:"multipart/form-data"}},[s("div",{staticClass:"dropzone"},[s("div",[s("input",{ref:"file",staticClass:"file-upload-input",attrs:{type:"file"}}),t._v(" "),t.uploading?t._e():s("p",{staticClass:"call-to-action"},[t._v("Drag your file here")]),t._v(" "),t.uploading?s("p",{staticClass:"progress-bar"}):t._e()])])])]),t._v(" "),s("div",{staticClass:"que_bottom_btns"},[s("v-chip",{staticClass:"addchip",on:{click:function(e){return t.addDescription()}}},[s("v-avatar",[s("v-icon",[t._v("format_align_left")])],1),t._v("Add Instruction")],1),t._v(" "),s("v-chip",{staticClass:"addchip",on:{click:function(e){return t.addQuestionHaveImage()}}},[s("v-avatar",[s("v-icon",[t._v("image")])],1),t._v("Add Image")],1),t._v(" "),s("v-checkbox",{attrs:{label:"Required"},on:{change:t.changerequired},model:{value:t.required,callback:function(e){t.required=e},expression:"required"}})],1)],1)},staticRenderFns:[]},Ta=a("VU/8")(La,Aa,!1,null,null,null).exports,Sa={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text_single qtype"},[e("v-card",[e("v-card-text",[e("v-layout",{attrs:{"align-center":""}},[this._v("\n------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n         ")])],1)],1)],1)},staticRenderFns:[]},Ea=a("VU/8")(null,Sa,!1,null,null,null).exports,za={props:["qtypedata"],data:function(){return{id:this.qtypedata._id,questiontext:this.qtypedata.questiontext}},methods:{changeQuestion:function(t){this.questiontext=t},updateQuestion:function(){var t=this,e=this.id,a=this.questiontext;axios.post("/updatequestion",{questionid:e,questiontext:a}).then(function(t){console.log(t)}).catch(function(e){t.errors.push(e)})}},watch:{questiontext:function(t,e){this.debouncedUpdateQuestion()}},created:function(){this.debouncedUpdateQuestion=_.debounce(this.updateQuestion,500)},computed:{questionfinalimage:function(){return window.publicfileurl+this.qtypedata.image}}},Oa={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text_h2head sqtype"},[a("v-text-field",{attrs:{label:"Heading Here",required:""},on:{input:t.changeQuestion},model:{value:t.qtypedata.questiontext,callback:function(e){t.$set(t.qtypedata,"questiontext",e)},expression:"qtypedata.questiontext"}})],1)},staticRenderFns:[]},Ya=a("VU/8")(za,Oa,!1,null,null,null).exports,Fa={props:["qtypedata"],data:function(){return{id:this.qtypedata._id,questiondesc:this.qtypedata.description}},methods:{editorInit:function(){this.$refs.tincyeditor.editor.setContent(this.questiondesc)},changeDescription:function(t){this.questiondesc=t},updateDescription:function(){var t=this,e=this.id,a=this.questiondesc;axios.post("/updatedescription",{questionid:e,desctext:a}).then(function(t){console.log(t)}).catch(function(e){t.errors.push(e)})}},watch:{questiondesc:function(t,e){this.debouncedUpdateDescription()}},created:function(){this.debouncedUpdateDescription=_.debounce(this.updateDescription,500)}},Ua={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Welcomenotes qtype"},[a("div",{staticClass:"editorinput-conatiner"},[a("div",{staticClass:"editorinput-title"},[t._v("Welcome Note: ")]),t._v(" "),a("tinymce",{ref:"tincyeditor",attrs:{id:"editor_"+t.qtypedata._id},on:{input:t.changeDescription,editorInit:t.editorInit},model:{value:t.qtypedata.description,callback:function(e){t.$set(t.qtypedata,"description",e)},expression:"qtypedata.description"}})],1)])},staticRenderFns:[]},Qa=a("VU/8")(Fa,Ua,!1,null,null,null).exports,$a={props:["qtypedata"],data:function(){return{id:this.qtypedata._id,questiondesc:this.qtypedata.description}},methods:{editorInit:function(){this.$refs.tincyeditor.editor.setContent(this.questiondesc)},changeDescription:function(t){this.questiondesc=t},updateDescription:function(){var t=this,e=this.id,a=this.questiondesc;axios.post("/updatedescription",{questionid:e,desctext:a}).then(function(t){console.log(t)}).catch(function(e){t.errors.push(e)})}},watch:{questiondesc:function(t,e){this.debouncedUpdateDescription()}},created:function(){this.debouncedUpdateDescription=_.debounce(this.updateDescription,500)}},Za={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"thankyoupage qtype"},[a("div",{staticClass:"editorinput-conatiner"},[a("div",{staticClass:"editorinput-title"},[t._v("Thankyou Note: ")]),t._v(" "),a("tinymce",{ref:"tincyeditor",attrs:{id:"editor_"+t.qtypedata._id,editorInit:"ddfgnm,dnfgmndf"},on:{input:t.changeDescription,editorInit:t.editorInit},model:{value:t.qtypedata.description,callback:function(e){t.$set(t.qtypedata,"description",e)},expression:"qtypedata.description"}})],1)])},staticRenderFns:[]},Ra=a("VU/8")($a,Za,!1,null,null,null).exports,Pa={props:["qtypedata"],data:function(){return{id:this.qtypedata._id,questiontext:this.qtypedata.questiontext,questiondesc:this.qtypedata.description,maxrate:this.qtypedata.maxrate,required:!1}},methods:{editorInit:function(){this.$refs.tincyeditor.editor.setContent(this.questiondesc)},addDescription:function(){var t=this;axios.post("/updatehavedescription",{questionid:this.id,havedesc:"1"}).then(function(e){t.qtypedata.havedescription="1"}).catch(function(e){t.errors.push(e)})},removeDescription:function(){var t=this;axios.post("/updatehavedescription",{questionid:this.id,havedesc:"0"}).then(function(e){t.qtypedata.havedescription="0"}).catch(function(e){t.errors.push(e)})},changeMaxrate:function(t){this.maxrate=t},changeQuestion:function(t){this.questiontext=t},changerequired:function(){var t=this,e="1";0==this.required&&(e="0"),axios.post("/updatequestionrequired",{questionid:this.id,required:e}).then(function(a){console.log(a),t.qtypedata.required=e}).catch(function(e){t.errors.push(e)})},checkrequired:function(){"1"==this.qtypedata.required&&(this.required=!0)},updateQuestion:function(){var t=this,e=this.id,a=this.questiontext;axios.post("/updatequestion",{questionid:e,questiontext:a}).then(function(t){console.log(t)}).catch(function(e){t.errors.push(e)})},changeDescription:function(t){this.questiondesc=t},updateDescription:function(){var t=this,e=this.id,a=this.questiondesc;axios.post("/updatedescription",{questionid:e,desctext:a}).then(function(t){console.log(t)}).catch(function(e){t.errors.push(e)})},updateMaxrate:function(){var t=this,e=this.id,a=this.maxrate;axios.post("/updatemaxrate",{questionid:e,maxrate:a}).then(function(t){console.log(t)}).catch(function(e){t.errors.push(e)})},addQuestionHaveImage:function(){var t=this;axios.post("/updatehaveimage",{questionid:this.id,haveimage:"1"}).then(function(e){t.qtypedata.haveimage="1"}).catch(function(e){t.errors.push(e)})},removeQuestionHaveImage:function(){var t=this;axios.post("/updatehaveimage",{questionid:this.id,haveimage:"0"}).then(function(e){t.qtypedata.haveimage="0"}).catch(function(e){t.errors.push(e)})},sendImageFile:function(){var t=this;return Tt()(Lt.a.mark(function e(){var a,s,i;return Lt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.$refs.file.files[0],console.log(a),(s=new FormData).append("file",a),e.prev=4,e.next=7,axios.post("/upload",s);case 7:i=e.sent,axios.post("/updatequestionimage",{questionid:t.id,image:i.data.file}).then(function(e){t.qtypedata.image=i.data.file}).catch(function(e){t.errors.push(e)}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),t.message=e.t0.response.data.error,t.error=!0;case 15:case"end":return e.stop()}},e,t,[[4,11]])}))()}},watch:{maxrate:function(t,e){this.debouncedUpdateMaxrate()},questiontext:function(t,e){this.debouncedUpdateQuestion()},questiondesc:function(t,e){this.debouncedUpdateDescription()}},created:function(){this.debouncedUpdateQuestion=_.debounce(this.updateQuestion,500),this.debouncedUpdateDescription=_.debounce(this.updateDescription,500),this.debouncedUpdateMaxrate=_.debounce(this.updateMaxrate,500),this.checkrequired()},computed:{questionfinalimage:function(){return window.publicfileurl+this.qtypedata.image}}},Ga={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ratingstar_qtype"},[s("v-text-field",{attrs:{label:"Type Question here...",required:""},on:{input:t.changeQuestion},model:{value:t.qtypedata.questiontext,callback:function(e){t.$set(t.qtypedata,"questiontext",e)},expression:"qtypedata.questiontext"}}),t._v(" "),""!=t.qtypedata.image&&"1"==t.qtypedata.haveimage?s("div",{staticClass:"questionimagepreview"},[s("img",{staticClass:"img-question",attrs:{src:t.questionfinalimage}})]):t._e(),t._v(" "),"1"==t.qtypedata.havedescription?s("div",{staticClass:"tobedeletedesc"},[s("button",{staticClass:"btn-absolute right top",on:{click:function(e){return t.removeDescription()}}},[s("img",{staticClass:"deletequestion",attrs:{src:a("yJyA")}})]),t._v(" "),s("div",{staticClass:"editorinput-conatiner"},[s("div",{staticClass:"editorinput-title"},[t._v("Description: ")]),t._v(" "),s("tinymce",{ref:"tincyeditor",attrs:{id:"editor_"+t.qtypedata._id},on:{input:t.changeDescription,editorInit:t.editorInit},model:{value:t.qtypedata.description,callback:function(e){t.$set(t.qtypedata,"description",e)},expression:"qtypedata.description"}})],1)]):t._e(),t._v(" "),"1"==t.qtypedata.haveimage?s("div",{staticClass:"questionimage"},[s("button",{staticClass:"btn-absolute extreme-right top ",on:{click:function(e){return t.removeQuestionHaveImage()}}},[s("img",{staticClass:"deletequestion",attrs:{src:a("yJyA")}})]),t._v(" "),s("form",{staticClass:"form_dropzone",attrs:{enctype:"multipart/form-data"}},[s("div",{staticClass:"dropzone"},[s("div",[s("input",{ref:"file",staticClass:"file-upload-input",attrs:{type:"file"},on:{change:t.sendImageFile}}),t._v(" "),s("p",{staticClass:"call-to-action"},[t._v("Drag your file here")]),t._v(" "),""!=t.qtypedata.image?s("p",{},[t._v(t._s(t.qtypedata.image))]):t._e()])])])]):t._e(),t._v(" "),s("v-layout",{attrs:{"align-center":""}},[s("v-text-field",{attrs:{mask:"##",label:"Max Number of star"},on:{input:t.changeMaxrate},model:{value:t.qtypedata.maxrate,callback:function(e){t.$set(t.qtypedata,"maxrate",e)},expression:"qtypedata.maxrate"}})],1),t._v(" "),s("div",{staticClass:"que_bottom_btns"},[s("v-chip",{staticClass:"addchip",on:{click:function(e){return t.addDescription()}}},[s("v-avatar",[s("v-icon",[t._v("format_align_left")])],1),t._v("Add Instruction")],1),t._v(" "),s("v-chip",{staticClass:"addchip",on:{click:function(e){return t.addQuestionHaveImage()}}},[s("v-avatar",[s("v-icon",[t._v("image")])],1),t._v("Add Image")],1),t._v(" "),s("v-checkbox",{attrs:{label:"Required"},on:{change:t.changerequired},model:{value:t.required,callback:function(e){t.required=e},expression:"required"}})],1)],1)},staticRenderFns:[]},Ja=a("VU/8")(Pa,Ga,!1,null,null,null).exports,Wa={props:["qtypedata"],data:function(){return{id:this.qtypedata._id,questiontext:this.qtypedata.questiontext,questiondesc:this.qtypedata.description,customformdata:this.qtypedata.customformdata,allwidth:["8.3%","16.6%","25%","33.3%","41.6%","50%","58.3%","66.6%","75%","83.3%","91.6%","100%"],alltype:["Number","Text","Textarea","Email","Date","Phone","Time"],required:!1}},methods:{editorInit:function(){this.$refs.tincyeditor.editor.setContent(this.questiondesc)},addDescription:function(){var t=this;axios.post("/updatehavedescription",{questionid:this.id,havedesc:"1"}).then(function(e){t.qtypedata.havedescription="1"}).catch(function(e){t.errors.push(e)})},changerequired:function(){var t=this,e="1";0==this.required&&(e="0"),axios.post("/updatequestionrequired",{questionid:this.id,required:e}).then(function(a){console.log(a),t.qtypedata.required=e}).catch(function(e){t.errors.push(e)})},checkrequired:function(){"1"==this.qtypedata.required&&(this.required=!0)},removeDescription:function(){var t=this;axios.post("/updatehavedescription",{questionid:this.id,havedesc:"0"}).then(function(e){t.qtypedata.havedescription="0"}).catch(function(e){t.errors.push(e)})},deleteField:function(t){var e=this,a=this.qtypedata.customformdata[t]._id;axios.post("/deletecustimfield",{fieldid:a}).then(function(a){console.log(a),1==a.data.n&&(e.qtypedata.customformdata.splice(t,1),e.$emit("deleteField",e.qtypedata.customformdata))}).catch(function(t){e.errors.push(t)})},addField:function(){var t=this;axios.post("/addnewcustomfield",{questionid:this.id,formdata:{title:"",type:"Text",width:"100%",required:!1}}).then(function(e){1==e.data.status&&(t.qtypedata.customformdata.push(e.data.result),t.$emit("addField",t.qtypedata.customformdata))}).catch(function(e){t.errors.push(e)})},changeQuestion:function(t){this.questiontext=t},updateQuestion:function(){var t=this,e=this.id,a=this.questiontext;axios.post("/updatequestion",{questionid:e,questiontext:a}).then(function(t){}).catch(function(e){t.errors.push(e)})},changeDescription:function(t){this.questiondesc=t},updateDescription:function(){var t=this,e=this.id,a=this.questiondesc;axios.post("/updatedescription",{questionid:e,desctext:a}).then(function(t){console.log(t)}).catch(function(e){t.errors.push(e)})},changefielddata:function(){this.debouncedUpdateallfielddata()},updateallfielddata:function(){var t=this,e=(this.id,this.qtypedata.customformdata);axios.post("/updatecustomfields",{allfields:e}).then(function(t){console.log("changefielddata")}).catch(function(e){t.errors.push(e)})},addQuestionHaveImage:function(){var t=this;axios.post("/updatehaveimage",{questionid:this.id,haveimage:"1"}).then(function(e){t.qtypedata.haveimage="1"}).catch(function(e){t.errors.push(e)})},removeQuestionHaveImage:function(){var t=this;axios.post("/updatehaveimage",{questionid:this.id,haveimage:"0"}).then(function(e){t.qtypedata.haveimage="0"}).catch(function(e){t.errors.push(e)})},sendImageFile:function(){var t=this;return Tt()(Lt.a.mark(function e(){var a,s,i;return Lt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.$refs.file.files[0],console.log(a),(s=new FormData).append("file",a),e.prev=4,e.next=7,axios.post("/upload",s);case 7:i=e.sent,axios.post("/updatequestionimage",{questionid:t.id,image:i.data.file}).then(function(e){t.qtypedata.image=i.data.file}).catch(function(e){t.errors.push(e)}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),t.message=e.t0.response.data.error,t.error=!0;case 15:case"end":return e.stop()}},e,t,[[4,11]])}))()}},watch:{questiontext:function(t,e){this.debouncedUpdateQuestion()},questiondesc:function(t,e){this.debouncedUpdateDescription()}},created:function(){this.debouncedUpdateQuestion=_.debounce(this.updateQuestion,500),this.debouncedUpdateDescription=_.debounce(this.updateDescription,500),this.debouncedUpdateallfielddata=_.debounce(this.updateallfielddata,500),this.checkrequired()},computed:{questionfinalimage:function(){return window.publicfileurl+this.qtypedata.image}}},Ha={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"qtype_customform"},[s("v-text-field",{attrs:{label:"Form heading",required:""},on:{input:t.changeQuestion},model:{value:t.qtypedata.questiontext,callback:function(e){t.$set(t.qtypedata,"questiontext",e)},expression:"qtypedata.questiontext"}}),t._v(" "),""!=t.qtypedata.image&&"1"==t.qtypedata.haveimage?s("div",{staticClass:"questionimagepreview"},[s("img",{staticClass:"img-question",attrs:{src:t.questionfinalimage}})]):t._e(),t._v(" "),"1"==t.qtypedata.havedescription?s("div",{staticClass:"tobedeletedesc"},[s("button",{staticClass:"btn-absolute right top",on:{click:function(e){return t.removeDescription()}}},[s("img",{staticClass:"deletequestion",attrs:{src:a("yJyA")}})]),t._v(" "),s("div",{staticClass:"editorinput-conatiner"},[s("div",{staticClass:"editorinput-title"},[t._v("Description: ")]),t._v(" "),s("tinymce",{ref:"tincyeditor",attrs:{id:"editor_"+t.qtypedata._id},on:{input:t.changeDescription,editorInit:t.editorInit},model:{value:t.qtypedata.description,callback:function(e){t.$set(t.qtypedata,"description",e)},expression:"qtypedata.description"}})],1)]):t._e(),t._v(" "),"1"==t.qtypedata.haveimage?s("div",{staticClass:"questionimage"},[s("button",{staticClass:"btn-absolute extreme-right top ",on:{click:function(e){return t.removeQuestionHaveImage()}}},[s("img",{staticClass:"deletequestion",attrs:{src:a("yJyA")}})]),t._v(" "),s("form",{staticClass:"form_dropzone",attrs:{enctype:"multipart/form-data"}},[s("div",{staticClass:"dropzone"},[s("div",[s("input",{ref:"file",staticClass:"file-upload-input",attrs:{type:"file"},on:{change:t.sendImageFile}}),t._v(" "),s("p",{staticClass:"call-to-action"},[t._v("Drag your file here")]),t._v(" "),""!=t.qtypedata.image?s("p",{},[t._v(t._s(t.qtypedata.image))]):t._e()])])])]):t._e(),t._v(" "),s("v-container",{attrs:{"grid-list-md":""}},[t._l(t.qtypedata.customformdata,function(e,i){return s("div",{key:"customformelem"+i,staticClass:"tobedelete"},[s("v-btn",{staticClass:"btn-extrasmall",attrs:{fab:""},on:{click:function(e){return t.deleteField(i)}}},[s("img",{staticClass:"deletequestion",attrs:{src:a("yJyA")}})]),t._v(" "),s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs4:""}},[s("v-text-field",{attrs:{label:"Title",required:""},on:{input:t.changefielddata},model:{value:e.title,callback:function(a){t.$set(e,"title",a)},expression:"customformelem.title"}})],1),t._v(" "),s("v-flex",{attrs:{xs2:""}},[s("v-select",{attrs:{items:t.allwidth,label:"Select Width"},on:{change:t.changefielddata},model:{value:e.width,callback:function(a){t.$set(e,"width",a)},expression:"customformelem.width"}})],1),t._v(" "),s("v-flex",{attrs:{xs3:""}},[s("v-switch",{attrs:{label:"Required"},on:{change:t.changefielddata},model:{value:e.required,callback:function(a){t.$set(e,"required",a)},expression:"customformelem.required"}})],1),t._v(" "),s("v-flex",{attrs:{xs2:""}},[s("v-select",{attrs:{items:t.alltype,label:"Select Type"},on:{change:t.changefielddata},model:{value:e.type,callback:function(a){t.$set(e,"type",a)},expression:"customformelem.type"}})],1)],1)],1)}),t._v(" "),s("div",{staticClass:"que_bottom_btns"},[s("v-chip",{staticClass:"addchip",on:{click:function(e){return t.addField()}}},[s("v-avatar",[s("v-icon",[t._v("add")])],1),t._v("Add Field")],1),t._v(" "),s("v-chip",{staticClass:"addchip",on:{click:function(e){return t.addDescription()}}},[s("v-avatar",[s("v-icon",[t._v("format_align_left")])],1),t._v("Add Instruction")],1),t._v(" "),s("v-chip",{staticClass:"addchip",on:{click:function(e){return t.addQuestionHaveImage()}}},[s("v-avatar",[s("v-icon",[t._v("image")])],1),t._v("Add Image")],1),t._v(" "),s("v-checkbox",{attrs:{label:"Required"},on:{change:t.changerequired},model:{value:t.required,callback:function(e){t.required=e},expression:"required"}})],1)],2)],1)},staticRenderFns:[]},Ba=a("VU/8")(Wa,Ha,!1,null,null,null).exports,Va={props:["qtypedata"],data:function(){return{id:this.qtypedata._id,questiondesc:this.qtypedata.description}},methods:{editorInit:function(){this.$refs.tincyeditor.editor.setContent(this.questiondesc)},changeDescription:function(t){this.questiondesc=t},updateDescription:function(){var t=this,e=this.id,a=this.questiondesc;axios.post("/updatedescription",{questionid:e,desctext:a}).then(function(t){console.log(t)}).catch(function(e){t.errors.push(e)})}},watch:{questiondesc:function(t,e){this.debouncedUpdateDescription()}},created:function(){this.debouncedUpdateDescription=_.debounce(this.updateDescription,500)}},Xa={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Description qtype"},[a("div",{staticClass:"editorinput-conatiner"},[a("div",{staticClass:"editorinput-title"},[t._v("Description: ")]),t._v(" "),a("tinymce",{ref:"tincyeditor",attrs:{id:"editor_"+t.qtypedata._id},on:{input:t.changeDescription,editorInit:t.editorInit},model:{value:t.qtypedata.description,callback:function(e){t.$set(t.qtypedata,"description",e)},expression:"qtypedata.description"}})],1)])},staticRenderFns:[]},Ka=a("VU/8")(Va,Xa,!1,null,null,null).exports,ts={props:["qtypedata"],data:function(){return{id:this.qtypedata._id,questiontext:this.qtypedata.questiontext,questiondesc:this.qtypedata.description,allrows:this.qtypedata.allrows,allcols:this.qtypedata.allcols,qtype:this.qtypedata.qtype,required:!1}},methods:{editorInit:function(){this.$refs.tincyeditor.editor.setContent(this.questiondesc)},addDescription:function(){var t=this;axios.post("/updatehavedescription",{questionid:this.id,havedesc:"1"}).then(function(e){t.qtypedata.havedescription="1"}).catch(function(e){t.errors.push(e)})},removeDescription:function(){var t=this;axios.post("/updatehavedescription",{questionid:this.id,havedesc:"0"}).then(function(e){t.qtypedata.havedescription="0"}).catch(function(e){t.errors.push(e)})},deleteRows:function(t){var e=this,a=this.qtypedata.allrows[t]._id;axios.post("/deletematrixrows",{rowid:a}).then(function(a){1==a.data.n&&(e.qtypedata.allrows.splice(t,1),e.$emit("deleteRows",e.qtypedata.allrows))}).catch(function(t){e.errors.push(t)})},changerequired:function(){var t=this,e="1";0==this.required&&(e="0"),axios.post("/updatequestionrequired",{questionid:this.id,required:e}).then(function(a){console.log(a),t.qtypedata.required=e}).catch(function(e){t.errors.push(e)})},checkrequired:function(){"1"==this.qtypedata.required&&(this.required=!0)},deleteCols:function(t){var e=this,a=this.qtypedata.allcols[t]._id;axios.post("/deletematrixcols",{colid:a}).then(function(a){1==a.data.n&&(e.qtypedata.allcols.splice(t,1),e.$emit("deleteCols",e.qtypedata.allcols))}).catch(function(t){e.errors.push(t)})},addRows:function(){var t=this;axios.post("/addmatrixrow",{questionid:this.id,option:"0",radioans:""}).then(function(e){console.log(e),1==e.data.status&&(t.qtypedata.allrows.push(e.data.result),t.$emit("addRows",t.qtypedata.allrows))}).catch(function(e){t.errors.push(e)})},addCols:function(){var t=this;axios.post("/addmatrixcol",{questionid:this.id,option:""}).then(function(e){console.log(e),1==e.data.status&&(t.qtypedata.allcols.push(e.data.result),t.$emit("addCols",t.qtypedata.allcols))}).catch(function(e){t.errors.push(e)})},changeQuestion:function(t){this.questiontext=t},changeQType:function(t){var e=this,a=this.id;this.questiontext;axios.post("/updateqtype",{questionid:a,qtypedata:t}).then(function(t){console.log(t)}).catch(function(t){e.errors.push(t)})},updateQuestion:function(){var t=this,e=this.id,a=this.questiontext;axios.post("/updatequestion",{questionid:e,questiontext:a}).then(function(t){console.log(t)}).catch(function(e){t.errors.push(e)})},changeDescription:function(t){this.questiondesc=t},updateDescription:function(){var t=this,e=this.id,a=this.questiondesc;axios.post("/updatedescription",{questionid:e,desctext:a}).then(function(t){console.log(t)}).catch(function(e){t.errors.push(e)})},changecoltext:function(t){this.debouncedUpdateallcoltext()},updateallcoltext:function(){var t=this,e=(this.id,this.qtypedata.allcols);console.log(e),axios.post("/updatematrixcols",{allcols:e}).then(function(t){console.log(t)}).catch(function(e){t.errors.push(e)})},changerowtext:function(t){this.debouncedUpdateallrowtext()},updateallrowtext:function(){var t=this,e=(this.id,this.qtypedata.allrows);console.log(e),axios.post("/updatematrixrows",{allrows:e}).then(function(t){console.log(t)}).catch(function(e){t.errors.push(e)})},addQuestionHaveImage:function(){var t=this;axios.post("/updatehaveimage",{questionid:this.id,haveimage:"1"}).then(function(e){t.qtypedata.haveimage="1"}).catch(function(e){t.errors.push(e)})},removeQuestionHaveImage:function(){var t=this;axios.post("/updatehaveimage",{questionid:this.id,haveimage:"0"}).then(function(e){t.qtypedata.haveimage="0"}).catch(function(e){t.errors.push(e)})},sendImageFile:function(){var t=this;return Tt()(Lt.a.mark(function e(){var a,s,i;return Lt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.$refs.file.files[0],console.log(a),(s=new FormData).append("file",a),e.prev=4,e.next=7,axios.post("/upload",s);case 7:i=e.sent,axios.post("/updatequestionimage",{questionid:t.id,image:i.data.file}).then(function(e){t.qtypedata.image=i.data.file}).catch(function(e){t.errors.push(e)}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),t.message=e.t0.response.data.error,t.error=!0;case 15:case"end":return e.stop()}},e,t,[[4,11]])}))()}},watch:{questiontext:function(t,e){this.debouncedUpdateQuestion()},questiondesc:function(t,e){this.debouncedUpdateDescription()}},created:function(){this.debouncedUpdateQuestion=_.debounce(this.updateQuestion,500),this.debouncedUpdateDescription=_.debounce(this.updateDescription,500),this.debouncedUpdateallcoltext=_.debounce(this.updateallcoltext,500),this.debouncedUpdateallrowtext=_.debounce(this.updateallrowtext,500),this.checkrequired()},computed:{questionfinalimage:function(){return window.publicfileurl+this.qtypedata.image}}},es={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"qtype_matrixquestion"},[s("v-text-field",{attrs:{label:"Form heading",required:""},on:{input:t.changeQuestion},model:{value:t.qtypedata.questiontext,callback:function(e){t.$set(t.qtypedata,"questiontext",e)},expression:"qtypedata.questiontext"}}),t._v(" "),""!=t.qtypedata.image&&"1"==t.qtypedata.haveimage?s("div",{staticClass:"questionimagepreview"},[s("img",{staticClass:"img-question",attrs:{src:t.questionfinalimage}})]):t._e(),t._v(" "),"1"==t.qtypedata.havedescription?s("div",{staticClass:"tobedeletedesc"},[s("button",{staticClass:"btn-absolute right top",on:{click:function(e){return t.removeDescription()}}},[s("img",{staticClass:"deletequestion",attrs:{src:a("yJyA")}})]),t._v(" "),s("div",{staticClass:"editorinput-conatiner"},[s("div",{staticClass:"editorinput-title"},[t._v("Description: ")]),t._v(" "),s("tinymce",{ref:"tincyeditor",attrs:{id:"editor_"+t.qtypedata._id},on:{input:t.changeDescription,editorInit:t.editorInit},model:{value:t.qtypedata.description,callback:function(e){t.$set(t.qtypedata,"description",e)},expression:"qtypedata.description"}})],1)]):t._e(),t._v(" "),"1"==t.qtypedata.haveimage?s("div",{staticClass:"questionimage"},[s("button",{staticClass:"btn-absolute extreme-right top ",on:{click:function(e){return t.removeQuestionHaveImage()}}},[s("img",{staticClass:"deletequestion",attrs:{src:a("yJyA")}})]),t._v(" "),s("form",{staticClass:"form_dropzone",attrs:{enctype:"multipart/form-data"}},[s("div",{staticClass:"dropzone"},[s("div",[s("input",{ref:"file",staticClass:"file-upload-input",attrs:{type:"file"},on:{change:t.sendImageFile}}),t._v(" "),s("p",{staticClass:"call-to-action"},[t._v("Drag your file here")]),t._v(" "),""!=t.qtypedata.image?s("p",{},[t._v(t._s(t.qtypedata.image))]):t._e()])])])]):t._e(),t._v(" "),s("v-radio-group",{attrs:{row:""},on:{change:t.changeQType},model:{value:t.qtypedata.qtype,callback:function(e){t.$set(t.qtypedata,"qtype",e)},expression:"qtypedata.qtype"}},[s("v-radio",{attrs:{label:"Single Choice",value:"0"}}),t._v(" "),s("v-radio",{attrs:{label:"Multi Choice",value:"1"}})],1),t._v(" "),s("h2",[t._v("Rows")]),t._v(" "),s("div",{staticClass:"allrows"},[t._l(t.qtypedata.allrows,function(e,i){return s("div",{key:i,staticClass:"tobedelete"},[s("v-btn",{staticClass:"btn-extrasmall",attrs:{fab:""},on:{click:function(e){return t.deleteRows(i)}}},[s("img",{staticClass:"deletequestion",attrs:{src:a("yJyA")}})]),t._v(" "),s("v-layout",{attrs:{"align-center":""}},[s("v-text-field",{key:i,attrs:{label:"Enter Text Here"},on:{input:function(e){return t.changerowtext(i)}},model:{value:e.option,callback:function(a){t.$set(e,"option",a)},expression:"rows.option"}})],1)],1)}),t._v(" "),s("v-chip",{staticClass:"addchip",on:{click:function(e){return t.addRows()}}},[s("v-avatar",[s("v-icon",[t._v("add")])],1),t._v("Add Rows")],1)],2),t._v(" "),s("h2",[t._v("Columns")]),t._v(" "),s("div",{staticClass:"allcols"},[t._l(t.qtypedata.allcols,function(e,i){return s("div",{key:i,staticClass:"tobedelete"},[s("v-btn",{staticClass:"btn-extrasmall",attrs:{fab:""},on:{click:function(e){return t.deleteCols(i)}}},[s("img",{staticClass:"deletequestion",attrs:{src:a("yJyA")}})]),t._v(" "),s("v-layout",{attrs:{"align-center":""}},[s("v-text-field",{key:i,attrs:{label:"Enter Text Here"},on:{input:function(e){return t.changecoltext(i)}},model:{value:e.option,callback:function(a){t.$set(e,"option",a)},expression:"cols.option"}})],1)],1)}),t._v(" "),s("v-chip",{staticClass:"addchip",on:{click:function(e){return t.addCols()}}},[s("v-avatar",[s("v-icon",[t._v("add")])],1),t._v("Add Cols")],1)],2),t._v(" "),s("div",{staticClass:"que_bottom_btns"},[s("v-chip",{staticClass:"addchip",on:{click:function(e){return t.addDescription()}}},[s("v-avatar",[s("v-icon",[t._v("format_align_left")])],1),t._v("Add Instruction")],1),t._v(" "),s("v-chip",{staticClass:"addchip",on:{click:function(e){return t.addQuestionHaveImage()}}},[s("v-avatar",[s("v-icon",[t._v("image")])],1),t._v("Add Image")],1),t._v(" "),s("v-checkbox",{attrs:{label:"Required"},on:{change:t.changerequired},model:{value:t.required,callback:function(e){t.required=e},expression:"required"}})],1)],1)},staticRenderFns:[]},as=a("VU/8")(ts,es,!1,null,null,null).exports,ss=a("162o"),is={props:["question","allquestion","index","total"],data:function(){return{contactinfo:!1,data:this.question,required:!1,extraoption:this.question.other,questions:this.allquestion,jumptoquestion:"",connecttoquestion:this.question.qtype,tmpconnecttoquestion:this.connecttoquestion,connectquestion:[],havecomment:!1,allwoedcomment:["multic","singlec","dropdown","ratescal","ratestars","matrixquestion","qtypedatetime","ranking"]}},methods:{saveConnection:function(){this.contactinfo=!1,this.connecttoquestion=this.tmpconnecttoquestion},clearConnection:function(){this.contactinfo=!1,this.connecttoquestion=""},callJumpquestion:function(){this.jumptoquestion!=this.question._id?axios.post("/movequestion",{movequestionid:this.question._id,questionid:this.jumptoquestion}).then(function(t){"1"==t.data&&Object(ss.setTimeout)(function(){location.reload()},100)}):alert("same question")},callconnecttoquestion:function(){axios.post("/updateqtype",{questionid:this.data._id,qtypedata:this.connecttoquestion}).then(function(t){}).catch(function(t){})},duplicateQuestion:function(t){axios.post("/duplicatquestion",{questionid:t}).then(function(t){"1"==t.data&&Object(ss.setTimeout)(function(){location.reload()},1e3)})},chnageotheroption:function(){var t=this;axios.post("/updatequestionopteroption",{questionid:this.question._id,extraoption:this.extraoption}).then(function(e){t.$parent.changeOthersection(t.extraoption)})},updatehavecomment:function(){var t=this;axios.post("/updatequestionhavecomment",{questionid:this.data._id,havecomment:this.havecomment}).then(function(e){t.$parent.changeCommentsection(t.havecomment)}).catch(function(e){t.errors.push(e)})},changerequired:function(){var t=this,e="1";0==this.required&&(e="0"),axios.post("/updatequestionrequired",{questionid:this.data._id,required:e}).then(function(a){t.question.required=e}).catch(function(e){t.errors.push(e)})},moveelement:function(t,e){console.log(this.$parent),this.$parent.moveelement(t,e)},deleteelement:function(t){this.$parent.deleteelement(t)},addQuestionHaveImage:function(){var t=this;axios.post("/updatehaveimage",{questionid:this.data._id,haveimage:"1"}).then(function(e){t.question.haveimage="1"}).catch(function(e){t.errors.push(e)})},addLogicjump:function(){this.$parent.addLogicjump(),this.question.havelogicjump="1"},addChoice:function(){this.$parent.addChoice()},addURL:function(){this.$parent.addURL()},addRows:function(){this.$parent.addRows()},addCols:function(){this.$parent.addCols()},addField:function(){this.$parent.addField()},addToGroup:function(t,e){this.$parent.addToGroup(t,e),console.log("have to implement model for "+e+" - "+t)},addDescription:function(){var t=this;axios.post("/updatehavedescription",{questionid:this.data._id,havedesc:"1"}).then(function(e){t.question.havedescription="1"}).catch(function(e){t.errors.push(e)})},updateconnectquestions:function(){var t=[];this.questions&&this.questions.forEach(function(e){"contactInfo"==e.questiontype&&t.push(e)}),this.connectquestion=t}},created:function(){this.debouncedjumptoquestion=_.debounce(this.callJumpquestion,500),this.debouncedconnecttoquestion=_.debounce(this.callconnecttoquestion,500),this.debouncedhavecomment=_.debounce(this.updatehavecomment,500),this.updateconnectquestions(),"1"==this.question.required&&(this.required=!0),this.question.havecomment&&(this.havecomment=this.question.havecomment)},watch:{jumptoquestion:function(t,e){this.debouncedjumptoquestion()},connecttoquestion:function(t,e){this.debouncedconnecttoquestion()},havecomment:function(t,e){this.debouncedhavecomment()},questions:function(t,e){this.updateconnectquestions()}},computed:{getconnection:function(){var t=this,e="",a=this.connectquestion.find(function(e){return e._id==t.connecttoquestion});return a&&(e=a.questiontext),e}},updated:function(){console.log("skjdfkshdkfs"),this.$nextTick(function(){console.log("updated next tic from queston button")})}},ns={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bottom_btns"},[s("div",{staticClass:"que_bottom_btns"},["qtypeslider"==t.data.questiontype?s("v-chip",{staticClass:"addchip",on:{click:t.addURL}},[s("v-avatar",[s("v-icon",[t._v("add")])],1),t._v("Add URL")],1):t._e(),t._v(" "),"singlec"==t.data.questiontype||"multic"==t.data.questiontype||"dropdown"==t.data.questiontype||"multipletext"==t.data.questiontype||"ranking"==t.data.questiontype?s("v-chip",{staticClass:"addchip",on:{click:t.addChoice}},[s("v-avatar",[s("v-icon",[t._v("add")])],1),t._v("Add Field")],1):t._e(),t._v(" "),"customform"==t.data.questiontype?s("v-chip",{staticClass:"addchip",on:{click:t.addField}},[s("v-avatar",[s("v-icon",[t._v("add")])],1),t._v("Add Field")],1):t._e(),t._v(" "),"matrixquestion"==t.data.questiontype?s("v-chip",{staticClass:"addchip",on:{click:function(e){return t.addRows()}}},[s("v-avatar",[s("v-icon",[t._v("add")])],1),t._v("Add Rows")],1):t._e(),t._v(" "),"matrixquestion"==t.data.questiontype||"dataTable"==t.data.questiontype?s("v-chip",{staticClass:"addchip",on:{click:function(e){return t.addCols()}}},[s("v-avatar",[s("v-icon",[t._v("add")])],1),t._v("Add Cols")],1):t._e(),t._v(" "),"descriptionbox"!=t.data.questiontype&&"welcomepage"!=t.data.questiontype&&"thankyoupage"!=t.data.questiontype&&"sectionheading"!=t.data.questiontype?s("v-chip",{staticClass:"addchip",on:{click:t.addDescription}},[s("v-avatar",[s("v-icon",[t._v("format_align_left")])],1),t._v("Add description")],1):t._e(),t._v(" "),"welcomepage"!=t.data.questiontype&&"thankyoupage"!=t.data.questiontype&&"sectionheading"!=t.data.questiontype?s("v-chip",{staticClass:"addchip",on:{click:t.addQuestionHaveImage}},[s("v-avatar",[s("v-icon",[t._v("image")])],1),t._v("Add Image")],1):t._e(),t._v(" "),"descriptionbox"==t.data.questiontype?s("v-checkbox",{attrs:{label:"information page"},on:{change:t.changerequired},model:{value:t.required,callback:function(e){t.required=e},expression:"required"}}):t._e(),t._v(" "),"multic"==t.data.questiontype||"singlec"==t.data.questiontype||"dropdown"==t.data.questiontype||"numbertext"==t.data.questiontype||"ratestars"==t.data.questiontype||"ratescal"==t.data.questiontype?s("v-chip",{staticClass:"addchip",on:{click:t.addLogicjump}},[s("v-avatar",[s("v-icon",[t._v("image")])],1),t._v("Add logic jump")],1):t._e(),t._v(" "),"welcomepage"!=t.data.questiontype?s("v-chip",{staticClass:"addchip",on:{click:function(e){return t.addToGroup(t.question._id,t.question.questiontext)}}},[s("v-avatar",[s("v-icon",[t._v("image")])],1),t._v("Add to group")],1):t._e(),t._v(" "),s("v-chip",{staticClass:"addchip",on:{click:function(e){return t.duplicateQuestion(t.question._id)}}},[s("v-avatar",[s("img",{staticClass:"iconinsidebtnsmall",attrs:{src:a("UcUk")}})]),t._v("Duplicate")],1),t._v(" "),"descriptionbox"!=t.data.questiontype&&"welcomepage"!=t.data.questiontype&&"thankyoupage"!=t.data.questiontype&&"sectionheading"!=t.data.questiontype?s("v-checkbox",{attrs:{label:"Required"},on:{change:t.changerequired},model:{value:t.required,callback:function(e){t.required=e},expression:"required"}}):t._e(),t._v(" "),"singlec"==t.data.questiontype||"multic"==t.data.questiontype||"dropdown"==t.data.questiontype?s("v-checkbox",{attrs:{label:"Other"},on:{change:t.chnageotheroption},model:{value:t.extraoption,callback:function(e){t.extraoption=e},expression:"extraoption"}}):t._e(),t._v(" "),t.allwoedcomment.indexOf(t.data.questiontype)>=0?s("v-checkbox",{attrs:{label:"Comment"},model:{value:t.havecomment,callback:function(e){t.havecomment=e},expression:"havecomment"}}):t._e(),t._v(" "),"welcomepage"!=t.data.questiontype&&"thankyoupage"!=t.data.questiontype?s("v-select",{attrs:{items:t.allquestion,label:"Move question after","item-text":"questiontext","item-value":"_id"},model:{value:t.jumptoquestion,callback:function(e){t.jumptoquestion=e},expression:"jumptoquestion"}}):t._e(),t._v(" "),t.connecttoquestion&&"dataTable"==t.data.questiontype?s("button",{staticClass:"badge-btn"},[t._v(t._s(t.getconnection)),s("v-icon",{staticClass:"closebtn",on:{click:t.clearConnection}},[t._v("close")])],1):t._e(),t._v(" "),"dataTable"==t.data.questiontype?s("v-chip",{staticClass:"addchip",on:{click:function(e){t.contactinfo=!0}}},[s("v-avatar",[s("v-icon",[t._v("add")])],1),t._v("Add connection")],1):t._e()],1),t._v(" "),s("v-btn-toggle",{staticClass:"group_movequestion"},[0!==t.index?s("v-btn",{staticClass:"movequestion",attrs:{flat:""},on:{click:function(e){return t.moveelement(t.index,-1)}}},[s("v-icon",[t._v("arrow_upward")])],1):t._e(),t._v(" "),s("v-btn",{staticClass:"movequestion",attrs:{flat:""},on:{click:function(e){return t.deleteelement(t.index)}}},[s("img",{staticClass:"deletequestion",attrs:{src:a("+NlW")}})]),t._v(" "),t.index<t.total-1?s("v-btn",{staticClass:"movequestion",attrs:{flat:""},on:{click:function(e){return t.moveelement(t.index,1)}}},[s("v-icon",[t._v("arrow_downward")])],1):t._e()],1),t._v(" "),s("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:t.contactinfo,callback:function(e){t.contactinfo=e},expression:"contactinfo"}},[s("v-card",[s("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[t._v("Add Connection")]),t._v(" "),s("v-card-text",[s("v-container",[s("div",[s("v-select",{attrs:{items:t.connectquestion,label:"contactinfo","item-text":"questiontext","item-value":"_id"},model:{value:t.tmpconnecttoquestion,callback:function(e){t.tmpconnecttoquestion=e},expression:"tmpconnecttoquestion"}})],1)])],1),t._v(" "),s("v-divider"),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"primary",flat:""},on:{click:t.saveConnection}},[t._v("Save")]),t._v(" "),s("v-btn",{attrs:{color:"primary",flat:""},on:{click:t.clearConnection}},[t._v("Reset")]),t._v(" "),s("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.contactinfo=!1}}},[t._v("Close")])],1)],1)],1)],1)},staticRenderFns:[]},os=a("VU/8")(is,ns,!1,null,null,null).exports,rs={props:["question"],data:function(){return{quid:this.question._id,groupid:this.question.groupid,surveyid:this.question.surveyid,data:this.question,allquestions:[],jumptype1:["multic","singlec","dropdown"],jumptype2:["numbertext","ratestars","ratescal"],allgroup:[],jumpdata:[],gotodata:[{code:0,text:"question"},{code:1,text:"group"}],conditions:[{code:"<",text:"is less then"},{code:">",text:"id greater then"},{code:"=",text:"is equal to"},{code:"!=",text:"is not equal to"}],defaultjump:{questionid:this.question._id,surveyid:this.question.surveyid,choiceid:"",condition:"",goto:0,answer:"",nextquestion:""}}},methods:{addLogic:function(){var t=this;axios.post("/addlogicjump",{logicdata:this.defaultjump}).then(function(e){t.jumpdata.push(e.data)})},deleteLogic:function(t){var e=this,a=this.jumpdata[t]._id;axios.post("/deletelogicjump",{logicid:a}).then(function(a){1==a.data.n&&e.jumpdata.splice(t,1)}).catch(function(t){e.errors.push(t)})},changelogicdata:function(){this.debouncedchangelogicdata(),console.log("have to call API to update logics")},updatelogicdata:function(){var t=this,e=this.jumpdata;axios.post("/updatelogicdata",{alljumpdata:e}).then(function(t){}).catch(function(e){t.errors.push(e)})}},created:function(){var t=this;this.debouncedchangelogicdata=_.debounce(this.updatelogicdata,2e3),axios.post("/getquestiongroups",{surveyid:this.surveyid}).then(function(e){t.allgroup=e.data}),axios.post("/getquestions",{surveyid:this.surveyid}).then(function(e){axios.post("/getquestionorder",{surveyid:t.surveyid}).then(function(a){var s=0,i=0;a.data.forEach(function(a){e.data.forEach(function(e){e.order=a.order,e._id==a.questionid&&("welcomepage"==e.questiontype||"thankyoupage"==e.questiontype||"sectionheading"==e.questiontype||"pagebreak"==e.questiontype||"descriptionbox"==e.questiontype||"qtypeslider"==e.questiontype?"descriptionbox"==e.questiontype&&"1"==e.required?(e.questiontext="Description "+ ++i,t.allquestions.push(e)):""==e.questiontext&&(e.questiontext="element type:- "+e.questiontype):(s++,e.questiontext=s+".  "+e.questiontext,t.allquestions.push(e)))})}),axios.post("/getallwelcomethankyoudataforlogic",{surveyid:t.surveyid,datatype:"thankyoupage"}).then(function(e){null==e.data||e.data.forEach(function(e,a){var s=a+1;e.questiontext="Thankyou page "+s,t.allquestions.push(e)})})}).catch(function(t){console.log(t)})}),axios.post("/getalllogicjump",{questionid:this.question._id}).then(function(e){var a=e.data;0==a.length?axios.post("/addlogicjump",{logicdata:t.defaultjump}).then(function(e){t.jumpdata.push(e.data)}):t.jumpdata=a})}},cs={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"logicjump_section"},[t.jumpdata.length>0?s("div",{staticClass:"container_logicjump"},t._l(t.jumpdata,function(e,i){return s("div",{key:"jump"+i},[t.jumptype1.indexOf(t.question.questiontype)>=0?s("div",{staticClass:"jumpelement"},[s("v-layout",[s("v-flex",{staticClass:"conditiontext flexcenter",attrs:{xs1:""}},[t._v("If")]),t._v(" "),s("v-flex",{staticClass:"conditionon",attrs:{xs3:""}},[s("v-select",{attrs:{items:t.question.choice,label:"Select Option","item-text":"choicetext","item-value":"_id"},on:{change:t.changelogicdata},model:{value:e.choiceid,callback:function(a){t.$set(e,"choiceid",a)},expression:"jump.choiceid"}})],1),t._v(" "),s("v-flex",{staticClass:"nextquestion",attrs:{xs3:""}},[s("v-select",{attrs:{items:t.gotodata,label:"Select logic","item-text":"text","item-value":"code"},on:{change:t.changelogicdata},model:{value:e.goto,callback:function(a){t.$set(e,"goto",a)},expression:"jump.goto"}})],1),t._v(" "),s("v-flex",{staticClass:"nextquestion",attrs:{xs3:""}},[1==e.goto?s("v-select",{attrs:{items:t.allgroup,label:"Select Group","item-text":"groupname","item-value":"_id"},on:{change:t.changelogicdata},model:{value:e.nextquestion,callback:function(a){t.$set(e,"nextquestion",a)},expression:"jump.nextquestion"}}):s("v-select",{attrs:{items:t.allquestions,label:"Select Question","item-text":"questiontext","item-value":"_id"},on:{change:t.changelogicdata},model:{value:e.nextquestion,callback:function(a){t.$set(e,"nextquestion",a)},expression:"jump.nextquestion"}})],1),t._v(" "),s("v-flex",{attrs:{xs2:"",flexcenter:""}},[t.jumpdata.length!=i?s("button",{staticClass:"btn-jumpaction delete",on:{click:function(e){return t.deleteLogic(i)}}},[s("img",{attrs:{src:a("AMKi")}})]):t._e(),t._v(" "),t.jumpdata.length==i+1?s("button",{staticClass:"btn-jumpaction add",on:{click:t.addLogic}},[s("img",{attrs:{src:a("qnj9")}})]):t._e()])],1)],1):t.jumptype2.indexOf(t.question.questiontype)>=0?s("div",{staticClass:"jumpelement"},[s("v-layout",[s("v-flex",{staticClass:"conditiontext flexcenter",attrs:{xs1:""}},[t._v("If")]),t._v(" "),s("v-flex",{staticClass:"nextquestion",attrs:{xs3:""}},[t._v("\n              Answer\n              "),s("v-select",{attrs:{items:t.conditions,label:"Select Condition","item-text":"text","item-value":"code"},on:{change:t.changelogicdata},model:{value:e.condition,callback:function(a){t.$set(e,"condition",a)},expression:"jump.condition"}})],1),t._v(" "),s("v-flex",{staticClass:"conditionon",attrs:{xs3:""}},[s("v-text-field",{attrs:{label:"Value"},on:{input:t.changelogicdata},model:{value:e.answer,callback:function(a){t.$set(e,"answer",a)},expression:"jump.answer"}})],1),t._v(" "),s("v-flex",{staticClass:"nextquestion",attrs:{xs3:""}},[s("v-select",{attrs:{items:t.gotodata,label:"Select logic","item-text":"text","item-value":"code"},on:{change:t.changelogicdata},model:{value:e.goto,callback:function(a){t.$set(e,"goto",a)},expression:"jump.goto"}})],1),t._v(" "),s("v-flex",{staticClass:"nextquestion",attrs:{xs3:""}},[1==e.goto?s("v-select",{attrs:{items:t.allgroup,label:"Select Group","item-text":"groupname","item-value":"_id"},on:{change:t.changelogicdata},model:{value:e.nextquestion,callback:function(a){t.$set(e,"nextquestion",a)},expression:"jump.nextquestion"}}):s("v-select",{attrs:{items:t.allquestions,label:"Select Question","item-text":"questiontext","item-value":"_id"},on:{change:t.changelogicdata},model:{value:e.nextquestion,callback:function(a){t.$set(e,"nextquestion",a)},expression:"jump.nextquestion"}})],1),t._v(" "),s("v-flex",{attrs:{xs2:"",flexcenter:""}},[t.jumpdata.length!=i?s("button",{staticClass:"btn-jumpaction delete",on:{click:function(e){return t.deleteLogic(i)}}},[s("img",{attrs:{src:a("AMKi")}})]):t._e(),t._v(" "),t.jumpdata.length==i+1?s("button",{staticClass:"btn-jumpaction add",on:{click:t.addLogic}},[s("img",{attrs:{src:a("qnj9")}})]):t._e()])],1)],1):t._e()])}),0):s("div",{staticClass:"container_logicjump"},[s("div",[s("div",{staticClass:"jumpelement"},[s("v-layout",[s("v-flex",{staticClass:"conditiontext flexcenter",attrs:{xs1:""}}),t._v(" "),s("v-flex",{staticClass:"conditionon",attrs:{xs4:""}}),t._v(" "),s("v-flex",{staticClass:"nextquestion",attrs:{xs4:""}}),t._v(" "),s("v-flex",{attrs:{xs3:"",flexcenter:""}},[s("button",{staticClass:"btn-jumpaction add",on:{click:t.addLogic}},[s("img",{attrs:{src:a("qnj9")}})])])],1)],1)])])])},staticRenderFns:[]},ds=a("VU/8")(rs,cs,!1,null,null,null).exports,ls={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"modal"}},[a("div",{staticClass:"modal-mask"},[a("div",{staticClass:"modal-wrapper"},[a("div",{staticClass:"modal-container"},[a("div",{staticClass:"modal-header"},[a("v-text-field",{attrs:{label:"Enter URL"},model:{value:t.urlAddress,callback:function(e){t.urlAddress=e},expression:"urlAddress"}})],1),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"exportbutton",on:{click:function(e){return t.insertUrl(t.urlAddress)}}},[t._v("OK")]),t._v(" "),a("button",{staticClass:"exportbutton",on:{click:function(e){return t.closeModel()}}},[t._v("Cancel")])])])])])])},staticRenderFns:[]};var us={props:["question","index","total","origindex"],components:{ImageURLInput:a("VU/8")({data:function(){return{urlAddress:""}},methods:{insertUrl:function(t){this.$emit("urlAddress",t)},closeModel:function(){this.$emit("closeModel")}}},ls,!1,function(t){a("agjP")},"data-v-4a6fd9ec",null).exports,multic:Ge,singlec:He,ratescal:ta,qtypedatetime:sa,singletext:la,multipletext:va,commenttext:fa,numbertext:_a,contacttext:ba,emailtext:Ca,qtypeslider:ra,dropdown:ka,gpexpicture:Da,fileupload:Ta,pagebreak:Ea,sectionheading:Ya,welcomepage:Qa,thankyoupage:Ra,ratestars:Ja,customform:Ba,matrixquestion:as,descriptionbox:Ka,questionbuttons:os,loginjump:ds},data:function(){return{showModal:!1,keepInBounds:!0,id:this.question._id,questiontext:this.question.questiontext,description:this.question.description,questiontype:this.question.questiontype,commenttext:this.question.commenttext,othertext:this.question.othertext,qtypedata:null,npsleft:this.question.npsright,npsright:this.question.npsright,npsmiddle:this.question.npsmiddle,loginjump:null,questionorder:[],builderarray:[],finalbuilderarray:[],modal1:!1,modal2:!1,readyforupdate:!0,allwidth:["8.3%","16.6%","25%","33.3%","41.6%","50%","58.3%","66.6%","75%","83.3%","91.6%","100%"],alltype:["Number","Text","Textarea","Email","Date","Phone","Time"],logicjumps:[],rules:{email:function(t){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)||"Invalid e-mail."}},tinyinitValue:{plugins:["image","imagetools"],menubar:"insert",toolbar:"image imagetools",image_uploadtab:!0}}},methods:{changeCommentsection:function(t){console.log("from question editor ",t),this.qtypedata.havecomment=t},changeMaskformat:function(){axios.post("/updatequestionmaskformat",{questionid:this.qtypedata._id,maskformat:this.qtypedata.maskformat}).then(function(t){console.log(t)}).catch(function(t){console.log(t)})},changeOthersection:function(t){console.log("from question editor ",t),this.qtypedata.other=t},deleteURL:function(t,e){var a=this,s=this.qtypedata.links[t]._id;axios.post("/deletesliderlinks",{linkid:s}).then(function(e){1==e.data.n&&a.qtypedata.links.splice(t,1)}).catch(function(t){a.errors.push(t)})},changeURL:function(t){console.log(this.qtypedata),this.qtypedata.links[t].src=event.target.value,this.debouncedUpdateallsilderurl()},addURL:function(){var t=this;axios.post("/addsliderlink",{questionid:this.id,src:""}).then(function(e){1==e.data.status&&t.qtypedata.links.push(e.data.result)}).catch(function(e){t.errors.push(e)})},updateallsilderurl:function(){var t=this,e=(this.id,this.qtypedata.links);console.log("from options"),axios.post("/updatesliderlinks",{links:e}).then(function(t){console.log(t)}).catch(function(e){t.errors.push(e)})},changeQType:function(){var t=this;console.log("fkdjgkdfg");var e=this.id;axios.post("/updateqtype",{questionid:e,qtypedata:this.qtypedata.qtype}).then(function(t){console.log(t)}).catch(function(e){t.errors.push(e)})},addRows:function(){var t=this;axios.post("/addmatrixrow",{questionid:this.id,option:"0",radioans:""}).then(function(e){console.log(e),1==e.data.status&&t.qtypedata.allrows.push(e.data.result)}).catch(function(e){t.errors.push(e)})},addCols:function(){var t=this;axios.post("/addmatrixcol",{questionid:this.id,option:""}).then(function(e){console.log(e),1==e.data.status&&t.qtypedata.allcols.push(e.data.result)}).catch(function(e){t.errors.push(e)})},deleteCols:function(t){var e=this,a=this.qtypedata.allcols[t]._id;axios.post("/deletematrixcols",{colid:a}).then(function(a){1==a.data.n&&e.qtypedata.allcols.splice(t,1)}).catch(function(t){e.errors.push(t)})},deleteRows:function(t){var e=this,a=this.qtypedata.allrows[t]._id;axios.post("/deletematrixrows",{rowid:a}).then(function(a){1==a.data.n&&e.qtypedata.allrows.splice(t,1)}).catch(function(t){e.errors.push(t)})},changerowtext:function(t){this.debouncedUpdateallrowtext()},changecoltext:function(t){this.debouncedUpdateallcoltext()},changeAnswer:function(t){this.debouncedUpdateOptions()},changeMaxrate:function(t){this.debouncedUpdateMaxrate()},updateMaxrate:function(){var t=this,e=this.id,a=this.qtypedata.maxrate;axios.post("/updatemaxrate",{questionid:e,maxrate:a}).then(function(t){console.log(t)}).catch(function(e){t.errors.push(e)})},changeScalelength:function(){this.debouncedUpdateLength()},updateLength:function(){var t=this,e=this.id,a=this.qtypedata.length;axios.post("/updatelength",{questionid:e,length:a}).then(function(t){console.log(t)}).catch(function(e){t.errors.push(e)})},changefielddata:function(){this.debouncedUpdateallfielddata()},moveelement:function(t,e){console.log(),this.$parent.moveelement(t,e),console.log("Called from buttons element")},deleteelement:function(t){this.$parent.deleteelement(t),console.log("Called delete from buttons element")},addLogicjump:function(){this.loginjump="",console.log("Called parent function")},editorInit:function(){this.$refs.tincyeditor.editor.setContent(this.question.description)},checkrequired:function(){"1"==this.qtypedata.required&&(this.required=!0)},removeDescription:function(){var t=this;axios.post("/updatehavedescription",{questionid:this.id,havedesc:"0"}).then(function(e){t.qtypedata.havedescription="0"}).catch(function(e){t.errors.push(e)})},updateQuestion:function(){var t=this,e=this.id,a=this.questiontext;this.qtypedata.questiontext=a,this.readyforupdate&&axios.post("/updatequestion",{questionid:e,questiontext:a}).then(function(t){}).catch(function(e){t.errors.push(e)})},updateOtherandComment:function(){var t=this,e=this.id;this.readyforupdate&&axios.post("/updatequestionothercomment",{questionid:e,othertext:this.othertext,commenttext:this.commenttext}).then(function(t){console.log("updatequestionothercomment-  ",t)}).catch(function(e){t.errors.push(e)})},updateDescription:function(){var t=this,e=this.id,a=this.description;this.readyforupdate&&axios.post("/updatedescription",{questionid:e,desctext:a}).then(function(t){console.log(t)}).catch(function(e){t.errors.push(e)})},updatequestionnsp:function(){var t=this,e=this.id,a=this.npsleft,s=this.npsright,i=this.npsmiddle;this.description;this.readyforupdate&&axios.post("/updatequestionnsp",{questionid:e,npsleft:a,npsright:s,npsmiddle:i}).then(function(t){console.log(t)}).catch(function(e){t.errors.push(e)})},updatesurveynsp:function(){var t=this,e=this.id,a=this.description;this.readyforupdate&&axios.post("/updatesurveynsp",{questionid:e,desctext:a}).then(function(t){console.log(t)}).catch(function(e){t.errors.push(e)})},removeQuestionHaveImage:function(){var t=this;axios.post("/updatehaveimage",{questionid:this.id,haveimage:"0"}).then(function(e){t.qtypedata.haveimage="0",t.qtypedata.image=""}).catch(function(e){t.errors.push(e)})},addToGroup:function(t,e){this.$parent.addToGroup(t,e),console.log("have to implement model for "+e+" - "+t)},sendImageFile:function(){var t=this;return Tt()(Lt.a.mark(function e(){var a,s,i,n,o;return Lt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((a=t.$refs.file.files[0]).type.includes("image/")){e.next=5;break}return s="Only Image Allowed",t.$toast.open({message:s,type:"error",position:"bottom"}),e.abrupt("return");case 5:if(!(a.size>5248e3)){e.next=9;break}return s="Image too large, max image size is 5MB",t.$toast.open({message:s,type:"error",position:"bottom"}),e.abrupt("return");case 9:return console.log(a),(i=new FormData).append("file",a),n=new FileReader,!1,e.next=16,axios.post("/upload",i);case 16:o=e.sent,n.readAsDataURL(a),n.onload=function(e){console.log("success evt- ",e);var a=new Image;a.src=e.target.result,a.onload=function(){if(console.log(a.width),console.log(a.height),a.width<200||a.height<200)t.$toast.open({message:"minimum size of image is 200X200",type:"error",position:"bottom"});else try{axios.post("/updatequestionimage",{questionid:t.id,image:o.data.file}).then(function(e){t.qtypedata.image=o.data.file}).catch(function(e){t.errors.push(e)})}catch(e){t.message=e.response.data.error,t.error=!0}}},n.onerror=function(t){console.log("error evt- ",t)};case 20:case"end":return e.stop()}},e,t)}))()},deleteChoice:function(t){var e=this,a=this.qtypedata.choice[t]._id;axios.post("/deleteoptions",{optionid:a}).then(function(a){1==a.data.n&&e.qtypedata.choice.splice(t,1)}).catch(function(t){e.errors.push(t)})},deleteField:function(t){var e=this,a=this.qtypedata.customformdata[t]._id;axios.post("/deletecustimfield",{fieldid:a}).then(function(a){console.log(a),1==a.data.n&&e.qtypedata.customformdata.splice(t,1)}).catch(function(t){e.errors.push(t)})},addChoice:function(){var t=this;axios.post("/addoptions",{questionid:this.id,choicestate:"0",choicetext:""}).then(function(e){1==e.data.status&&t.qtypedata.choice.push(e.data.result)}).catch(function(e){t.errors.push(e)})},addField:function(){var t=this;axios.post("/addnewcustomfield",{questionid:this.id,formdata:{title:"",type:"Text",width:"100%",required:!1}}).then(function(e){1==e.data.status&&t.qtypedata.customformdata.push(e.data.result)}).catch(function(e){t.errors.push(e)})},changeQuestiondata:function(){var t=this;this.readyforupdate=!1,axios.post("/getquestion",{questionid:this.question._id}).then(function(e){t.qtypedata=e.data.data,t.id=t.qtypedata._id,t.questiontext=t.qtypedata.questiontext,t.description=t.qtypedata.description,t.readyforupdate=!0})},changeChoicetext:function(t){this.qtypedata.choice[t].choicetext=event.target.value,this.debouncedUpdateOptions()},updateallChoicetext:function(){var t=this,e=(this.id,this.qtypedata.choice);this.readyforupdate&&axios.post("/updatequestionoption",{alloption:e}).then(function(t){}).catch(function(e){t.errors.push(e)})},updateallfielddata:function(){var t=this,e=(this.id,this.qtypedata.customformdata);axios.post("/updatecustomfields",{allfields:e}).then(function(t){console.log("changefielddata")}).catch(function(e){t.errors.push(e)})},updateallcoltext:function(){var t=this,e=(this.id,this.qtypedata.allcols);axios.post("/updatematrixcols",{allcols:e}).then(function(t){console.log(t)}).catch(function(e){t.errors.push(e)})},updateallrowtext:function(){var t=this,e=(this.id,this.qtypedata.allrows);axios.post("/updatematrixrows",{allrows:e}).then(function(t){console.log(t)}).catch(function(e){t.errors.push(e)})},getquestionno:function(t){var e=0,a="";return this.finalbuilderarray.forEach(function(s,i){if("welcomepage"==s.questiontype||"thankyoupage"==s.questiontype||"sectionheading"==s.questiontype||"pagebreak"==s.questiontype||"descriptionbox"==s.questiontype||"qtypeslider"==s.questiontype||(e+=1),s._id==t)return a=e+"."}),a},getquestionno111:function(t){for(var e=0,a=0;a<this.finalbuilderarray.length&&!(a>=t);a++){var s=this.finalbuilderarray[a];"welcomepage"==s.questiontype||"thankyoupage"==s.questiontype||"sectionheading"==s.questiontype||"pagebreak"==s.questiontype||"descriptionbox"==s.questiontype||"qtypeslider"==s.questiontype||(e+=1)}return e},updateUrl:function(t){var e=this;axios.post("/updatequestionimage",{questionid:this.id,image:t}).then(function(a){e.qtypedata.image=t,console.log("q type data",e.qtypedata)}).catch(function(t){e.errors.push(t),console.log("errror>>>>",t)}),this.showModal=!1},updatequestiondisplay:function(){var t=this;["multic","dropdown","singlec","qtypeslider","matrixquestion","multipletext","customform","ranking","dataTable"].indexOf(this.question.questiontype)>=0?(axios.post("/getquestion",{questionid:this.question._id}).then(function(e){t.qtypedata=e.data.data}),axios.post("/getalllogicjump",{questionid:this.question._id}).then(function(e){t.logicjumps=e.data})):(this.qtypedata=this.question,axios.post("/getalllogicjump",{questionid:this.question._id}).then(function(e){t.logicjumps=e.data}))}},watch:{questiontext:function(t,e){this.debouncedUpdateQuestion()},id:function(t,e){this.updatequestiondisplay()},othertext:function(t,e){this.debouncedUpdateOtherandComment()},commenttext:function(t,e){this.debouncedUpdateOtherandComment()},editor:function(t,e){console.log("update quetext",this.editor.questiontext)},description:function(t,e){console.log("update quedesc"),this.debouncedUpdateDescription()},npsright:function(t,e){console.log("update quedesc"),this.debouncedupdatequestionnsp()},npsleft:function(t,e){console.log("update quedesc"),this.debouncedupdatequestionnsp()},"question._id":function(t,e){this.debouncedChangeQuestion()},"qtypedata.havedescription":function(t,e){return this.qtypedata.havedescription},"qtypedata.haveimage":function(t,e){return this.qtypedata.haveimage}},created:function(){var t=this;this.debouncedUpdateQuestion=_.debounce(this.updateQuestion,500),this.debouncedUpdateDescription=_.debounce(this.updateDescription,500),this.debouncedupdatequestionnsp=_.debounce(this.updatequestionnsp,500),this.debouncedChangeQuestion=_.debounce(this.changeQuestiondata,50),this.debouncedUpdateOptions=_.debounce(this.updateallChoicetext,500),this.debouncedUpdateallfielddata=_.debounce(this.updateallfielddata,500),this.debouncedUpdateLength=_.debounce(this.updateLength,500),this.debouncedUpdateMaxrate=_.debounce(this.updateMaxrate,500),this.debouncedUpdateallcoltext=_.debounce(this.updateallcoltext,500),this.debouncedUpdateallrowtext=_.debounce(this.updateallrowtext,500),this.debouncedUpdateallsilderurl=_.debounce(this.updateallsilderurl,500),this.debouncedUpdateOtherandComment=_.debounce(this.updateOtherandComment,500),axios.post("/getquestions",{surveyid:this.question.surveyid}).then(function(e){t.builderarray=e.data,axios.post("/getquestionorder",{surveyid:t.question.surveyid}).then(function(e){t.questionorder=e.data;var a=0,s=0;t.questionorder.forEach(function(e){t.builderarray.forEach(function(i){i.order=e.order,i._id!=e.questionid||"welcomepage"==i.questiontype||"thankyoupage"==i.questiontype||"sectionheading"==i.questiontype||"pagebreak"==i.questiontype||"descriptionbox"==i.questiontype&&"0"==i.required||"qtypeslider"==i.questiontype||("descriptionbox"==i.questiontype?i.questiontext="Description "+ ++s:(a++,i.questiontext=a+". "+i.questiontext),t.finalbuilderarray.push(i))})}),t.updatequestiondisplay()})}).catch(function(e){t.errors.push(e)})},computed:{questionfinalimage:function(){return this.qtypedata.image.indexOf("://")>0?this.qtypedata.image:window.publicfileurl+this.qtypedata.image},getquestiontype:function(){return"multic"==this.qtypedata.questiontype?"Multi choice Question":"singlec"==this.qtypedata.questiontype?"Single choice Question":"dropdown"==this.qtypedata.questiontype?"Dropdown Question":"qtypeslider"==this.qtypedata.questiontype?"Slider":"matrixquestion"==this.qtypedata.questiontype?"Matrix Question":"multipletext"==this.qtypedata.questiontype?"Multi text Question":"singletext"==this.qtypedata.questiontype?"Single text Question":"customform"==this.qtypedata.questiontype?"Custom Question":"ratescal"==this.qtypedata.questiontype?"Rating slider Question":"ratestars"==this.qtypedata.questiontype?"Rating star Question":"qtypedatetime"==this.qtypedata.questiontype?"Date type Question":"commenttext"==this.qtypedata.questiontype?"Comment Question":"numbertext"==this.qtypedata.questiontype?"Number type Question":"emailtext"==this.qtypedata.questiontype?"Email Question":"fileupload"==this.qtypedata.questiontype?"File upload Question":"sectionheading"==this.qtypedata.questiontype?"Section heading":"welcomepage"==this.qtypedata.questiontype?"Welcome notes":"thankyoupage"==this.qtypedata.questiontype?"Thankyou notes":"descriptionbox"==this.qtypedata.questiontype?"Description box":"ranking"==this.qtypedata.questiontype?"Ranking":"nps"==this.qtypedata.questiontype?"NPS":"contactInfo"==this.qtypedata.questiontype?"contactInfo":"dataTable"==this.qtypedata.questiontype?"dataTable":"New Question"}}},ps={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"questioneditor_section"},[null!=t.qtypedata?s("div",[s("v-layout",{staticClass:"create_question",attrs:{id:"editor"+t.question._id}},[s("v-flex",{staticClass:"builderindex",attrs:{xs1:""}},["pagebreak"==t.qtypedata.questiontype||"sectionheading"==t.qtypedata.questiontype||"descriptionbox"==t.qtypedata.questiontype||"welcomepage"==t.qtypedata.questiontype||"thankyoupage"==t.qtypedata.questiontype||"qtypeslider"==t.qtypedata.questiontype?s("span"):s("span",[t._v(t._s(t.getquestionno(t.qtypedata._id)))])]),t._v(" "),"pagebreak"!=t.qtypedata.questiontype&&"sectionheading"!=t.qtypedata.questiontype&&"descriptionbox"!=t.qtypedata.questiontype&&"welcomepage"!=t.qtypedata.questiontype&&"thankyoupage"!=t.qtypedata.questiontype?s("v-flex",{attrs:{xs11:""}},[s("div",{staticClass:"questiontype"},[t._v(t._s(t.getquestiontype))]),t._v(" "),"qtypeslider"!=t.qtypedata.questiontype?s("v-text-field",{staticClass:"questiontextinput",attrs:{label:"Question",required:""},model:{value:t.questiontext,callback:function(e){t.questiontext=e},expression:"questiontext"}}):t._e(),t._v(" "),""!=t.qtypedata.image&&"1"==t.qtypedata.haveimage?s("div",{staticClass:"questionimagepreview"},[s("img",{staticClass:"img-question",attrs:{src:t.questionfinalimage}})]):t._e(),t._v(" "),"1"==t.qtypedata.havedescription?s("div",{staticClass:"tobedeletedesc"},[s("button",{staticClass:"btn-absolute right top",on:{click:function(e){return t.removeDescription()}}},[s("img",{staticClass:"deletequestion",attrs:{src:a("yJyA")}})]),t._v(" "),s("div",{staticClass:"editorinput-conatiner"},[s("div",{staticClass:"editorinput-title"},[t._v("Description ")]),t._v(" "),s("tinymce",{ref:"tincyeditor",attrs:{id:"editor_"+t.qtypedata._id,init:t.tinyinitValue},on:{editorInit:t.editorInit},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1)]):t._e(),t._v(" "),"1"==t.qtypedata.haveimage?s("div",{staticClass:"questionimage"},[s("div",{staticClass:"customquestionimage"},[s("form",{staticClass:"form_dropzone",attrs:{enctype:"multipart/form-data"}},[s("div",{staticClass:"dropzone"},[s("div",[s("input",{ref:"file",staticClass:"file-upload-input",attrs:{type:"file",accept:"image/*"},on:{change:t.sendImageFile}}),t._v(" "),s("p",{staticClass:"call-to-action"},[t._v("Drag or add a file")]),t._v(" "),""!=t.qtypedata.image?s("p",{},[t._v(t._s(t.qtypedata.image))]):t._e()])])]),t._v(" "),s("span",[t._v("OR")]),t._v(" "),s("button",{staticClass:"exportbutton",attrs:{id:"show-modal"},on:{click:function(e){t.showModal=!0}}},[t._v("Insert image url")]),t._v(" "),s("button",{staticClass:" ",on:{click:function(e){return t.removeQuestionHaveImage()}}},[s("img",{staticClass:"deletequestion",attrs:{src:a("yJyA")}})])]),t._v(" "),t.showModal?s("ImageURLInput",{on:{urlAddress:t.updateUrl,closeModel:function(e){t.showModal=!1}}}):t._e()],1):t._e(),t._v(" "),"nps"==t.qtypedata.questiontype?s("div",{staticClass:"questionextra"},[s("v-text-field",{attrs:{label:"Left Text"},model:{value:t.npsleft,callback:function(e){t.npsleft=e},expression:"npsleft"}}),t._v(" "),s("v-text-field",{attrs:{label:"Middle Text"},model:{value:t.npsmiddle,callback:function(e){t.npsmiddle=e},expression:"npsmiddle"}}),t._v(" "),s("v-text-field",{attrs:{label:"Right Text"},model:{value:t.npsright,callback:function(e){t.npsright=e},expression:"npsright"}})],1):"singlec"==t.qtypedata.questiontype||"multic"==t.qtypedata.questiontype||"dropdown"==t.qtypedata.questiontype||"ranking"==t.qtypedata.questiontype?s("div",{staticClass:"questionextra"},t._l(t.qtypedata.choice,function(e,i){return s("div",{key:i,staticClass:"tobedelete"},[s("v-btn",{staticClass:"btn-extrasmall",attrs:{fab:""},on:{click:function(e){return t.deleteChoice(i)}}},[s("img",{staticClass:"deletequestion",attrs:{src:a("yJyA")}})]),t._v(" "),s("v-layout",{attrs:{"align-center":""}},[s("v-checkbox",{staticClass:"shrink mr-2",attrs:{model:e.choicestate,"hide-details":""}}),t._v(" "),s("v-text-field",{key:i,attrs:{label:"Option "+(i+1)},on:{input:function(e){return t.changeChoicetext(i)}},model:{value:e.choicetext,callback:function(a){t.$set(e,"choicetext",a)},expression:"choice.choicetext"}})],1)],1)}),0):"customform"==t.qtypedata.questiontype?s("div",{staticClass:"questionextra"},t._l(t.qtypedata.customformdata,function(e,i){return s("div",{key:"customformelem"+i,staticClass:"tobedelete"},[s("v-btn",{staticClass:"btn-extrasmall",attrs:{fab:""},on:{click:function(e){return t.deleteField(i)}}},[s("img",{staticClass:"deletequestion",attrs:{src:a("yJyA")}})]),t._v(" "),s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs4:""}},[s("v-text-field",{attrs:{label:"Title",required:""},on:{input:t.changefielddata},model:{value:e.title,callback:function(a){t.$set(e,"title",a)},expression:"customformelem.title"}})],1),t._v(" "),s("v-flex",{attrs:{xs2:""}},[s("v-select",{attrs:{items:t.allwidth,label:"Select Width"},on:{change:t.changefielddata},model:{value:e.width,callback:function(a){t.$set(e,"width",a)},expression:"customformelem.width"}})],1),t._v(" "),s("v-flex",{attrs:{xs3:""}},[s("v-switch",{attrs:{label:"Required"},on:{change:t.changefielddata},model:{value:e.required,callback:function(a){t.$set(e,"required",a)},expression:"customformelem.required"}})],1),t._v(" "),s("v-flex",{attrs:{xs2:""}},[s("v-select",{attrs:{items:t.alltype,label:"Select Type"},on:{change:t.changefielddata},model:{value:e.type,callback:function(a){t.$set(e,"type",a)},expression:"customformelem.type"}})],1)],1)],1)}),0):"ratescal"==t.qtypedata.questiontype?s("div",{staticClass:"questionextra"},[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",[s("v-slider",{attrs:{label:"Select Max Rating: ","thumb-color":"green","thumb-label":"true","always-dirty":"",min:"5",max:"100"},on:{input:t.changeScalelength},model:{value:t.qtypedata.length,callback:function(e){t.$set(t.qtypedata,"length",e)},expression:"qtypedata.length"}})],1),t._v(" "),s("v-flex",{staticStyle:{width:"60px"},attrs:{shrink:""}},[s("v-card-text",[t._v(t._s(t.qtypedata.length))])],1)],1)],1):"ratestars"==t.qtypedata.questiontype?s("div",{staticClass:"questionextra"},[s("v-text-field",{attrs:{mask:"##",label:"Max Number of star"},on:{input:t.changeMaxrate},model:{value:t.qtypedata.maxrate,callback:function(e){t.$set(t.qtypedata,"maxrate",e)},expression:"qtypedata.maxrate"}})],1):"numbertext"==t.qtypedata.questiontype?s("div",{staticClass:"questionextra"},[s("v-text-field",{attrs:{mask:"##",label:"Digits allowed"},on:{change:t.changeMaskformat},model:{value:t.qtypedata.maskformat,callback:function(e){t.$set(t.qtypedata,"maskformat",e)},expression:"qtypedata.maskformat"}})],1):"emailtext"==t.qtypedata.questiontype?s("div",{staticClass:"questionextra"},[s("v-text-field",{attrs:{rules:[t.rules.email],label:"Email"}})],1):"commenttext"==t.qtypedata.questiontype?s("div",{staticClass:"questionextra"},[s("v-layout",{attrs:{"align-center":""}},[s("textarea",{staticClass:"xs12textarea",attrs:{disabled:"",rows:"8"}})])],1):"qtypedatetime"==t.qtypedata.questiontype?s("div",{staticClass:"questionextra"},[s("v-radio-group",{attrs:{row:""},on:{change:t.changeQType},model:{value:t.qtypedata.qtype,callback:function(e){t.$set(t.qtypedata,"qtype",e)},expression:"qtypedata.qtype"}},[s("v-radio",{attrs:{label:"Single Choice",value:"0"}}),t._v(" "),s("v-radio",{attrs:{label:"Multi Choice",value:"1"}})],1),t._v(" "),s("v-text-field",{attrs:{label:"Pick days number","prepend-icon":"event"},on:{change:t.changeScalelength},model:{value:t.qtypedata.length,callback:function(e){t.$set(t.qtypedata,"length",e)},expression:"qtypedata.length"}}),t._v(" "),s("div",[s("v-text-field",{attrs:{label:"Pick min date","prepend-icon":"event"},on:{click:function(e){t.modal1=!0}},model:{value:t.npsleft,callback:function(e){t.npsleft=e},expression:"npsleft"}}),t._v(" "),s("v-dialog",{ref:"dialog",attrs:{"return-value":t.npsleft,persistent:"",width:"290px"},on:{"update:returnValue":function(e){t.npsleft=e},"update:return-value":function(e){t.npsleft=e}},model:{value:t.modal1,callback:function(e){t.modal1=e},expression:"modal1"}},[s("v-date-picker",{attrs:{scrollable:""},model:{value:t.npsleft,callback:function(e){t.npsleft=e},expression:"npsleft"}},[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.modal1=!1,t.$refs.dialog.save(t.npsleft)}}},[t._v("OK")]),t._v(" "),s("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.modal1=!1}}},[t._v("Cancel")])],1)],1)],1),t._v(" "),s("div",[s("v-text-field",{attrs:{label:"Pick max date","prepend-icon":"event"},on:{click:function(e){t.modal2=!0}},model:{value:t.npsright,callback:function(e){t.npsright=e},expression:"npsright"}}),t._v(" "),s("v-dialog",{ref:"dialog1",attrs:{"return-value":t.npsright,persistent:"",width:"290px"},on:{"update:returnValue":function(e){t.npsright=e},"update:return-value":function(e){t.npsright=e}},model:{value:t.modal2,callback:function(e){t.modal2=e},expression:"modal2"}},[s("v-date-picker",{attrs:{scrollable:""},model:{value:t.npsright,callback:function(e){t.npsright=e},expression:"npsright"}},[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.modal2=!1,t.$refs.dialog1.save(t.npsright)}}},[t._v("OK")]),t._v(" "),s("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.modal2=!1}}},[t._v("Cancel")])],1)],1)],1)],1):"singletext"==t.qtypedata.questiontype?s("div",{staticClass:"questionextra"},[s("v-text-field",{attrs:{label:"Answer"}})],1):"fileupload"==t.qtypedata.questiontype?s("div",{staticClass:"questionextra"},[s("form",{staticClass:"form_dropzone",attrs:{enctype:"multipart/form-data"}},[s("div",{staticClass:"dropzone"},[s("div",[s("input",{ref:"file",staticClass:"file-upload-input",attrs:{type:"file"}}),t._v(" "),s("p",{staticClass:"call-to-action"},[t._v("Drag your file here")])])])])]):"multipletext"==t.qtypedata.questiontype?s("div",{staticClass:"questionextra"},t._l(t.qtypedata.choice,function(e,i){return s("div",{key:i,staticClass:"tobedelete"},[s("v-btn",{staticClass:"btn-extrasmall",attrs:{fab:""},on:{click:function(e){return t.deleteChoice(i)}}},[s("img",{staticClass:"deletequestion",attrs:{src:a("yJyA")}})]),t._v(" "),s("v-layout",{attrs:{"align-center":""}},[s("v-text-field",{key:i,attrs:{label:"Enter Text Here"},on:{input:function(e){return t.changeAnswer(i)}},model:{value:e.choicetext,callback:function(a){t.$set(e,"choicetext",a)},expression:"answer.choicetext"}})],1)],1)}),0):"matrixquestion"==t.qtypedata.questiontype?s("div",{staticClass:"questionextra"},[s("v-radio-group",{attrs:{row:""},on:{change:t.changeQType},model:{value:t.qtypedata.qtype,callback:function(e){t.$set(t.qtypedata,"qtype",e)},expression:"qtypedata.qtype"}},[s("v-radio",{attrs:{label:"Single Choice",value:"0"}}),t._v(" "),s("v-radio",{attrs:{label:"Multi Choice",value:"1"}})],1),t._v(" "),s("h2",[t._v("Rows")]),t._v(" "),s("div",{staticClass:"allrows"},t._l(t.qtypedata.allrows,function(e,i){return s("div",{key:i,staticClass:"tobedelete"},[s("v-btn",{staticClass:"btn-extrasmall",attrs:{fab:""},on:{click:function(e){return t.deleteRows(i)}}},[s("img",{staticClass:"deletequestion",attrs:{src:a("yJyA")}})]),t._v(" "),s("v-layout",{attrs:{"align-center":""}},[s("v-text-field",{key:i,attrs:{label:"Enter Text Here"},on:{input:function(e){return t.changerowtext(i)}},model:{value:e.option,callback:function(a){t.$set(e,"option",a)},expression:"rows.option"}})],1)],1)}),0),t._v(" "),s("h2",[t._v("Columns")]),t._v(" "),s("div",{staticClass:"allcols"},t._l(t.qtypedata.allcols,function(e,i){return s("div",{key:i,staticClass:"tobedelete"},[s("v-btn",{staticClass:"btn-extrasmall",attrs:{fab:""},on:{click:function(e){return t.deleteCols(i)}}},[s("img",{staticClass:"deletequestion",attrs:{src:a("yJyA")}})]),t._v(" "),s("v-layout",{attrs:{"align-center":""}},[s("v-text-field",{key:i,attrs:{label:"Enter Text Here"},on:{input:function(e){return t.changecoltext(i)}},model:{value:e.option,callback:function(a){t.$set(e,"option",a)},expression:"cols.option"}})],1)],1)}),0)],1):"dataTable"==t.qtypedata.questiontype?s("div",{staticClass:"questionextra"},[s("h2",[t._v("Columns")]),t._v(" "),s("div",{staticClass:"allcols"},t._l(t.qtypedata.allcols,function(e,i){return s("div",{key:i,staticClass:"tobedelete"},[s("v-btn",{staticClass:"btn-extrasmall",attrs:{fab:""},on:{click:function(e){return t.deleteCols(i)}}},[s("img",{staticClass:"deletequestion",attrs:{src:a("yJyA")}})]),t._v(" "),s("v-layout",{attrs:{"align-center":""}},[s("v-text-field",{key:i,attrs:{label:"Enter Text Here"},on:{input:function(e){return t.changecoltext(i)}},model:{value:e.option,callback:function(a){t.$set(e,"option",a)},expression:"cols.option"}})],1)],1)}),0)]):"qtypeslider"==t.qtypedata.questiontype?s("div",{staticClass:"questionextra"},t._l(t.qtypedata.links,function(e,i){return s("div",{key:i,staticClass:"tobedelete"},[s("v-btn",{staticClass:"btn-extrasmall",attrs:{fab:""},on:{click:function(e){return t.deleteURL(i)}}},[s("img",{staticClass:"deletequestion",attrs:{src:a("yJyA")}})]),t._v(" "),s("v-layout",{attrs:{"align-center":""}},[s("v-text-field",{attrs:{value:e.src,label:"link "+(i+1),required:""},on:{input:function(e){return t.changeURL(i)}}})],1)],1)}),0):t._e(),t._v(" "),t.qtypedata.other?s("div",[s("v-layout",{attrs:{"align-center":""}},[s("v-checkbox",{staticClass:"shrink mr-2",attrs:{"hide-details":""}}),t._v(" "),s("v-text-field",{attrs:{label:"Other text"},model:{value:t.othertext,callback:function(e){t.othertext=e},expression:"othertext"}})],1)],1):t._e(),t._v(" "),1==t.qtypedata.havecomment?s("div",[s("v-text-field",{staticClass:"questiontextinput",attrs:{label:"Comment text"},model:{value:t.commenttext,callback:function(e){t.commenttext=e},expression:"commenttext"}})],1):t._e(),t._v(" "),s("questionbuttons",{attrs:{allquestion:t.finalbuilderarray,question:t.qtypedata,index:t.origindex,total:t.total}}),t._v(" "),null!=t.loginjump||t.logicjumps.length>0?s("loginjump",{attrs:{question:t.qtypedata}}):t._e()],1):"pagebreak"!=t.qtypedata.questiontype?s("v-flex",{attrs:{xs11:""}},[s("div",{staticClass:"questiontype"},[t._v(t._s(t.getquestiontype))]),t._v(" "),"sectionheading"==t.qtypedata.questiontype?s("v-text-field",{attrs:{label:"Heading Here",required:""},model:{value:t.questiontext,callback:function(e){t.questiontext=e},expression:"questiontext"}}):"descriptionbox"==t.qtypedata.questiontype||"welcomepage"==t.qtypedata.questiontype||"thankyoupage"==t.qtypedata.questiontype?s("tinymce",{ref:"tincyeditor",attrs:{id:"qeditor_"+t.qtypedata._id},on:{editorInit:t.editorInit},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}}):t._e(),t._v(" "),"descriptionbox"==t.qtypedata.questiontype?[""!=t.qtypedata.image&&"1"==t.qtypedata.haveimage?s("div",{staticClass:"questionimagepreview"},[s("img",{staticClass:"img-question",attrs:{src:t.questionfinalimage}})]):t._e(),t._v(" "),"1"==t.qtypedata.haveimage?s("div",{staticClass:"questionimage"},[s("button",{staticClass:"btn-absolute extreme-right top ",on:{click:function(e){return t.removeQuestionHaveImage()}}},[s("img",{staticClass:"deletequestion",attrs:{src:a("yJyA")}})]),t._v(" "),s("form",{staticClass:"form_dropzone",attrs:{enctype:"multipart/form-data"}},[s("div",{staticClass:"dropzone"},[s("div",[s("input",{ref:"file",staticClass:"file-upload-input",attrs:{type:"file"},on:{change:t.sendImageFile}}),t._v(" "),s("p",{staticClass:"call-to-action"},[t._v("Drag your file here")]),t._v(" "),""!=t.qtypedata.image?s("p",{},[t._v(t._s(t.qtypedata.image))]):t._e()])])])]):t._e()]:t._e(),t._v(" "),s("questionbuttons",{attrs:{allquestion:t.finalbuilderarray,question:t.qtypedata,index:t.origindex,total:t.total}})],2):t._e()],1)],1):t._e()])},staticRenderFns:[]};var vs={props:["dialogstate","questionid","questiontext"],data:function(){return{dialog:this.dialogstate,qid:this.questionid,questiondata:null,groupid:null,oldgroupid:null,qtext:this.questiontext,groups:[],errormsg:""}},methods:{removeModel:function(){this.dialog=!1,this.$emit("removeModel",this.dialog)},changeQuestiongroup:function(){var t=this;this.oldgroupid==this.groupid?this.errormsg="Must Change Group":axios.post("/updatequestiongroup",{questionid:this.qid,groupid:this.groupid}).then(function(e){var a=e.data;1==a.status?(location.reload(),t.dialog=!1,t.$emit("removeModel",t.dialog),t.$parent.changedGroup()):t.errormsg=a.message})}},created:function(){var t=this,e=this.$parent.data.surveyid;axios.post("/getquestiongroups",{surveyid:e}).then(function(e){t.groups=e.data}),axios.post("/getquestion",{questionid:this.questionid}).then(function(e){t.questiondata=e.data.data,t.groupid=e.data.data.groupid,t.oldgroupid=e.data.data.groupid}),console.log("created mode to change group")},watch:{dialog:function(t,e){return this.$emit("removeModel",this.dialog),this.dialog},errormsg:function(t,e){var a=this;setTimeout(function(){a.errormsg=""},2e3)}}},hs={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-xs-center duplicateSurvey_"},[a("v-dialog",{attrs:{width:"600"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[t._v("Change group")]),t._v(" "),a("v-card-text",[a("v-layout",[a("v-flex",{attrs:{xs12:""}},[""!=t.errormsg?a("v-alert",{attrs:{value:!0,type:"warning"}},[t._v(" "+t._s(t.errormsg)+"  ")]):t._e(),t._v(" "),a("h3",[t._v("Question "+t._s(t.qtext))]),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("v-select",{attrs:{items:t.groups,label:"Select Group","item-text":"groupname","item-value":"_id"},model:{value:t.groupid,callback:function(e){t.groupid=e},expression:"groupid"}})],1)],1)],1),t._v(" "),a("v-divider"),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:t.changeQuestiongroup}},[t._v("Change group")]),t._v(" "),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:t.removeModel}},[t._v("Cancel")])],1)],1)],1)],1)},staticRenderFns:[]},ms={props:["gdata"],components:{questioneditor:a("VU/8")(us,ps,!1,function(t){a("WtGI")},"data-v-3224e754",null).exports,addquestiontorgroup:a("VU/8")(vs,hs,!1,null,null,null).exports},data:function(){return{data:this.gdata,questiongroupname:this.gdata.groupname,surveyid:this.gdata.surveyid,allquestions:[],show:!0,model_changegroup:!1,questiontext:"",questionid:"",errors:[]}},methods:{moveelement:function(t,e){var a=this;console.log("from question group");var i=this.allquestions,n=i[t],o=i[t+e];s.a.set(i,t,o),s.a.set(i,t+e,n);var r=[];i.forEach(function(t,e){r.push({order:e,id:t._id})}),axios.post("/updatequestionorder",{neworder:r}).then(function(t){console.log(t),axios.post("/updatequestiontable",{surveyid:a.surveyid}).then(function(t){location.reload()}).catch(function(t){a.errors.push(t)})}).catch(function(t){a.errors.push(t)}),console.log("test")},changedGroup:function(){var t=this;t.show=!1,setTimeout(function(){t.show=!0},2e3)},addToGroup:function(t,e){this.questionid=t,this.questiontext=e,this.model_changegroup=!0,console.log("have to implement model for "+e+" - "+t)},deleteelement:function(t){var e=this,a=this.allquestions[t]._id;axios.post("/deletequestion",{questionid:a}).then(function(a){1==a.data.n&&e.allquestions.splice(t,1),axios.post("/updatequestiontable",{surveyid:e.surveyid}).then(function(t){}).catch(function(t){e.errors.push(t)})}).catch(function(t){e.errors.push(t)})},updateGroupname:function(){var t=this;axios.post("/changequestiongroupname",{groupid:this.data._id,groupname:this.data.groupname}).then(function(e){1==e.data.n&&t.allquestions.splice(ele_index,1)}).catch(function(e){t.errors.push(e)})},getquestionno:function(t){for(var e=0,a=0;a<this.allquestions.length&&!(a>=t);a++){var s=this.allquestions[a];"welcomepage"==s.questiontype||"thankyoupage"==s.questiontype||"sectionheading"==s.questiontype||"pagebreak"==s.questiontype||"descriptionbox"==s.questiontype||"qtypeslider"==s.questiontype||(e+=1)}return e}},created:function(){var t=this;this.debouncedUpdateGroupname=_.debounce(this.updateGroupname,500),axios.post("/getquestionfromgroup",{groupid:this.gdata._id}).then(function(e){t.allquestions=e.data})},watch:{"data.groupname":function(t,e){console.log("group name changed"),this.debouncedUpdateGroupname()}}},fs={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return(t.show=!0)?a("div",{ref:"allquestoin",staticClass:"questiongroup_section"},[a("v-layout",[a("v-flex",{attrs:{xs1:""}}),t._v(" "),a("v-flex",{attrs:{xs11:""}},[a("v-text-field",{attrs:{label:"Question group name"},model:{value:t.data.groupname,callback:function(e){t.$set(t.data,"groupname",e)},expression:"data.groupname"}}),t._v(" "),t._l(t.allquestions,function(e,s){return a("div",{key:"questionid"+s,staticClass:"qustioneditor"},[a("questioneditor",{attrs:{question:e,index:t.getquestionno(s),origindex:s,total:t.allquestions.length}})],1)})],2)],1),t._v(" "),""!=t.questionid&&1==t.model_changegroup?a("addquestiontorgroup",{attrs:{dialogstate:t.model_changegroup,questionid:t.questionid,questiontext:t.questiontext},on:{removeModel:function(e){t.model_changegroup=e}}}):t._e()],1):t._e()},staticRenderFns:[]},gs=a("VU/8")(ms,fs,!1,null,null,null).exports,ys=(new Date,localStorage.username,{props:["surveyid","surveydata"],data:function(){return{currentuser:null,mailformate:[],supermailformate:[],mailfor:"",mailsubject:"",mailbody:"",users:[],search:"",headers:[{text:"Slno",align:"left",value:"slno"},{text:"Mail For",value:"mailfor"},{text:"Mail Subject",value:"mailsubject"},{text:"Mail Body",value:"mailbody"},{text:"",sortable:!1}],errors:[],pagination:{rowsPerPage:100},actions:[{code:"1",text:"Share Survey to Contact list "},{code:"2",text:"Response Added "},{code:"3",text:"Response Approved "},{code:"4",text:"Response Completed "},{code:"5",text:"Survey Notification"}],defaultflow:{surveyid:this.survey,action:1,role:"",notifyrole:""}}},methods:{customizeMail:function(t){this.mailfor=t.mailfor,this.mailsubject=t.mailsubject,this.mailbody=t.mailbody,window.scrollTo(0,document.body.scrollHeight)},getallinternamtemplate:function(){var t=this;axios.post("/getsurveymailtemplate",{surveyid:this.surveyid}).then(function(e){t.mailformate=e.data}).catch(function(e){t.errors.push(e)}),axios.post("/getmailformate",{surveyid:this.surveyid}).then(function(e){t.supermailformate=e.data}).catch(function(e){t.errors.push(e)})},addmailformate:function(){var t=this;""!=this.mailfor?axios.post("/savesurveymailtemplate",{surveyid:this.surveyid,mailfor:this.mailfor,mailsubject:this.mailsubject,mailbody:this.mailbody}).then(function(e){t.getallinternamtemplate(),t.$toast.open({message:"Template Updated successfully",position:"top",type:"success"}),t.mailfor="",t.mailsubject="",t.mailbody=""}).catch(function(e){t.$toast.open({message:"Failed to Update Template",position:"top",type:"error"})}):this.$toast.open({message:"Please specify Template for",position:"top",type:"error"})},gotolist:function(){this.mailsubject="",this.mailbody="",document.body.scrollTop=0,document.documentElement.scrollTop=0},changeflowdata:function(){var t=this;this.mailsubject="",this.mailbody="",setTimeout(function(){var e=0;t.mailformate.forEach(function(a){t.mailfor==a.mailfor&&(t.mailsubject=a.mailsubject,t.mailbody=a.mailbody,console.log(a),e=1)}),1!=e&&t.supermailformate.forEach(function(a){t.mailfor==a.mailfor&&(t.mailsubject=a.mailsubject,t.mailbody=a.mailbody,console.log(a),e=1)})},300)},mailfiorname:function(t){var e="";return this.actions.forEach(function(a){a.code!=t||(e=a.text)}),e}},created:function(){this.getallinternamtemplate()}}),_s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("div",{staticClass:"mailformate"},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("h2",[t._v("Survey name: "+t._s(t.surveydata.surveyname))])])],1),t._v(" "),a("br")],1),t._v(" "),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("h2",[t._v(" Notification Templates")])])],1),t._v(" "),a("v-layout",[a("v-container",[a("v-card",[a("v-card-title",[a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{attrs:{headers:t.headers,items:t.mailformate,search:t.search,"rows-per-page-items":[50,100,150],pagination:t.pagination},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.index+1))]),t._v(" "),a("td",{staticClass:"text-xs-left"},[t._v(t._s(t.mailfiorname(e.item.mailfor))+" ")]),t._v(" "),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.mailsubject)+" ")]),t._v(" "),a("td",{staticClass:"text-xs-left"},[a("div",{domProps:{innerHTML:t._s(e.item.mailbody)}})]),t._v(" "),a("td",{staticClass:"text-xs-left"},[a("button",{staticClass:"exportbutton",on:{click:function(a){return t.customizeMail(e.item)}}},[t._v("Customize")])])]}}])})],1)],1)],1),t._v(" "),a("br"),t._v(" "),a("div",[a("v-layout",[a("v-flex",{attrs:{xs12:""}},[a("v-select",{attrs:{"prepend-icon":"person",items:t.actions,label:"Template For","item-text":"text","item-value":"code"},on:{change:t.changeflowdata},model:{value:t.mailfor,callback:function(e){t.mailfor=e},expression:"mailfor"}})],1)],1),t._v(" "),a("v-layout",[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{"prepend-icon":"person",label:"Template Subject",type:"text"},model:{value:t.mailsubject,callback:function(e){t.mailsubject=e},expression:"mailsubject"}})],1)],1),t._v(" "),a("v-layout",[a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"editorinput-conatiner"},[a("div",{staticClass:"editorinput-title"},[t._v("Template Body: ")]),t._v(" "),a("tinymce",{ref:"tincyeditor",attrs:{id:"editor_formate"},model:{value:t.mailbody,callback:function(e){t.mailbody=e},expression:"mailbody"}})],1)])],1),t._v(" "),a("v-layout",[a("button",{staticClass:"exportbutton",on:{click:t.addmailformate}},[t._v("Save")]),t._v(" "),a("button",{staticClass:"exportbutton",on:{click:t.gotolist}},[t._v("Cancel")])])],1)],1)},staticRenderFns:[]},xs=a("VU/8")(ys,_s,!1,null,null,null).exports,bs={props:["question","index","total"],components:{questionbuttons:os},data:function(){return{id:this.question._id,description:this.question.description,questiontype:this.question.questiontype,qtypedata:this.question,currentdate:(new Date).toISOString().substr(0,10)}},methods:{savenotes:function(){this.debouncedUpdateDescription()},moveelement:function(t,e){var a=5;"welcomepage"==this.questiontype?a=1:"thankyoupage"==this.questiontype&&(a=2),this.$parent.$parent.$parent.moveelement(t,e,a)},deleteelement:function(t){var e=5;"welcomepage"==this.questiontype?e=1:"thankyoupage"==this.questiontype&&(e=2),this.$parent.$parent.$parent.deleteelement(t,e)},editorInit:function(){this.$refs.tincyeditor.editor.setContent(this.question.description)},updateDescription:function(){var t=this,e=this.id,a=this.question.description;axios.post("/updatedescription",{questionid:e,desctext:a}).then(function(t){}).catch(function(e){t.errors.push(e)})},changeQuestiondata:function(){var t=this;this.readyforupdate=!1,axios.post("/getquestion",{questionid:this.question._id}).then(function(e){t.qtypedata=e.data.data,t.id=t.qtypedata._id,t.questiontext=t.qtypedata.questiontext,t.description=t.qtypedata.description,t.readyforupdate=!0})}},watch:{},created:function(){this.debouncedUpdateDescription=_.debounce(this.updateDescription,500)},computed:{getquestiontype:function(){return"welcomepage"==this.question.questiontype?"Welcome notes":"thankyoupage"==this.question.questiontype?"Thankyou notes":"othertype"}}},qs={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"questioneditor_section"},[null!=t.qtypedata?a("div",[a("v-layout",{staticClass:"create_question"},[a("v-flex",{staticClass:"builderindex",attrs:{xs1:""}}),t._v(" "),a("v-flex",{attrs:{xs11:""}},[a("div",{staticClass:"questiontype"},[t._v(t._s(t.getquestiontype))]),t._v(" "),a("tinymce",{ref:"tincyeditor",attrs:{"api-key":"10zoi6d1mnc0zzw2zcda5zq1c0do30jxot05hwds72y6y31r",id:"editor_"+t.qtypedata._id},on:{input:t.savenotes,editorInit:t.editorInit},model:{value:t.question.description,callback:function(e){t.$set(t.question,"description",e)},expression:"question.description"}}),t._v(" "),a("questionbuttons",{attrs:{question:t.qtypedata,index:t.index,total:t.total}})],1)],1)],1):t._e()])},staticRenderFns:[]},ws=a("VU/8")(bs,qs,!1,null,null,null).exports,Cs={props:["surveyid","printnow"],components:{finalquestion:Ue,displayheading:$e},data:function(){return{id:this.surveyid,questions:[],builderarray:[],finalbuilderarray:[],questionorder:[],inprocess:!1,thankyounotes:[],welcomenotes:[]}},methods:{questionfinalimage:function(t){return window.publicfileurl+t},printsurvey:function(){var t=this.$refs.surveypreview.innerHTML,e=document.getElementsByTagName("head")[0].innerHTML;document.getElementById("printButton");if(/^((?!chrome|android).)*safari/i.test(navigator.userAgent)){var a=window.open("","PrintWindow","width=650,height=650,location=no,left=200px");a.document.write("<html><head><style>button#printButton{display:none}</style>"+e+"<style>body{padding:15px;}@media print {.exportbutton {display:none;} .jumbotron__content,img{display:block;page-break-before: auto; page-break-after: auto;page-break-inside: avoid; } .input-group--text-field label{font-size: 12px;margin-top: -25px;font-weight: 700;}.input-group--dirty{{font-size: auto;margin-top: unset;font-weight: auto; }}}}</style></head><body><br><br>"+t+"</body></html>"),setTimeout(function(){a.print(),a.close()},1e3)}else{var s=window.open("","","");s.document.write("<html><head><style>button#printButton{display:none}</style>"+e+"<style>body{padding:15px;}@media print {.exportbutton {display:none;} .jumbotron__content,img{display:block;page-break-before: auto; page-break-after: auto;page-break-inside: avoid; } .input-group--text-field label{font-size: 12px;margin-top: -25px;font-weight: 700;}.input-group--dirty{{font-size: auto;margin-top: unset;font-weight: auto; }}}}</style></head><body><br><br>"+t+"</body></html>"),setTimeout(function(){"complete"===document.readyState&&(s.print(),s.close())},1e3)}},getquestionno:function(t){for(var e=0,a=0;a<this.finalbuilderarray.length&&!(a>=t);a++){var s=this.finalbuilderarray[a];"welcomepage"==s.questiontype||"thankyoupage"==s.questiontype||"sectionheading"==s.questiontype||"pagebreak"==s.questiontype||"descriptionbox"==s.questiontype||"qtypeslider"==s.questiontype||(e+=1)}return e}},watch:{},created:function(){var t=this,e=[];axios.post("/getquestions",{surveyid:this.id}).then(function(a){t.builderarray=a.data,axios.post("/getquestionorder",{surveyid:t.id}).then(function(a){var s=null;t.questionorder=a.data,t.questionorder.forEach(function(a){t.builderarray.forEach(function(i){if(i.order=a.order,i.qtype&&i.qtype.length>10&&"dataTable"==i.questiontype&&!e.includes(i.qtype)){e.push(i.qtype);var n=t.finalbuilderarray.findIndex(function(t){return t._id==i.qtype});(s=t.builderarray.find(function(t){return t._id==i.qtype}))&&(t.finalbuilderarray.push(s),s=null),n>=0&&t.builderarray.splice(n,1)}i._id!=a.questionid||e.includes(i._id)||(t.finalbuilderarray.push(i),e.push(i._id))})}),t.inprocess=!0})}).catch(function(e){t.errors.push(e)}),axios.post("/getallwelcomethankyoudata",{surveyid:this.id,datatype:"welcomepage"}).then(function(e){null==e.data||(t.welcomenotes=e.data)}),axios.post("/getallwelcomethankyoudata",{surveyid:this.id,datatype:"thankyoupage"}).then(function(e){null==e.data||(t.thankyounotes=e.data)})},computed:{}},Ms={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return 1==t.inprocess?a("div",{ref:"surveypreview"},[a("button",{staticClass:"exportbutton",attrs:{id:"printButton"},on:{click:t.printsurvey}},[t._v("Print")]),t._v(" "),t.welcomenotes.length>0?[t._l(t.welcomenotes,function(e,s){return[a("div",{key:"welcomenotesid"+s,staticClass:"printonly",domProps:{innerHTML:t._s(e.description)}})]})]:t._e(),t._v(" "),t.finalbuilderarray.length>0?a("div",{staticClass:"questionblock"},t._l(t.finalbuilderarray,function(e,s){return a("div",{key:"previewqid"+s},["sectionheading"===e.questiontype?a("displayheading",{attrs:{sectiondata:e}}):"pagebreak"===e.questiontype?a("v-divider"):"descriptionbox"==e.questiontype?a("div",{staticClass:"descriptionbox"},[a("v-layout",[a("v-flex",{staticClass:"finalquestionindex",attrs:{xs1:""}}),t._v(" "),a("v-flex",{attrs:{xs11:"",questionbox:""}},[a("div",{domProps:{innerHTML:t._s(e.description)}}),t._v(" "),""!=e.image&&"1"==e.haveimage?a("div",{staticClass:"questionimagepreview"},[a("img",{staticClass:"img-question",attrs:{src:t.questionfinalimage(e.image)}})]):t._e()])],1)],1):a("finalquestion",{attrs:{questiondata:e,qno:t.getquestionno(s)}})],1)}),0):a("div",{staticClass:"questionblock"},[a("h3",[t._v("Question not available")])]),t._v(" "),t.thankyounotes.length>0?[t._l(t.thankyounotes,function(e,s){return[a("div",{key:"welcomenotesid"+s,staticClass:"printonly",domProps:{innerHTML:t._s(e.description)}})]})]:t._e()],2):a("div",[t._m(0)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"questionblock"},[e("h3",[this._v("Loading...")])])}]},Is=a("VU/8")(Cs,Ms,!1,null,null,null).exports,ks={props:["survey"],data:function(){return{id:this.survey,surveydata:this.survey,workflows:[],allroles:[{code:"0",text:"Respondent"},{code:"1",text:"Editor"},{code:"2",text:"Reviewer"}],actions:[{code:"0",text:"Response by "},{code:"1",text:"Approved by "},{code:"2",text:"Completed by "}],defaultflow:{surveyid:this.survey,action:0,role:"",notifyrole:""}}},methods:{addFlow:function(){var t=this;axios.post("/addworkflow",{flowdata:this.defaultflow}).then(function(e){t.workflows.push(e.data)})},deleteFlow:function(t){var e=this,a=this.workflows[t]._id;axios.post("/deleteworkflow",{flowid:a}).then(function(a){1==a.data.n&&e.workflows.splice(t,1)}).catch(function(t){e.errors.push(t)})},changeflowdata:function(){this.debouncedchangeflowdata()},updateFlowdata:function(){var t=this,e=this.workflows;axios.post("/updateworkflow",{allflowdata:e}).then(function(t){}).catch(function(e){t.errors.push(e)})}},created:function(){var t=this;this.debouncedchangeflowdata=_.debounce(this.updateFlowdata,2e3),axios.post("/getallworkflow",{surveyid:this.survey}).then(function(e){var a=e.data;0==a.length?axios.post("/addworkflow",{flowdata:t.defaultflow}).then(function(e){t.workflows.push(e.data)}):t.workflows=a})}},js={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"workflow_section"},[t.workflows.length>0?s("div",{staticClass:"container_workflow"},t._l(t.workflows,function(e,i){return s("div",{key:"flow"+i},[s("div",{staticClass:"flowelement"},[s("v-layout",[s("v-flex",{staticClass:"conditiontext flexcenter",attrs:{xs1:""}},[t._v("If")]),t._v(" "),s("v-flex",{staticClass:"conditionon",attrs:{xs3:""}},[s("v-select",{attrs:{items:t.actions,"item-text":"text","item-value":"code"},on:{change:t.changeflowdata},model:{value:e.action,callback:function(a){t.$set(e,"action",a)},expression:"flow.action"}})],1),t._v(" "),s("v-flex",{staticClass:"notify",attrs:{xs2:""}},[s("v-select",{attrs:{items:t.allroles,"item-text":"text","item-value":"code"},on:{change:t.changeflowdata},model:{value:e.role,callback:function(a){t.$set(e,"role",a)},expression:"flow.role"}})],1),t._v(" "),s("v-flex",{staticClass:"conditiontext flexcenter",attrs:{xs1:""}},[s("span",[t._v("Notify")])]),t._v(" "),s("v-flex",{staticClass:"notify",attrs:{xs2:""}},[s("v-select",{attrs:{items:t.allroles,"item-text":"text","item-value":"code"},on:{change:t.changeflowdata},model:{value:e.notifyrole,callback:function(a){t.$set(e,"notifyrole",a)},expression:"flow.notifyrole"}})],1),t._v(" "),s("v-flex",{attrs:{xs2:"",flexcenter:""}},[t.workflows.length!=i?s("button",{staticClass:"btn-jumpaction delete",on:{click:function(e){return t.deleteFlow(i)}}},[s("img",{attrs:{src:a("AMKi")}})]):t._e(),t._v(" "),t.workflows.length==i+1?s("button",{staticClass:"btn-jumpaction add",on:{click:t.addFlow}},[s("img",{attrs:{src:a("qnj9")}})]):t._e()])],1)],1)])}),0):s("div",{staticClass:"container_logicjump"},[s("div",[s("div",{staticClass:"flowelement"},[s("v-layout",[s("v-flex",{staticClass:"conditiontext flexcenter",attrs:{xs1:""}}),t._v(" "),s("v-flex",{staticClass:"conditionon",attrs:{xs3:""}}),t._v(" "),s("v-flex",{staticClass:"conditionon",attrs:{xs3:""}}),t._v(" "),s("v-flex",{staticClass:"notify",attrs:{xs3:""}}),t._v(" "),s("v-flex",{attrs:{xs2:"",flexcenter:""}},[s("button",{staticClass:"btn-jumpaction add",on:{click:t.addFlow}},[s("img",{attrs:{src:a("qnj9")}})])])],1)],1)])])])},staticRenderFns:[]},Ns=a("VU/8")(ks,js,!1,null,null,null).exports,Ds=a("CqLJ"),Ls={props:["survey"],data:function(){return{id:this.survey,surveydata:this.survey,reminder:[],defaultreminder:{surveyid:this.survey,days:7,initialshare:Ds(Date.now(),"yyyy-mm-dd"),partialresponse:!1,noresponse:!1}}},methods:{addReminder:function(){var t=this;axios.post("/addreminder",{reminderdata:this.defaultreminder}).then(function(e){t.reminder.push(e.data)})},deletereminder:function(t){var e=this;console.log("reminder- ",this.reminder),console.log("index- ",t);var a=this.reminder[t]._id;console.log("reminderid- ",a),axios.post("/deletereminder",{reminderid:a}).then(function(a){1==a.data.n&&e.reminder.splice(t,1)}).catch(function(t){e.errors.push(t)})},changereminderdata:function(){this.debouncedchangereminderdata()},updatereminderdata:function(){var t=this,e=this.reminder;axios.post("/updatereminder",{allreminderdata:e}).then(function(t){}).catch(function(e){t.errors.push(e)})}},created:function(){var t=this;this.debouncedchangereminderdata=_.debounce(this.updatereminderdata,2e3),axios.post("/getallreminder",{surveyid:this.survey}).then(function(e){var a=e.data;t.reminder=a})}},As={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"reminder_section"},[t.reminder.length>0?s("div",{staticClass:"container_reminnder"},t._l(t.reminder,function(e,i){return s("div",{key:"flow"+i,staticClass:"singlereminder"},[s("v-flex",{attrs:{xs12:""}},[s("span",[t._v("Send a reminder email after ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.days,expression:"rem.days"}],staticClass:"input-inlineblock text",attrs:{type:"number"},domProps:{value:e.days},on:{change:t.changereminderdata,input:function(a){a.target.composing||t.$set(e,"days",a.target.value)}}}),t._v(" days from "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.initialshare,expression:"rem.initialshare"}],staticClass:"input-inlineblock date",attrs:{type:"date"},domProps:{value:e.initialshare},on:{change:t.changereminderdata,input:function(a){a.target.composing||t.$set(e,"initialshare",a.target.value)}}})]),t._v(" "),s("v-flex",{attrs:{xs12:""}},[s("span",[t._v("in case of "),s("v-checkbox",{on:{change:t.changereminderdata},model:{value:e.partialresponse,callback:function(a){t.$set(e,"partialresponse",a)},expression:"rem.partialresponse"}}),t._v(" Partial response "),s("v-checkbox",{on:{change:t.changereminderdata},model:{value:e.noresponse,callback:function(a){t.$set(e,"noresponse",a)},expression:"rem.noresponse"}}),t._v(" No response  If the survey is still active")],1)]),t._v(" "),s("v-flex",{attrs:{xs12:"",flexright:""}},[t.reminder.length!=i?s("button",{staticClass:"btn-jumpaction delete",on:{click:function(e){return t.deletereminder(i)}}},[s("img",{attrs:{src:a("AMKi")}})]):t._e(),t._v(" "),t.reminder.length==i+1?s("button",{staticClass:"btn-jumpaction add",on:{click:t.addReminder}},[s("img",{attrs:{src:a("qnj9")}})]):t._e()])],1)}),0):s("div",{staticClass:"container_reminnder"},[s("div",{staticClass:"singlereminder"},[s("v-flex",{attrs:{xs12:"",flexright:""}},[s("button",{staticClass:"btn-jumpaction add",on:{click:t.addReminder}},[s("img",{attrs:{src:a("qnj9")}})])])],1)])])},staticRenderFns:[]},Ts=a("VU/8")(Ls,As,!1,null,null,null).exports,Ss=a("CqLJ"),Es={props:["survey"],data:function(){return{id:1,surveydata:this.survey,sharedlist:[],search:"",pagination:{rowsPerPage:100},headers:[{text:"Slno.",sortable:!1},{text:"Contact Name",align:"left",value:"contactname"},{text:"Shared Date",align:"left",value:"createddate"},{text:"Mail",sortable:!1},{text:"Dashboard",sortable:!1},{text:"",sortable:!1},{text:"",sortable:!1}]}},methods:{getdatestring:function(t){return Ss(t,"yyyy-mm-dd ")},sendtoonedashboard:function(t){var e=this;axios.post("/sendsharedsurveymail",{sharedid:t,sendtoone:!0,sendmail:!1}).then(function(t){t.data&&(e.getshareddata(),e.$toast.open({message:"Sent to GPEx ONE Dashboard",position:"top",type:"success"}))}).catch(function(t){e.$toast.open({message:"Failed to send to GPEx ONE Dashboard",position:"top",type:"success"})})},sendsharemeaaage:function(t){var e=this;axios.post("/sendsharedsurveymail",{sharedid:t,sendtoone:!1,sendmail:!0}).then(function(t){t.data&&(e.getshareddata(),e.$toast.open({message:"Mail Sent",position:"top",type:"success"}))}).catch(function(t){e.$toast.open({message:"Failed to Send mail",position:"top",type:"error"})})},deleteshareddata:function(t){var e=this;axios.post("/deletesharedsurveytolist",{listid:t}).then(function(t){1==t.data.n&&e.getshareddata()}).catch(function(t){e.$toast.open({message:"Failed to delete surveylist",position:"top",type:"error"})})},getshareddata:function(){var t=this;axios.post("/getsharedsurveytolist",{surveyid:this.survey._id}).then(function(e){t.sharedlist=e.data})}},created:function(){this.getshareddata()}},zs={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sharedsurvey"},[s("v-container",[s("v-card",[s("v-card-title",[t._v("Shared list"),s("v-spacer"),s("v-text-field",{staticClass:"datatable_search",attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),s("v-data-table",{attrs:{headers:t.headers,items:t.sharedlist,search:t.search,"rows-per-page-items":[50,100,150],pagination:t.pagination},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.index+1)+" ")]),t._v(" "),s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.contactname)+" ")]),t._v(" "),s("td",{staticClass:"text-xs-left"},[t._v(t._s(t.getdatestring(e.item.createddate))+" ")]),t._v(" "),s("td",[e.item.mailsent?[t._v("Sent")]:[s("span",{staticClass:"cursor_pointer",on:{click:function(a){return t.sendsharemeaaage(e.item._id)}}},[t._v("Send message")])]],2),t._v(" "),s("td",[1==e.item.senttoone?[t._v("Yes")]:[s("span",{staticClass:"cursor_pointer",on:{click:function(a){return t.sendtoonedashboard(e.item._id)}}},[t._v("Send To Dashboard")])]],2),t._v(" "),s("td",[s("v-btn",{staticClass:"btn-extrasmall",on:{click:function(a){return t.deleteshareddata(e.item._id)}}},[s("img",{staticClass:"deletequestion",attrs:{src:a("yJyA")}})])],1),t._v(" "),s("td",[s("a",{staticClass:"exportbutton",attrs:{target:"_BLANK",href:"/surveyshareddetails/"+e.item._id}},[t._v("Details")])])]}}])})],1)],1)],1)},staticRenderFns:[]},Os=a("VU/8")(Es,zs,!1,null,null,null).exports,Ys={props:["mediaitem","dialogstate","mediaindex"],data:function(){return{imagedata:this.mediaitem,dialog:!0,publicfileurl:"",filename:this.mediaitem.filename,ispublic:this.mediaitem.public}},methods:{copyURL:function(t){F()(t),this.$toast.open({message:"Image link copied",position:"top",type:"success"})},removeModel:function(){this.dialog=!1,this.$emit("removeModel",this.dialog)},savemedia:function(){var t=this;axios.post("/updatemedia",{id:this.imagedata._id,filename:this.filename,public:this.ispublic}).then(function(e){e.data?(t.$toast.open({message:"Updated",position:"top",type:"success"}),t.mediaitem.filename=t.filename,t.mediaitem.public=t.ispublic,t.removeModel()):t.$toast.open({message:"Failed",position:"top",type:"error"})})},deletemedia:function(){var t=this;axios.post("/deletemedia",{id:this.mediaitem._id,filepath:this.mediaitem.filepath}).then(function(e){1==e.data.n?(t.$toast.open({message:"Deleted",position:"top",type:"success"}),t.$parent.deletemedia(t.mediaindex),t.removeModel()):t.$toast.open({message:"Failed",position:"top",type:"error"})})}},created:function(){this.publicfileurl=window.publicfileurl},watch:{dialog:function(t,e){return this.$emit("removeModel",this.dialog),this.dialog}}},Fs={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-xs-center duplicateSurvey_"},[a("v-dialog",{model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[t._v("Media details")]),t._v(" "),a("v-card-text",[a("v-layout",[a("v-flex",{attrs:{xs12:"",sm9:""}},[a("div",{staticClass:"mediaelement"},[a("img",{staticClass:"mediaresponseve",attrs:{src:t.publicfileurl+t.imagedata.filepath}})])]),t._v(" "),a("v-flex",{staticClass:"borderleft",attrs:{xs12:"",sm3:""}},[a("div",{staticClass:"mediadetailsform"},[a("div",{staticClass:"dis_element",on:{click:function(e){return t.copyURL(t.publicfileurl+t.imagedata.filepath)}}},[a("p",[t._v("File path:(Click to copy) ")]),t._v(" "),a("div",{staticClass:"borderedbox path"},[t._v(t._s(t.publicfileurl+t.imagedata.filepath))])]),t._v(" "),a("v-text-field",{attrs:{label:"File name"},model:{value:t.filename,callback:function(e){t.filename=e},expression:"filename"}}),t._v(" "),a("br"),t._v(" "),a("v-checkbox",{attrs:{label:"Public"},model:{value:t.ispublic,callback:function(e){t.ispublic=e},expression:"ispublic"}})],1)])],1)],1),t._v(" "),a("v-divider"),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("button",{staticClass:"exportbutton",attrs:{color:"primary",flat:""},on:{click:t.savemedia}},[t._v("Save")]),t._v(" "),a("button",{staticClass:"exportbutton danger",attrs:{color:"primary",flat:""},on:{click:t.deletemedia}},[t._v("Delete")]),t._v(" "),a("button",{staticClass:"exportbutton",attrs:{color:"primary",flat:""},on:{click:t.removeModel}},[t._v("Cancel")])],1)],1)],1)],1)},staticRenderFns:[]},Us=a("VU/8")(Ys,Fs,!1,null,null,null).exports,Qs=(new Date,localStorage.username,{components:{mediadetails:Us},data:function(){return{allmedia:[],filterdates:[],publicfileurl:"",selectedmedia:"",selectedindex:0,model_mediadetails:!1,addnew:!1}},methods:{copyURL:function(t){F()(t),this.$toast.open({message:"Image link copied",position:"top",type:"success"})},addnewmedia:function(t){this.addnew=t},deletemedia:function(t){this.allmedia.splice(t,1)},displaymediadetails:function(t,e){this.selectedmedia=t,this.selectedindex=e,this.model_mediadetails=!0},sendImageFile:function(){var t=this;return Tt()(Lt.a.mark(function e(){var a,s,i,n,r,c,d,l;return Lt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.$refs.file.files[0],console.log("file-",a),(s=new FormData).append("file",a),e.next=6,o.a.post("/upload",s);case 6:i=e.sent,console.log("updaloaded- ",i),n=a.name,r=i.data.file,c=a.type,d=a.size,l="00000",c.indexOf("image")>=0?o.a.post("/addmedia",{filename:n,filepath:r,filetype:c,filesize:d,createdby:l}).then(function(e){console.log("media added- ",e),e.data&&(t.allmedia.splice(0,0,e.data),t.$toast.open({message:"image Uploaded",position:"top",type:"success"}))}):t.$toast.open({message:"Invalid file type only image allowed",position:"top",type:"error"}),event.target.value="";case 15:case"end":return e.stop()}},e,t)}))()},getactualpath:function(t){return window.publicfileurl+t}},computed:{},created:function(){var t=this;this.publicfileurl=window.publicfileurl,o.a.post("/getallmedia",{}).then(function(e){e.data&&(t.allmedia=e.data)})}}),$s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"medialibrary"},[a("v-layout",[a("div",{staticClass:"flex mediaheader"},[a("h2",[t._v("Gallery")]),t._v(" "),a("button",{staticClass:"exportbutton",attrs:{color:"primary",flat:""},on:{click:function(e){return t.addnewmedia(!0)}}},[t._v("Add New")])])]),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),t.addnew?a("div",{staticClass:"newfileupload"},[a("form",{staticClass:"form_dropzone",attrs:{enctype:"multipart/form-data"}},[a("div",{staticClass:"dropzone"},[a("div",[a("input",{ref:"file",staticClass:"file-upload-input",attrs:{type:"file"},on:{change:t.sendImageFile}}),t._v(" "),a("p",{staticClass:"call-to-action"},[t._v("Drag your file here")])])])])]):t._e(),t._v(" "),a("div",{staticClass:"allmedialist"},[t._l(t.allmedia,function(e,s){return[""!=e.filepath?a("div",{key:"questionid"+e._id,staticClass:"mediaitem"},[a("div",{staticClass:"mediathumb"},[a("div",{staticClass:"mediaimage",style:"background-image:url("+(t.publicfileurl+e.filepath)+")",attrs:{aaaa:t.publicfileurl+e.filepath}}),t._v(" "),a("div",{staticClass:"medianame"},[t._v(t._s(e.filename))]),t._v(" "),a("div",{staticClass:"mediaoverlay"},[a("div",{staticClass:"custom_badges mediaaction",on:{click:function(a){return t.copyURL(t.publicfileurl+e.filepath)}}},[a("div",{staticClass:"badge_shape"},[a("i",{staticClass:"material-icons"},[t._v("file_copy")])]),t._v(" "),a("div",{staticClass:"badge_text"},[t._v("Copy URL")])]),t._v(" "),a("div",{staticClass:"custom_badges mediaaction",on:{click:function(a){return t.displaymediadetails(e,s)}}},[a("div",{staticClass:"badge_shape"},[a("i",{staticClass:"material-icons"},[t._v("info")])]),t._v(" "),a("div",{staticClass:"badge_text"},[t._v("Details")])])])])]):t._e()]})],2),t._v(" "),1==t.model_mediadetails?a("mediadetails",{attrs:{dialogstate:t.model_mediadetails,mediaindex:t.selectedindex,mediaitem:t.selectedmedia},on:{removeModel:function(e){t.model_mediadetails=e}}}):t._e()],1)},staticRenderFns:[]},Zs=a("VU/8")(Qs,$s,!1,null,null,null).exports,Rs={components:{library:Zs},props:["dialogstate"],data:function(){return{dialog:!0}},methods:{removeModel:function(){this.dialog=!1,this.$emit("removeModel",this.dialog)}},created:function(){},watch:{dialog:function(t,e){return this.$emit("removeModel",this.dialog),this.dialog}}},Ps={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-xs-center "},[a("v-dialog",{model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("div",{staticClass:"grayback"},[a("div",{staticClass:"gallerypupupbuttons"},[a("button",{staticClass:"exportbutton",attrs:{color:"primary",flat:""},on:{click:t.removeModel}},[t._v("Close")])]),t._v(" "),a("library")],1),t._v(" "),a("v-card-actions")],1)],1)],1)},staticRenderFns:[]};var Gs=a("VU/8")(Rs,Ps,!1,function(t){a("AP13")},"data-v-02b42405",null).exports,Js=a("Zzkc"),Ws={components:{"chrome-picker":Js.Chrome},data:function(){return{imagecolor:"#ffffff"}},methods:{updateimagecolor:function(t){this.$emit("changeColor",t)},closeModel:function(){this.$emit("closeModel")}}},Hs={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"modal"}},[a("div",{staticClass:"modal-mask"},[a("div",{staticClass:"modal-wrapper"},[a("div",{staticClass:"modal-colorpicker"},[a("div",{staticClass:"modal-header"},[a("chrome-picker",{model:{value:t.imagecolor,callback:function(e){t.imagecolor=e},expression:"imagecolor"}})],1),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"exportbutton",on:{click:function(e){return t.updateimagecolor(t.imagecolor)}}},[t._v("OK")]),t._v(" "),a("button",{staticClass:"exportbutton",on:{click:function(e){return t.closeModel()}}},[t._v("Cancel")])])])])])])},staticRenderFns:[]};var Bs=a("VU/8")(Ws,Hs,!1,function(t){a("O5q5")},null,null).exports,Vs=localStorage.username,Xs=(new Date,a("NCci")),Ks={components:{MyColorPicker:Bs,"chrome-picker":Js.Chrome,surveymailtemplate:xs,gallery:Gs,questiongroup:gs,displayheading:$e,finalqestion:Ue,welcomethankyoueditor:ws,previewsurvey:Is,workflow:Ns,sharedsurveylist:Os,surveyreminder:Ts,ModelListSelect:we.ModelListSelect},data:function(){return{id:this.$route.params.id,activetab:"0",printnow:!0,tabsize:"xs9",readyfordisplayeditor:!0,scrolled:0,imagecolor:"#ffffff",tempdata:"",previewsurvey:"",builderqno:0,previewqno:0,builderarray:[],questiongroups:[],arr_editors:[],selectfromcolorpicker:!1,arr_reviewer:[],search_reviewer:"",search_editor:"",survey_reviewer:[],survey_editor:[],thankyounotes:[],welcomenotes:[],surveyconfig:{},minheight:0,surveytitle:"",surveydata:null,surveyprojects:null,surveysemester:null,lastquestiongroup:"",currentuser:null,groupname:null,successmessage:"",projects:[],semesters:[],contacts:[],shareto:"",sharewithmail:!1,anonymousresp:!1,model_gallery:!1,sharetoone:!1,model:"tab-Build",colors:{hex:"#194d33",hsl:{h:150,s:.5,l:.2,a:1},hsv:{h:150,s:.66,v:.3,a:1},rgba:{r:25,g:77,b:51,a:1},a:1},breadcreamps:[{icon:"../../assets/icons/edit-light.svg",text:"Build"},{icon:"phone",text:"Configure"},{icon:"phone",text:"Preview"},{icon:"phone",text:"Mobile Preview"},{icon:"phone",text:"Share"}],text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."}},methods:{selectfrompicker:function(){this.selectfromcolorpicker=!this.selectfromcolorpicker},openmailtemplate:function(){this.activetab="5",this.tabsize="xs12"},openmodelgallery:function(){this.model_gallery=!0},deleteGroup:function(t){var e=this;console.log("delete group");var a=this.questiongroups[t]._id;o.a.post("/deletequestiongroup",{groupid:a}).then(function(a){2==a.data.status?e.questiongroups.splice(t,1):e.$toast.open({message:a.data.message,position:"top",type:"error"})}).catch(function(t){e.$toast.open({message:response.data.message,position:"top",type:"error"})})},sharetocontactlist:function(){""==this.shareto?alert("Must select List"):o.a.post("/sharelist",{listid:this.shareto,surveyid:this.id,mailtousers:this.sharewithmail,sendtoone:this.sharetoone}).then(function(t){alert("success")}).catch(function(t){alert("Failed to share the data")})},changedquestionGroup:function(){console.log("change group from builder")},saveSurvey:function(){this.successmessage="Saved Successfully",console.log(this.successmessage)},Clearmessage:function(){this.successmessage=""},changeconfig:function(t){this.debouncedupdateConfigdata()},changetitle:function(t){this.debouncedUpdateSurveytitle()},changeproject:function(t){this.debouncedUpdateSurveyproject()},updateConfigdata:function(){var t=this;"1"!=this.surveyconfig.mode||"0"!=this.surveyconfig.multisubmission&&"0"!=this.surveyconfig.multisubmissionuser||(this.surveyconfig.multisubmission="1",this.surveyconfig.multisubmissionuser="1",this.$toast.open({message:"Multiple submission can be disabled only if Kiosk mode is disabled",position:"top",type:"warning"})),o.a.post("/updatesurveyconfig",x()({surveyid:this.id,active:this.surveyconfig.active,display:this.surveyconfig.display,mode:this.surveyconfig.mode,anonymous:this.surveyconfig.anonymous,coverphoto:this.surveyconfig.coverphoto,multisubmission:this.surveyconfig.multisubmission,multisubmissionuser:this.surveyconfig.multisubmissionuser,editor:this.survey_editor,reviewer:this.survey_reviewer,resnotiftoedotor:this.surveyconfig.resnotiftoedotor,processapprovalbyedotor:this.surveyconfig.processapprovalbyedotor,processapprovaltoedotor:this.surveyconfig.processapprovaltoedotor,sendnotiftoreviewer:this.surveyconfig.sendnotiftoreviewer,sendnotiftoeditor:this.surveyconfig.sendnotiftoeditor,honeypot:this.surveyconfig.honeypot,skipnext:this.surveyconfig.skipnext,recaptcha:this.surveyconfig.recaptcha},"honeypot",this.surveyconfig.honeypot)).then(function(t){console.log(t)}).catch(function(e){t.errors.push(e)})},UpdateSurveytitle:function(){var t=this;o.a.post("/updatesurveytitle",{surveyid:this.id,title:this.surveytitle}).then(function(t){console.log(t)}).catch(function(e){t.errors.push(e)})},UpdateSurveyproject:function(){var t=this;console.log("update project"),o.a.post("/updatesurveyproject",{surveyid:this.id,project:this.surveyprojects,semester:this.surveysemester}).then(function(t){console.log(t)}).catch(function(e){t.errors.push(e)})},addquestion:function(t){var e=this;this.activetab="0";var a={questionno:0,questiontext:"",haveimage:"0",havedescription:"0",description:"",image:"",maskformat:"",maxrate:"",groupid:this.lastquestiongroup,required:"0",length:"",rating:"",qtype:"",order:this.lastgroupsize};"multic"==t?a.choice=[{choicestate:0,choicetext:""},{choicestate:0,choicetext:""},{choicestate:0,choicetext:""},{choicestate:0,choicetext:""}]:"singlec"==t?a.choice=[{choicestate:0,choicetext:""},{choicestate:0,choicetext:""},{choicestate:0,choicetext:""},{choicestate:0,choicetext:""}]:"multipletext"==t?a.choice=[{choicestate:0,choicetext:""},{name:""},{name:""},{name:""}]:"dropdown"==t?a.choice=[{choicestate:0,choicetext:""},{choicestate:0,choicetext:""},{choicestate:0,choicetext:""},{choicestate:0,choicetext:""}]:"singletext"==t?a.choice=[{choicestate:0,choicetext:""},{choicestate:0,choicetext:""},{choicestate:0,choicetext:""},{choicestate:0,choicetext:""}]:"ranking"==t?a.choice=[{choicestate:0,choicetext:""},{choicestate:0,choicetext:""},{choicestate:0,choicetext:""},{choicestate:0,choicetext:""}]:"commenttext"==t?a.commenttext="":"qtypedatetime"==t?a.dateselection="":"sectionheading"==t?a.sectionheading="":"numbertext"==t?a.maskformat=3:"ratestars"==t?a.maxrate="20":"contacttext"==t?a.contactform={}:"contactInfo"==t?a.contactInfo="":"dataTable"==t?(a.contactInfo="",a.allcols=[{option:""}],a.allrows=[]):"customform"==t?a.customformdata=[{title:"Firstname",type:"Text",width:"50%",required:!1},{title:"Lastname",type:"Text",width:"50%",required:!1},{title:"Phone",type:"Phone",width:"100%",required:!1},{title:"Email",type:"Email",width:"100%",required:!1},{title:"Address",type:"Textarea",width:"100%",required:!1}]:"ratescal"==t?(a.length="10",a.ratings="0"):"matrixquestion"==t?(a.allrows=[{option:"",radioans:"",checkans:[]}],a.allcols=[{option:""}],a.qtype="0"):"qtypeslider"==t?a.links=[{src:"https://cdn.vuetifyjs.com/images/carousel/squirrel.jpg"},{src:"https://cdn.vuetifyjs.com/images/carousel/sky.jpg"},{src:"https://cdn.vuetifyjs.com/images/carousel/bird.jpg"},{src:"https://cdn.vuetifyjs.com/images/carousel/planet.jpg"}]:"welcomepage"==t&&(a.order=this.welcomenotes.length,a.groupid="welcome"),a.type=t,this.readyfordisplayeditor=!1,o.a.post("/addquestion",{surveyid:this.id,questions:a}).then(function(a){200==a.status?(e.successmessage="Question Added",e.readyfordisplayeditor=!0,"welcomepage"==t?e.welcomenotes.push(a.data.result):(console.log("height-",e.$refs.thisbuilder.clientHeight),console.log("window-",window),window.scrollTo(0,e.$refs.thisbuilder.clientHeight+1e3),e.lastgroupsize++),o.a.post("/updatequestiontable",{surveyid:e.id}).then(function(t){}).catch(function(t){e.errors.push(t)})):(e.readyfordisplayeditor=!0,console.log("error"))}).catch(function(t){e.readyfordisplayeditor=!0,console.log("error"),console.log(t)})},deleteelement:function(t,e){var a=this,s=[];if(1==e){var i=this.welcomenotes[t]._id;o.a.post("/deletequestion",{questionid:i}).then(function(e){1==e.data.n&&(a.welcomenotes.splice(t,1),a.welcomenotes.forEach(function(t,e){s.push({order:e,id:t._id})}),a.updatequestionorder(s))}).catch(function(t){a.errors.push(t)})}else if(2==e){i=this.thankyounotes[t]._id;o.a.post("/deletequestion",{questionid:i}).then(function(e){1==e.data.n&&(a.thankyounotes.splice(t,1),a.thankyounotes.forEach(function(t,e){s.push({order:e,id:t._id})}),a.updatequestionorder(s))}).catch(function(t){a.errors.push(t)})}},choosefromsplash:function(){var t=this;return Tt()(Lt.a.mark(function e(){var a;return Lt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("https://source.unsplash.com/collection/4728778/1600x900");case 2:a=e.sent,t.surveyconfig.coverphoto=a.request.responseURL,t.changeconfig("from fil upload");case 5:case"end":return e.stop()}},e,t)}))()},sendconfigSurveyFile:function(){var t=this;return Tt()(Lt.a.mark(function e(){var a,s,i;return Lt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.$refs.file.files[0],console.log(a),(s=new FormData).append("file",a),e.prev=4,console.log("need to handle upload"),e.next=8,o.a.post("/upload",s);case 8:i=e.sent,console.log(i),t.surveyconfig.coverphoto=i.data.file,t.changeconfig("from fil upload"),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),console.log(e.t0),t.error=!0;case 18:case"end":return e.stop()}},e,t,[[4,14]])}))()},createImagefromhex:function(t){var e=this;this.selectfromcolorpicker=!1,o.a.post("/hextoimage",{color:t.hex}).then(function(t){t.data.status?(e.surveyconfig.coverphoto=t.data.imageName,e.changeconfig("from fil upload"),e.selectfromcolorpicker=!1):e.$toast.open({message:t.data.message,position:"top",type:"error"})}).catch(function(t){e.errors.push(t)})},moveelement:function(t,e,a){var i=[];if(console.log("move from builder"),1==a){var n=this.welcomenotes[t],o=this.welcomenotes[t+e];s.a.set(this.welcomenotes,t,o),s.a.set(this.welcomenotes,t+e,n),this.welcomenotes.forEach(function(t,e){i.push({order:e,id:t._id})})}else if(2==a){n=this.thankyounotes[t],o=this.thankyounotes[t+e];s.a.set(this.thankyounotes,t,o),s.a.set(this.thankyounotes,t+e,n),this.thankyounotes.forEach(function(t,e){i.push({order:e,id:t._id})})}this.updatequestionorder(i)},updatequestionorder:function(t){var e=this;o.a.post("/updatequestionorder",{neworder:t}).then(function(t){console.log(t)}).catch(function(t){e.errors.push(t)})},addreviewer:function(t){console.log("reviewerid:- "+t),this.survey_reviewer.push(t),this.search_reviewer="",this.debouncedupdateConfigdata()},removeeditor:function(t){this.survey_editor.splice(t,1),this.debouncedupdateConfigdata()},removereviewer:function(t){this.survey_reviewer.splice(t,1),this.debouncedupdateConfigdata()},addeditor:function(t){console.log("editorid:- "+t),this.survey_editor.push(t),this.search_editor="",this.debouncedupdateConfigdata()},addquestiongroup:function(t){var e=this;o.a.post("/addquestiongroup",{surveyid:this.id,groupname:"New Default",description:"",order:this.questiongroups.length}).then(function(t){e.lastquestiongroup=t.data._id,e.questiongroups.push(t.data),e.lastgroupsize++})},getquestionno:function(t){for(var e=0,a=0;a<this.builderarray.length&&!(a>=t);a++){var s=this.builderarray[a];"welcomepage"==s.type||"thankyoupage"==s.type||"sectionheading"==s.type||"pagebreak"==s.type||"descriptionbox"==s.type||""!=s.data.questiontext&&(e+=1)}return e},copylinktoclipboard:function(t){0==t?F()(this.getsurveylinkwlogin):1==t?F()(this.getsurveylinkwtlogin):2==t&&F()(this.getsurveyembadecode)},handleScroll:function(t){if(this.scrolled=window.scrollY,this.$refs.thisbuilder){var e={height:this.$refs.thisbuilder.clientHeight,scroll:window.scrollY};localStorage.setItem(this.id,j()(e))}}},updated:function(){},created:function(){var t=this,e=localStorage.getItem(this.id);e=JSON.parse(e),console.log("this_data- ",e),e&&(this.minheight=e.height),this.debouncedupdatecolorimage=_.debounce(this.createImagefromhex,500),this.debouncedupdateConfigdata=_.debounce(this.updateConfigdata,500),this.debouncedUpdateSurveytitle=_.debounce(this.UpdateSurveytitle,500),this.debouncedUpdateClearmessage=_.debounce(this.Clearmessage,3e3),this.debouncedUpdateSurveyproject=_.debounce(this.UpdateSurveyproject,500),o.a.post("/getcurrentuser",{username:Vs}).then(function(e){t.currentuser=e.data._id,Xs.is_roleassigned(e.data.roles,"1")||Xs.is_roleassigned(e.data.roles,"2")||Xs.is_roleassigned(e.data.roles,"3")||t.$router.push("/")}).catch(function(e){t.errors.push(e)}),""==this.id||void 0==this.id?this.$router.push("/"):(o.a.post("/getsemesters").then(function(e){t.semesters=e.data}).catch(function(e){t.errors.push(e)}),o.a.post("/getsurvey",{surveyid:this.id}).then(function(e){t.surveydata=e.data,t.surveytitle=e.data.surveyname,console.log(e.data),t.surveyprojects=e.data.category,t.surveysemester=e.data.semester}),o.a.get("/getusers").then(function(e){t.arr_reviewer=e.data,t.arr_editors=e.data}),o.a.post("/getsurveyconfig",{surveyid:this.id}).then(function(e){t.surveyconfig=e.data.data,t.survey_editor=t.surveyconfig.editor,t.survey_reviewer=t.surveyconfig.reviewer,""==t.surveyconfig.coverphoto&&(t.choosefromsplash(),t.changeconfig("cover updated"))}),o.a.post("/getallwelcomethankyoudata",{surveyid:this.id,datatype:"welcomepage"}).then(function(e){null==e.data||(t.welcomenotes=e.data)}),o.a.post("/getallwelcomethankyoudata",{surveyid:this.id,datatype:"thankyoupage"}).then(function(e){null==e.data||(t.thankyounotes=e.data)}),o.a.post("/getquestiongroups",{surveyid:this.id}).then(function(e){console.log("Questiongroup");var a=e.data;0==a.length?o.a.post("/addquestiongroup",{surveyid:t.id,groupname:"Default",description:"",order:0}).then(function(e){t.lastquestiongroup=e.data._id,t.questiongroups.push(e.data),t.lastgroupsize=0}):(t.lastquestiongroup=a[a.length-1]._id,o.a.post("/getquestionfromgroup",{groupid:t.lastquestiongroup}).then(function(e){t.lastgroupsize=e.data.length}),t.questiongroups=a)}),o.a.post("/updatequestiontable",{surveyid:this.id}).then(function(t){}).catch(function(e){t.errors.push(e)}),o.a.post("/getcontacts",{}).then(function(e){if(Array.isArray(e.data)){var a=e.data.sort(function(t,e){return t.listname.toLowerCase()==e.listname.toLowerCase()?0:t.listname.toLowerCase()>=e.listname.toLowerCase()?1:-1});t.contacts=a}}).catch(function(t){})),o.a.get("/getprojects").then(function(e){t.projects=e.data}).catch(function(e){t.errors.push(e)})},watch:{selectfromcolorpicker:function(t,e){},builderarray:function(t,e){return this.builderarray},successmessage:function(t,e){return this.debouncedUpdateClearmessage(),this.successmessage},search_reviewer:function(t,e){return this.search_reviewer},surveyconfig:function(t,e){return console.log("fjghkdfghkdfh"),this.surveyconfig},activetab:function(t,e){return console.log("newactivetab- ",t),console.log("oldactivetab- ",e),console.log("activetab- ",this.activetab),"5"!=t&&(this.tabsize="xs9"),"4"==this.activetab?this.$router.push("/responsereport/"+this.id):"5"==this.activetab||(this.previewsurvey="1"==t?this.id:""),this.activetab}},computed:{surveyfinalimageurl:function(){return void 0!=this.surveyconfig.coverphoto?this.surveyconfig.coverphoto.indexOf("unsplash.com")>=0?this.surveyconfig.coverphoto:window.publicfileurl+this.surveyconfig.coverphoto:""},getsurveylinkwlogin:function(){return window.siteurl+"swl/"+this.id},getsurveylinkwtlogin:function(){return window.siteurl+"swtl/"+this.id},getsurveyembadecode:function(){return'<iframe id="gpex-survey"src="'+window.siteurl+"swtl/"+this.id+'" width="100%" height="1000px" allowtransparency="true" style="frameborder:0; border: 0; margin: 0 auto; background: transparent; background-color: transparent;" ></iframe>'}},mounted:function(){window.addEventListener("scroll",this.handleScroll)},onChange:function(t){this.colors=t,console.log("this is colors",this.colors)}},ti={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-layout",{staticClass:"conatiner_builder",attrs:{wrap:""}},[s("v-flex",{class:""+t.tabsize},[[t.scrolled<80?s("v-tabs",{staticClass:"builder_navbar",attrs:{centered:"",color:"#8b784a","slider-color":"#8b784a"},model:{value:t.activetab,callback:function(e){t.activetab=e},expression:"activetab"}},[s("v-tab",{key:"0",staticClass:"toolbarsection"},["0"==t.activetab?s("img",{staticClass:"iconinsidebtn",attrs:{src:a("0x4X")}}):s("img",{staticClass:"iconinsidebtn",attrs:{src:a("IyQz")}}),t._v("\n            Build\n          ")]),t._v(" "),s("v-tab",{key:"1",staticClass:"toolbarsection"},["1"==t.activetab?s("img",{staticClass:"iconinsidebtn",attrs:{src:a("WhoW")}}):s("img",{staticClass:"iconinsidebtn",attrs:{src:a("gwg8")}}),t._v("\n            Preview\n          ")]),t._v(" "),s("v-tab",{key:"2",staticClass:"toolbarsection"},["2"==t.activetab?s("img",{staticClass:"iconinsidebtn",attrs:{src:a("0x4X")}}):s("img",{staticClass:"iconinsidebtn",attrs:{src:a("IyQz")}}),t._v("\n            Configure\n          ")]),t._v(" "),s("v-tab",{key:"3",staticClass:"toolbarsection"},["3"==t.activetab?s("img",{staticClass:"iconinsidebtn",attrs:{src:a("ZaMo")}}):s("img",{staticClass:"iconinsidebtn",attrs:{src:a("mO2Y")}}),t._v("\n            Share\n          ")]),t._v(" "),s("v-tab",{key:"4",staticClass:"toolbarsection"},["4"==t.activetab?s("img",{staticClass:"iconinsidebtn20",attrs:{src:a("lP2b")}}):s("img",{staticClass:"iconinsidebtn20",attrs:{src:a("ICBX")}}),t._v("\n            Report\n          ")]),t._v(" "),s("v-tab",{key:"5",staticClass:"toolbarsection alwayshide"})],1):s("v-tabs",{staticClass:"builder_navbar active",attrs:{centered:"",color:"#8b784a","slider-color":"#8b784a"},model:{value:t.activetab,callback:function(e){t.activetab=e},expression:"activetab"}},[s("v-tab",{key:"0",staticClass:"toolbarsection"},["0"==t.activetab?s("img",{staticClass:"iconinsidebtn",attrs:{src:a("0x4X")}}):s("img",{staticClass:"iconinsidebtn",attrs:{src:a("IyQz")}}),t._v("\n            Build\n          ")]),t._v(" "),s("v-tab",{key:"1",staticClass:"toolbarsection"},["1"==t.activetab?s("img",{staticClass:"iconinsidebtn",attrs:{src:a("WhoW")}}):s("img",{staticClass:"iconinsidebtn",attrs:{src:a("gwg8")}}),t._v("\n            Preview\n          ")]),t._v(" "),s("v-tab",{key:"2",staticClass:"toolbarsection"},["2"==t.activetab?s("img",{staticClass:"iconinsidebtn",attrs:{src:a("0x4X")}}):s("img",{staticClass:"iconinsidebtn",attrs:{src:a("IyQz")}}),t._v("\n            Configure\n          ")]),t._v(" "),s("v-tab",{key:"3",staticClass:"toolbarsection"},["3"==t.activetab?s("img",{staticClass:"iconinsidebtn",attrs:{src:a("ZaMo")}}):s("img",{staticClass:"iconinsidebtn",attrs:{src:a("mO2Y")}}),t._v("\n            Share\n          ")]),t._v(" "),s("v-tab",{key:"4",staticClass:"toolbarsection"},["4"==t.activetab?s("img",{staticClass:"iconinsidebtn20",attrs:{src:a("lP2b")}}):s("img",{staticClass:"iconinsidebtn20",attrs:{src:a("ICBX")}}),t._v("\n            Report\n          ")]),t._v(" "),s("v-tab",{key:"5",staticClass:"toolbarsection alwayshide"})],1)],t._v(" "),s("v-tabs-items",{model:{value:t.activetab,callback:function(e){t.activetab=e},expression:"activetab"}},[s("v-tab-item",{key:"0"},[s("div",{ref:"thisbuilder",style:"min-height:"+t.minheight+"px;"},[s("v-layout",[t.welcomenotes.length>0?s("v-flex",{attrs:{xs12:""}},t._l(t.welcomenotes,function(e,a){return s("div",{key:"welcomenotesid"+a,staticClass:"qustiongroup"},[s("welcomethankyoueditor",{attrs:{question:e,index:a,total:t.welcomenotes.length}})],1)}),0):t._e()],1),t._v(" "),s("v-layout",{staticClass:"buildercontainer",attrs:{row:"",id:"buildercontainer"}},[1==t.readyfordisplayeditor?s("v-flex",{attrs:{xs12:""}},t._l(t.questiongroups,function(e,i){return s("div",{key:"builderqid"+i,staticClass:"qustiongroup"},[s("div",{staticClass:"tobedeletesect"},[0!=i?s("v-btn",{staticClass:"btn-extrasmall top",attrs:{fab:""},on:{click:function(e){return t.deleteGroup(i)}}},[s("img",{staticClass:"deletequestion",attrs:{src:a("yJyA")}})]):t._e(),t._v(" "),s("questiongroup",{attrs:{gdata:e}})],1)])}),0):t._e()],1),t._v(" "),s("v-layout",[t.thankyounotes.length>0?s("v-flex",{attrs:{xs12:""}},t._l(t.thankyounotes,function(e,a){return s("div",{key:"thankyouid"+a,staticClass:"qustiongroup"},[s("welcomethankyoueditor",{attrs:{question:e,index:a,total:t.thankyounotes.length}})],1)}),0):t._e()],1)],1)]),t._v(" "),s("v-tab-item",{key:"1"},[s("div",[""!=t.previewsurvey?s("v-container",{staticClass:"previewcontainer",attrs:{id:"previewcontainer"}},[s("previewsurvey",{attrs:{printnow:t.printnow,surveyid:t.previewsurvey}})],1):t._e()],1)]),t._v(" "),s("v-tab-item",{key:"2"},[s("v-container",{staticClass:"configcontainer",attrs:{id:"previewcontainer"}},[s("div",{staticClass:"config_block"},[s("div",{staticClass:"config_section"},[s("v-layout",{attrs:{row:"",wrap:"",paddingbottom15:""}},[s("v-flex",{attrs:{xs3:"",fieldtitle:""}},[t._v("Survey Project")]),t._v(" "),s("v-flex",{attrs:{xs9:""}},[s("v-select",{attrs:{items:t.projects,"item-value":"_id","item-text":"projectname"},on:{change:t.changeproject},model:{value:t.surveyprojects,callback:function(e){t.surveyprojects=e},expression:"surveyprojects"}})],1)],1),t._v(" "),s("v-layout",{attrs:{row:"",wrap:"",paddingbottom15:""}},[s("v-flex",{attrs:{xs3:"",fieldtitle:""}},[t._v("Survey Semester")]),t._v(" "),s("v-flex",{attrs:{xs9:""}},[s("v-select",{attrs:{items:t.semesters,"item-value":"_id","item-text":"semesterName"},on:{change:t.changeproject},model:{value:t.surveysemester,callback:function(e){t.surveysemester=e},expression:"surveysemester"}})],1)],1),t._v(" "),s("v-layout",{attrs:{row:"",wrap:"",paddingbottom30:""}},[s("v-flex",{attrs:{xs3:"",fieldtitle:""}},[t._v("Survey title")]),t._v(" "),s("v-flex",{attrs:{xs9:""}},[s("v-text-field",{staticClass:"input_text base_inputtext",attrs:{label:""},on:{input:t.changetitle},model:{value:t.surveytitle,callback:function(e){t.surveytitle=e},expression:"surveytitle"}})],1)],1),t._v(" "),s("v-layout",{attrs:{row:"",wrap:"",paddingbottom30:""}},[s("v-flex",{attrs:{xs3:"",fieldtitle:""}},[t._v("Survey active")]),t._v(" "),s("v-flex",{attrs:{xs9:""}},[s("v-radio-group",{attrs:{row:""},on:{change:t.changeconfig},model:{value:t.surveyconfig.active,callback:function(e){t.$set(t.surveyconfig,"active",e)},expression:"surveyconfig.active"}},[s("v-radio",{attrs:{label:"Active",value:"1"}}),t._v(" "),s("v-radio",{attrs:{label:"Not active",value:"0"}})],1)],1)],1),t._v(" "),s("v-layout",{attrs:{row:"",wrap:"",paddingbottom30:""}},[s("v-flex",{attrs:{xs3:"",fieldtitle:""}},[t._v("Survey display")]),t._v(" "),s("v-flex",{attrs:{xs9:""}},[s("v-radio-group",{attrs:{row:""},on:{change:t.changeconfig},model:{value:t.surveyconfig.display,callback:function(e){t.$set(t.surveyconfig,"display",e)},expression:"surveyconfig.display"}},[s("v-radio",{attrs:{label:"One question at a time",value:"1"}}),t._v(" "),s("v-radio",{attrs:{label:"All question at once",value:"0"}})],1)],1)],1),t._v(" "),s("v-layout",{attrs:{row:"",wrap:"",paddingbottom30:""}},[s("v-flex",{attrs:{xs3:"",fieldtitle:""}},[t._v("Anonymous mode")]),t._v(" "),s("v-flex",{attrs:{xs9:""}},[s("v-radio-group",{attrs:{row:""},on:{change:t.changeconfig},model:{value:t.surveyconfig.anonymous,callback:function(e){t.$set(t.surveyconfig,"anonymous",e)},expression:"surveyconfig.anonymous"}},[s("v-radio",{attrs:{label:"Yes",value:"1"}}),t._v(" "),s("v-radio",{attrs:{label:"No",value:"0"}})],1)],1)],1),t._v(" "),s("v-layout",{attrs:{row:"",wrap:"",paddingbottom30:""}},[s("v-flex",{attrs:{xs3:"",fieldtitle:""}},[t._v("Kiosk mode")]),t._v(" "),s("v-flex",{attrs:{xs9:""}},[s("v-radio-group",{attrs:{row:""},on:{change:t.changeconfig},model:{value:t.surveyconfig.mode,callback:function(e){t.$set(t.surveyconfig,"mode",e)},expression:"surveyconfig.mode"}},[s("v-radio",{attrs:{label:"Yes",value:"1"}}),t._v(" "),s("v-radio",{attrs:{label:"No",value:"0"}})],1)],1)],1),t._v(" "),s("v-layout",{attrs:{row:"",wrap:"",paddingbottom30:""}},[s("v-flex",{attrs:{xs3:"",fieldtitle:""}},[t._v("Skip Next on Single Input")]),t._v(" "),s("v-flex",{attrs:{xs9:""}},[s("v-radio-group",{attrs:{row:""},on:{change:t.changeconfig},model:{value:t.surveyconfig.skipnext,callback:function(e){t.$set(t.surveyconfig,"skipnext",e)},expression:"surveyconfig.skipnext"}},[s("v-radio",{attrs:{label:"Yes",value:"1"}}),t._v(" "),s("v-radio",{attrs:{label:"No",value:"0"}})],1)],1)],1),t._v(" "),s("v-layout",{attrs:{row:"",wrap:"",paddingbottom30:""}},[s("v-flex",{attrs:{xs3:"",fieldtitle:""}},[t._v("Cover photo")]),t._v(" "),s("v-flex",{attrs:{xs9:""}},[s("div",{staticClass:"config_file"},[s("div",[s("div",{staticClass:"btn-chooseunsplash",on:{click:function(e){return t.choosefromsplash()}}},[s("v-icon",[t._v("broken_image")]),t._v("choose from unsplash\n                      ")],1)]),t._v(" "),s("span",{staticClass:"or_sect"},[t._v("or")]),t._v(" "),s("div",[s("form",{staticClass:"form_dropzone_inline",attrs:{enctype:"multipart/form-data"}},[s("div",{staticClass:"dropzone"},[s("div",[s("input",{ref:"file",staticClass:"file-upload-input",attrs:{type:"file"},on:{change:t.sendconfigSurveyFile}}),t._v(" "),s("a",{staticClass:"btn-chooseunsplash"},[s("v-icon",[t._v("cloud_upload")]),t._v("File upload")],1)])])])]),t._v(" "),s("span",{staticClass:"or_sect"},[t._v("or")]),t._v(" "),s("div",[s("div",[s("div",{staticClass:"btn-chooseunsplash",on:{click:function(e){return t.selectfrompicker()}}},[s("v-icon",[t._v("broken_image")]),t._v("Color Picker\n                      ")],1)]),t._v(" "),t.selectfromcolorpicker?s("MyColorPicker",{on:{changeColor:t.createImagefromhex,closeModel:function(e){t.selectfromcolorpicker=!1}}}):t._e()],1),t._v(" "),""!=t.surveyconfig.coverphoto?s("div",{staticClass:"survey-image"},[s("img",{attrs:{src:t.surveyfinalimageurl}})]):t._e()])])],1),t._v(" "),s("v-layout",{attrs:{row:"",wrap:"",paddingbottom30:""}},[s("v-flex",{attrs:{xs3:"",fieldtitle:""}},[t._v("Survey mail template")]),t._v(" "),s("v-flex",{attrs:{xs9:""}},[s("a",{staticClass:"exportbutton",on:{click:t.openmailtemplate}},[s("div",{},[t._v("Template")])])])],1),t._v(" "),s("v-layout",{attrs:{row:"",wrap:"",paddingbottom30:""}},[s("v-flex",{attrs:{xs3:"",fieldtitle:""}},[t._v("Multiple submission from same device")]),t._v(" "),s("v-flex",{attrs:{xs9:"",fieldtitle:""}},[s("v-radio-group",{attrs:{row:""},on:{change:t.changeconfig},model:{value:t.surveyconfig.multisubmission,callback:function(e){t.$set(t.surveyconfig,"multisubmission",e)},expression:"surveyconfig.multisubmission"}},[s("v-radio",{attrs:{disabled:"1"==t.surveyconfig.mode,label:"Yes",value:"1"}}),t._v(" "),s("v-radio",{attrs:{disabled:"1"==t.surveyconfig.mode,label:"No",value:"0"}})],1)],1)],1),t._v(" "),s("v-layout",{attrs:{row:"",wrap:"",paddingbottom30:""}},[s("v-flex",{attrs:{xs3:"",fieldtitle:""}},[t._v("Multiple submission from same User")]),t._v(" "),s("v-flex",{attrs:{xs9:"",fieldtitle:""}},[s("v-radio-group",{attrs:{row:""},on:{change:t.changeconfig},model:{value:t.surveyconfig.multisubmissionuser,callback:function(e){t.$set(t.surveyconfig,"multisubmissionuser",e)},expression:"surveyconfig.multisubmissionuser"}},[s("v-radio",{attrs:{disabled:"1"==t.surveyconfig.mode,label:"Yes",value:"1"}}),t._v(" "),s("v-radio",{attrs:{disabled:"1"==t.surveyconfig.mode,label:"No",value:"0"}})],1)],1)],1),t._v(" "),s("v-layout",{attrs:{row:"",wrap:"",paddingbottom30:""}},[s("v-flex",{attrs:{xs3:"",fieldtitle:""}},[t._v("ReCaptcha")]),t._v(" "),s("v-flex",{attrs:{xs9:""}},[s("v-radio-group",{attrs:{row:""},on:{change:t.changeconfig},model:{value:t.surveyconfig.recaptcha,callback:function(e){t.$set(t.surveyconfig,"recaptcha",e)},expression:"surveyconfig.recaptcha"}},[s("v-radio",{attrs:{label:"Yes",value:"1"}}),t._v(" "),s("v-radio",{attrs:{label:"No",value:"0"}})],1)],1)],1),t._v(" "),s("v-layout",{attrs:{row:"",wrap:"",paddingbottom30:""}},[s("v-flex",{attrs:{xs3:"",fieldtitle:""}},[t._v("Honypot Field")]),t._v(" "),s("v-flex",{attrs:{xs9:""}},[s("v-radio-group",{attrs:{row:""},on:{change:t.changeconfig},model:{value:t.surveyconfig.honeypot,callback:function(e){t.$set(t.surveyconfig,"honeypot",e)},expression:"surveyconfig.honeypot"}},[s("v-radio",{attrs:{label:"Yes",value:"1"}}),t._v(" "),s("v-radio",{attrs:{label:"No",value:"0"}})],1)],1)],1),t._v(" "),s("v-layout",{attrs:{row:"",wrap:"",paddingbottom30:""}},[s("v-flex",{attrs:{xs3:"",fieldtitle:""}},[t._v("Add editor")]),t._v(" "),s("v-flex",{attrs:{xs9:""}},[s("div",{staticClass:"userbblelist"},t._l(t.arr_editors,function(e){return s("div",{key:e._id,staticClass:"inlineblock"},[-1!=t.survey_editor.indexOf(e._id)?s("span",{staticClass:"bubbleuser"},[t._v(t._s(e.firstname)+" "+t._s(e.lastname)),s("v-icon",{on:{click:function(a){t.removeeditor(t.survey_editor.indexOf(e._id))}}},[t._v("maximize")])],1):t._e()])}),0),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.search_editor,expression:"search_editor"}],staticClass:"base_inputtext",attrs:{type:"text",placeholder:"Editor",list:"dataeditors"},domProps:{value:t.search_editor},on:{input:function(e){e.target.composing||(t.search_editor=e.target.value)}}}),t._v(" "),s("div",{staticClass:"hiddendatalist"},t._l(t.arr_editors,function(e){return s("div",{key:e._id},[e.firstname.toLowerCase().concat(e.lastname).includes(t.search_editor)&&""!=t.search_editor&&-1==t.survey_editor.indexOf(e._id)?s("span",{staticClass:"databble",on:{click:function(a){return t.addeditor(e._id)}}},[t._v("\n                          "+t._s(e.firstname)+" "+t._s(e.lastname)+"\n                        ")]):t._e()])}),0)])],1),t._v(" "),s("v-layout",{attrs:{row:"",wrap:"",paddingbottom30:""}},[s("v-flex",{attrs:{xs3:"",fieldtitle:""}},[t._v("Add reviewer")]),t._v(" "),s("v-flex",{attrs:{xs9:""}},[s("div",{staticClass:"userbblelist"},t._l(t.arr_reviewer,function(e){return s("div",{key:e._id,staticClass:"inlineblock"},[-1!=t.survey_reviewer.indexOf(e._id)?s("span",{staticClass:"bubbleuser"},[t._v(t._s(e.firstname)+" "+t._s(e.lastname)),s("v-icon",{on:{click:function(a){t.removereviewer(t.survey_reviewer.indexOf(e._id))}}},[t._v("maximize")])],1):t._e()])}),0),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.search_reviewer,expression:"search_reviewer"}],staticClass:"base_inputtext",attrs:{type:"text",placeholder:"Reviewer"},domProps:{value:t.search_reviewer},on:{input:function(e){e.target.composing||(t.search_reviewer=e.target.value)}}}),t._v(" "),s("div",{staticClass:"hiddendatalist"},t._l(t.arr_reviewer,function(e){return s("div",{key:e._id},[e.firstname.toLowerCase().concat(e.lastname).includes(t.search_reviewer)&&""!=t.search_reviewer&&-1==t.survey_reviewer.indexOf(e._id)?s("span",{staticClass:"databble",on:{click:function(a){return t.addreviewer(e._id)}}},[t._v("\n                          "+t._s(e.firstname)+" "+t._s(e.lastname)+"\n                          \n                        ")]):t._e()])}),0)])],1),t._v(" "),s("v-layout",{attrs:{row:"",wrap:"",paddingbottom30:""}},[s("v-flex",{attrs:{xs3:"",fieldtitle:""}},[t._v("Workflow")]),t._v(" "),s("v-flex",{attrs:{xs9:""}},[s("workflow",{attrs:{survey:t.id}})],1)],1)],1)])])],1),t._v(" "),s("v-tab-item",{key:"3"},[s("div",{staticClass:"sharesurveybox"},[s("div",{staticClass:"shareelement"},[t._v("Direct Link")]),t._v(" "),s("div",{staticClass:"sharedata"},[t._v(t._s(t.getsurveylinkwlogin))]),t._v(" "),s("div",{staticClass:"sharebutton"},[s("button",{staticClass:"copysurveylink",on:{click:function(e){return t.copylinktoclipboard(0)}}},[t._v("Copy link")])])]),t._v(" "),s("div",{staticClass:"sharesurveybox"},[s("div",{staticClass:"shareelement"},[t._v("Direct Link- without login")]),t._v(" "),s("div",{staticClass:"sharedata"},[t._v(t._s(t.getsurveylinkwtlogin))]),t._v(" "),s("div",{staticClass:"sharebutton"},[s("button",{staticClass:"copysurveylink",on:{click:function(e){return t.copylinktoclipboard(1)}}},[t._v("Copy link")])])]),t._v(" "),s("div",{staticClass:"sharesurveybox"},[s("div",{staticClass:"shareelement"},[t._v("Embed code")]),t._v(" "),s("div",{staticClass:"sharedata"},[t._v(t._s(t.getsurveyembadecode))]),t._v(" "),s("div",{staticClass:"sharebutton"},[s("button",{staticClass:"copysurveylink",on:{click:function(e){return t.copylinktoclipboard(2)}}},[t._v("Copy")])])]),t._v(" "),s("div",{staticClass:"sharesurveybox"},[s("div",{staticClass:"shareelement"},[t._v("Share to Contact")]),t._v(" "),s("div",{staticClass:"sharedata"},[s("v-flex",{attrs:{xs12:"","d-flex":""}},[s("model-list-select",{staticClass:"sharedata",attrs:{list:t.contacts,"option-value":"_id","option-text":"listname",placeholder:"Select Contact list"},model:{value:t.shareto,callback:function(e){t.shareto=e},expression:"shareto"}})],1)],1),t._v(" "),s("div",{staticClass:"sharebutton"},[s("v-checkbox",{attrs:{label:"Send Email"},model:{value:t.sharewithmail,callback:function(e){t.sharewithmail=e},expression:"sharewithmail"}}),t._v(" "),s("v-checkbox",{attrs:{label:"Send to Dashboard"},model:{value:t.sharetoone,callback:function(e){t.sharetoone=e},expression:"sharetoone"}}),t._v(" "),s("button",{staticClass:"copysurveylink",on:{click:t.sharetocontactlist}},[t._v("Share")])],1)]),t._v(" "),null!=t.surveydata?s("div",{staticClass:"sharesurveybox"},[s("sharedsurveylist",{attrs:{survey:t.surveydata}})],1):t._e(),t._v(" "),s("div",{staticClass:"sharesurveybox"},[s("v-container",[3==t.activetab?s("v-layout",{attrs:{row:"",wrap:"",paddingbottom15:""}},[s("v-flex",{attrs:{xs3:"",fieldtitle:""}},[t._v("Reminder")]),t._v(" "),s("v-flex",{attrs:{xs9:""}},[s("surveyreminder",{attrs:{survey:t.id}})],1)],1):t._e()],1)],1)]),t._v(" "),s("v-tab-item",{key:"4",staticClass:"alwayshide"}),t._v(" "),s("v-tab-item",{key:"5"},[s("v-container",{staticClass:"surveymailtemplate",attrs:{id:"surveymailtemplate"}},[t.surveydata?s("surveymailtemplate",{attrs:{surveyid:t.id,surveydata:t.surveydata}}):t._e()],1)],1)],1)],2),t._v(" "),"xs12"!=t.tabsize?s("v-flex",{attrs:{xs3:""}},[s("v-flex",{staticClass:"toolbarsection customscroll stickytop50"},[s("v-container",[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{staticClass:"toolhead",attrs:{xs12:""}},[t._v(" Choice")]),t._v(" "),s("v-flex",{staticClass:"toolsection",attrs:{xs6:""}},[s("a",{staticClass:"toolbtn",on:{click:function(e){return t.addquestion("multic")}}},[s("div",{staticClass:"roundgreen"},[s("img",{staticClass:"iconinsidebtnsmall",attrs:{src:a("gyKi")}})]),t._v(" "),s("div",{staticClass:"greenlabel"},[t._v("Multiple Choice")])])]),t._v(" "),s("v-flex",{attrs:{xs6:""}},[s("a",{staticClass:"toolbtn",on:{click:function(e){return t.addquestion("singlec")}}},[s("div",{staticClass:"roundgreen"},[s("img",{staticClass:"iconinsidebtnsmall",attrs:{src:a("1uPq")}})]),t._v(" "),s("div",{staticClass:"greenlabel"},[t._v("\n                Single Choice\n                ")])])]),t._v(" "),s("v-flex",{staticClass:"toolsection",attrs:{xs6:""}},[s("a",{staticClass:"toolbtn",on:{click:function(e){return t.addquestion("ratescal")}}},[s("div",{staticClass:"roundgreen"},[s("img",{staticClass:"iconinsidebtnsmall",attrs:{src:a("6/Qa")}})]),t._v(" "),s("div",{staticClass:"greenlabel"},[t._v("\n                 Rating Scale\n                ")])])]),t._v(" "),s("v-flex",{attrs:{xs6:""}},[s("a",{staticClass:"toolbtn",on:{click:function(e){return t.addquestion("ratestars")}}},[s("div",{staticClass:"roundgreen"},[s("img",{staticClass:"iconinsidebtnsmall",attrs:{src:a("QwZH")}})]),t._v(" "),s("div",{staticClass:"greenlabel"},[t._v("\n                Rating Stars\n                ")])])]),t._v(" "),s("v-flex",{staticClass:"toolsection",attrs:{xs6:""}},[s("a",{staticClass:"toolbtn",on:{click:function(e){return t.addquestion("nps")}}},[s("div",{staticClass:"roundgreen"},[s("img",{staticClass:"iconinsidebtnsmall",attrs:{src:a("6/Qa")}})]),t._v(" "),s("div",{staticClass:"greenlabel"},[t._v("\n                 Net Promoter Score\n                ")])])]),t._v(" "),s("v-flex",{staticClass:"toolsection",attrs:{xs6:""}},[s("a",{staticClass:"toolbtn",on:{click:function(e){return t.addquestion("qtypeslider")}}},[s("div",{staticClass:"roundgreen"},[s("img",{staticClass:"iconinsidebtnsmall",attrs:{src:a("UcUk")}})]),t._v(" "),s("div",{staticClass:"greenlabel"},[t._v("\n                Slider\n                ")])])]),t._v(" "),s("v-flex",{staticClass:"toolsection",attrs:{xs6:""}},[s("a",{staticClass:"toolbtn",on:{click:function(e){return t.addquestion("qtypedatetime")}}},[s("div",{staticClass:"roundgreen"},[s("img",{staticClass:"iconinsidebtnsmall",attrs:{src:a("dbKl")}})]),t._v(" "),s("div",{staticClass:"greenlabel"},[t._v("\n                Date and Time\n              ")])])]),t._v(" "),s("v-flex",{staticClass:"toolsection",attrs:{xs6:""}},[s("a",{staticClass:"toolbtn",on:{click:function(e){return t.addquestion("dropdown")}}},[s("div",{staticClass:"roundgreen"},[s("img",{staticClass:"iconinsidebtnsmall",attrs:{src:a("Nfnq")}})]),t._v(" "),s("div",{staticClass:"greenlabel"},[t._v("\n                Dropdown\n                ")])])]),t._v(" "),s("v-flex",{staticClass:"toolsection",attrs:{xs6:""}},[s("a",{staticClass:"toolbtn",on:{click:function(e){return t.addquestion("matrixquestion")}}},[s("div",{staticClass:"roundgreen"},[s("v-icon",[t._v("grid_on")])],1),t._v(" "),s("div",{staticClass:"greenlabel"},[t._v("\n               Matrix Question\n                ")])])]),t._v(" "),s("v-flex",{staticClass:"toolsection",attrs:{xs6:""}},[s("a",{staticClass:"toolbtn",on:{click:function(e){return t.addquestion("ranking")}}},[s("div",{staticClass:"roundgreen"},[s("img",{staticClass:"iconinsidebtnsmall",attrs:{src:a("TztM")}})]),t._v(" "),s("div",{staticClass:"greenlabel"},[t._v("\n                Ranking\n                ")])])])],1)],1),t._v(" "),s("v-container",[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{staticClass:"toolhead",attrs:{xs12:""}},[t._v(" Text")]),t._v(" "),s("v-flex",{staticClass:"toolsection",attrs:{xs6:""}},[s("a",{staticClass:"toolbtn",on:{click:function(e){return t.addquestion("singletext")}}},[s("div",{staticClass:"roundgreen"},[s("img",{staticClass:"iconinsidebtnsmall",attrs:{src:a("0x4X")}})]),t._v(" "),s("div",{staticClass:"greenlabel"},[t._v("\n                Single Text Box\n                ")])])]),t._v(" "),s("v-flex",{attrs:{xs6:""}},[s("a",{staticClass:"toolbtn",on:{click:function(e){return t.addquestion("multipletext")}}},[s("div",{staticClass:"roundgreen"},[s("img",{staticClass:"iconinsidebtnsmall",attrs:{src:a("0x4X")}})]),t._v(" "),s("div",{staticClass:"greenlabel"},[t._v("\n                  Multiple Text Box\n                ")])])]),t._v(" "),s("v-flex",{staticClass:"toolsection",attrs:{xs6:""}},[s("a",{staticClass:"toolbtn",on:{click:function(e){return t.addquestion("commenttext")}}},[s("div",{staticClass:"roundgreen"},[s("img",{staticClass:"iconinsidebtnsmall",attrs:{src:a("reA6")}})]),t._v(" "),s("div",{staticClass:"greenlabel"},[t._v("\n                Comments Box\n                ")])])]),t._v(" "),s("v-flex",{attrs:{xs6:""}},[s("a",{staticClass:"toolbtn",on:{click:function(e){return t.addquestion("numbertext")}}},[s("div",{staticClass:"roundgreen"},[s("img",{staticClass:"iconinsidebtnsmall",attrs:{src:a("PgvK")}})]),t._v(" "),s("div",{staticClass:"greenlabel"},[t._v("\n                Numbers\n                ")])])]),t._v(" "),s("v-flex",{attrs:{xs6:""}},[s("a",{staticClass:"toolbtn",on:{click:function(e){return t.addquestion("customform")}}},[s("div",{staticClass:"roundgreen"},[s("img",{staticClass:"iconinsidebtnsmall",attrs:{src:a("RY2R")}})]),t._v(" "),s("div",{staticClass:"greenlabel"},[t._v("\n                Custom form\n                ")])])]),t._v(" "),s("v-flex",{attrs:{xs6:""}},[s("a",{staticClass:"toolbtn",on:{click:function(e){return t.addquestion("emailtext")}}},[s("div",{staticClass:"roundgreen"},[s("img",{staticClass:"iconinsidebtnsmall",attrs:{src:a("B3X7")}})]),t._v(" "),s("div",{staticClass:"greenlabel"},[t._v("\n                Email\n                ")])])])],1)],1),t._v(" "),s("v-container",[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{staticClass:"toolhead",attrs:{xs12:""}},[t._v(" Sections")]),t._v(" "),s("v-flex",{staticClass:"toolsection",attrs:{xs6:""}},[s("a",{staticClass:"toolbtn",on:{click:function(e){return t.addquestion("fileupload")}}},[s("div",{staticClass:"roundgreen"},[s("img",{staticClass:"iconinsidebtnsmall",attrs:{src:a("cvvC")}})]),t._v(" "),s("div",{staticClass:"greenlabel"},[t._v("\n                File Upload\n                ")])])]),t._v(" "),s("v-flex",{staticClass:"toolsection",attrs:{xs6:""}},[s("a",{staticClass:"toolbtn",on:{click:function(e){return t.addquestion("sectionheading")}}},[s("div",{staticClass:"roundgreen"},[s("img",{staticClass:"iconinsidebtnsmall",attrs:{src:a("mquX")}})]),t._v(" "),s("div",{staticClass:"greenlabel"},[t._v("\n                Section Heading\n                ")])])]),t._v(" "),s("v-flex",{staticClass:"toolsection",attrs:{xs6:""}},[s("a",{staticClass:"toolbtn",on:{click:function(e){return t.addquestion("descriptionbox")}}},[s("div",{staticClass:"roundgreen"},[s("img",{staticClass:"iconinsidebtnsmall",attrs:{src:a("RY2R")}})]),t._v(" "),s("div",{staticClass:"greenlabel"},[t._v("\n                Description\n                ")])])]),t._v(" "),s("v-flex",{staticClass:"toolsection",attrs:{xs6:""}},[s("a",{staticClass:"toolbtn",on:{click:function(e){return t.addquestion("welcomepage")}}},[s("div",{staticClass:"roundgreen"},[s("img",{staticClass:"iconinsidebtnsmall",attrs:{src:a("RY2R")}})]),t._v(" "),s("div",{staticClass:"greenlabel"},[t._v("\n                Welcome Page\n                ")])])]),t._v(" "),s("v-flex",{staticClass:"toolsection",attrs:{xs6:""}},[s("a",{staticClass:"toolbtn",on:{click:function(e){return t.addquestion("thankyoupage")}}},[s("div",{staticClass:"roundgreen"},[s("img",{staticClass:"iconinsidebtnsmall",attrs:{src:a("jUSY")}})]),t._v(" "),s("div",{staticClass:"greenlabel"},[t._v("\n                Thankyou Page\n                ")])])]),t._v(" "),s("v-flex",{staticClass:"toolsection",attrs:{xs6:""}},[s("a",{staticClass:"toolbtn",on:{click:function(e){return t.addquestiongroup(t.id)}}},[s("div",{staticClass:"roundgreen"},[s("img",{staticClass:"iconinsidebtnsmall",attrs:{src:a("RY2R")}})]),t._v(" "),s("div",{staticClass:"greenlabel"},[t._v("\n                Question group\n                ")])])]),t._v(" "),s("v-flex",{staticClass:"toolsection",attrs:{xs6:""}},[s("a",{staticClass:"toolbtn",on:{click:t.openmodelgallery}},[s("div",{staticClass:"roundgreen"},[s("img",{staticClass:"iconinsidebtnsmall",attrs:{src:a("RY2R")}})]),t._v(" "),s("div",{staticClass:"greenlabel"},[t._v("\n                Gallery\n                ")])])]),t._v(" "),s("v-flex",{staticClass:"toolsection",attrs:{xs6:""}},[s("a",{staticClass:"toolbtn",on:{click:function(e){return t.addquestion("contactInfo")}}},[s("div",{staticClass:"roundgreen"},[s("img",{staticClass:"iconinsidebtnsmall",attrs:{src:a("RY2R")}})]),t._v(" "),s("div",{staticClass:"greenlabel"},[t._v("\n                Contact info\n                ")])])]),t._v(" "),s("v-flex",{staticClass:"toolsection",attrs:{xs6:""}},[s("a",{staticClass:"toolbtn",on:{click:function(e){return t.addquestion("dataTable")}}},[s("div",{staticClass:"roundgreen"},[s("img",{staticClass:"iconinsidebtnsmall",attrs:{src:a("RY2R")}})]),t._v(" "),s("div",{staticClass:"greenlabel"},[t._v("\n                Data Table\n                ")])])])],1),t._v(" "),s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{staticClass:"text-center"},[s("button",{staticClass:"btn-custom1",on:{click:t.saveSurvey}},[t._v("Save Survey")])])],1)],1)],1)],1):t._e(),t._v(" "),1==t.model_gallery?s("gallery",{attrs:{dialogstate:t.model_gallery},on:{removeModel:function(e){t.model_gallery=e}}}):t._e(),t._v(" "),""!=t.successmessage?s("div",{staticClass:"messagebox"},[t._v(t._s(t.successmessage))]):t._e()],1)},staticRenderFns:[]};var ei=a("VU/8")(Ks,ti,!1,function(t){a("HJ+G")},"data-v-1af67fff",null).exports,ai=a("UlOv"),si={extends:ai.b,props:{chartdata:{type:Object,default:null},options:{type:Object,default:null}},mounted:function(){this.renderChart(this.chartdata,this.options)}},ii={props:["question","contactuserid"],components:{horizontalchart:si},data:function(){return{questiondata:this.question,allanswers:[],defaultheight:"200",datafortable:[],chartcolors:["#A7226E","#EC2049","#F26B38","#F7DB4F","#2F9599","#E1F5C4","#EDE574","# F9D423","#FC913A","#FF4E50"],chartdata:{labels:[],datasets:[{label:"",data:[],backgroundColor:[],borderColor:[],borderWidth:1}]},options:{responsive:!0,tooltips:{enabled:!1},hover:{animationDuration:0},animation:{onComplete:function(){var t=this.chart,e=t.ctx;e.textAlign="center",e.textBaseline="bottom",this.data.datasets.forEach(function(a,s){t.controller.getDatasetMeta(s).data.forEach(function(t,s){var i=a.data[s]+"%";e.fillText(i,t._model.x+20,t._model.y+7)})})}},maintainAspectRatio:!1,legend:{display:!1},scales:{xAxes:[{ticks:{beginAtZero:!0,callback:function(t){return t},suggestedMin:2,suggestedMax:100}}]}},showchart:0,colchart:{chart:{type:"column",inverted:!0,backgroundColor:"#F5F5F5"},title:{text:""},subtitle:{text:""},colors:["#A7226E","#EC2049","#F26B38","#F7DB4F","#2F9599","#E1F5C4","#EDE574","#  F9D423","#FC913A","#FF4E50"],xAxis:{type:"category"},yAxis:{title:{text:"(%)"},min:0,max:100},legend:{enabled:!1},plotOptions:{series:{borderWidth:0,dataLabels:{enabled:!0,format:"{point.y:.1f}%"}}},tooltip:{headerFormat:"",pointFormat:'<span style="font-size:14px">{point.name}</span><br><span style="color:{point.color}">Weight</span>: <b>{point.y:.2f}%</b><br/>'},series:[{name:"",colorByPoint:!0,data:[{name:"Chrome",y:62.74},{name:"Firefox",y:10.57},{name:"Internet Explorer",y:7.23},{name:"Safari",y:5.58},{name:"Edge",y:4.02},{name:"Opera",y:1.92},{name:"Other",y:7.62}]}]}}},methods:{getfilterdata:function(){var t=this;this.showchart=0,axios.post("/allanswers",{questionid:this.question._id}).then(function(e){if(null==e.data);else{var a=[],s=t.question.choice;t.allanswers=e.data,e.data.forEach(function(e){if(!(t.contactuserid.length>0&&t.contactuserid.indexOf(e.userid)<0)){var s=[];e.answer&&(s=JSON.parse(e.answer)),""!=e.otheranswer&&(s="other"),a=a.concat(s)}});var i=[],n=0,o=[],r=[],c=[];if(s.forEach(function(e){if(""!=e.choicetext){o.push(e.choicetext),r.push(t.chartcolors[r.length%t.chartcolors.length]);var s=a.filter(function(t){return t==e._id});n+=s.length,i.push({name:e.choicetext,y:s.length})}}),t.questiondata.other){var d=a.filter(function(t){return"other"==t});n+=d.length,i[i.length]={name:"Other",y:d.length},o.push("Other"),r.push(t.chartcolors[r.length%t.chartcolors.length])}var l=[];i.forEach(function(t,e){var a=100*t.y/n;a||(a=0),a=a.toFixed(2),l.push({percentage:a,selected:t.y,total:n,name:t.name}),i[e].y=a,c.push(a)}),t.defaultheight=50*o.length,t.chartdata.labels=o,t.chartdata.datasets=[{label:"",data:c,backgroundColor:r,borderColor:r,borderWidth:1}],t.datafortable=l,t.colchart.series=[{name:"",colorByPoint:!0,data:i}],t.showchart=1}})}},created:function(){this.getfilterdata()},watch:{contactuserid:function(t,e){console.log("watch report",t),this.getfilterdata()}}},ni={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chart-container"},[1==t.showchart?a("horizontalchart",{attrs:{height:t.defaultheight,chartdata:t.chartdata,options:t.options}}):t._e(),t._v(" "),a("v-layout",{staticStyle:{"page-break-before":"always"}},[a("v-container",[a("div",{staticClass:"datafortable"},[a("table",{staticClass:"table charttable"},[a("tr",[a("td",[t._v("Slno")]),t._v(" "),a("td",[t._v("Selected")]),t._v(" "),a("td",[t._v("Percentage")]),t._v(" "),a("td",[t._v("Total")])]),t._v(" "),t._l(t.datafortable,function(e,s){return[a("tr",{key:"aaaa"+s},[a("td",[t._v(t._s(e.name))]),t._v(" "),a("td",[t._v(t._s(e.selected))]),t._v(" "),a("td",[t._v(t._s(e.percentage)+"%")]),t._v(" "),a("td",[t._v(t._s(e.total))])])]})],2)])])],1),t._v(" "),a("br")],1)},staticRenderFns:[]},oi=a("VU/8")(ii,ni,!1,null,null,null).exports,ri={props:["question","contactuserid"],components:{horizontalchart:si},data:function(){var t;return{questiondata:this.question,chartcolors:["#A7226E","#EC2049","#F26B38","#F7DB4F","#2F9599","#E1F5C4","#EDE574","# F9D423","#FC913A","#FF4E50"],allanswers:[],ratingstar:[],defaultheight:"200",chartdata:{labels:[],datasets:[{label:"",data:[],backgroundColor:[],borderColor:[],borderWidth:1}]},options:(t={responsive:!0,tooltips:{enabled:!1},hover:{animationDuration:0},animation:{onComplete:function(){var t=this.chart,e=t.ctx;e.textAlign="center",e.textBaseline="bottom",this.data.datasets.forEach(function(a,s){t.controller.getDatasetMeta(s).data.forEach(function(t,s){var i=a.data[s]+"%";e.fillText(i,t._model.x+20,t._model.y+7)})})}},maintainAspectRatio:!1,legend:{display:!1}},x()(t,"tooltips",{enabled:!1}),x()(t,"scales",{xAxes:[{ticks:{beginAtZero:!0,callback:function(t){return t+"%"},suggestedMin:2,suggestedMax:100}}]}),t),showchart:0,colchart:{chart:{type:"column",inverted:!0,backgroundColor:"#F5F5F5"},title:{text:""},subtitle:{text:""},colors:["#A7226E","#EC2049","#F26B38","#F7DB4F","#2F9599","#E1F5C4","#EDE574","#  F9D423","#FC913A","#FF4E50"],xAxis:{type:"category"},yAxis:{title:{text:"Progress Rate (%)"},min:0,max:100},legend:{enabled:!1},plotOptions:{series:{borderWidth:0,dataLabels:{enabled:!0,format:"{point.y:.1f}%"}}},tooltip:{headerFormat:"",pointFormat:'<span style="font-size:14px">{point.name}</span><br><span style="color:{point.color}">Weight</span>: <b>{point.y:.2f}%</b><br/>'},series:[{name:"",colorByPoint:!0,data:[{name:"Chrome",y:62.74},{name:"Firefox",y:10.57},{name:"Internet Explorer",y:7.23},{name:"Safari",y:5.58},{name:"Edge",y:4.02},{name:"Opera",y:1.92},{name:"Other",y:7.62}]}]}}},methods:{getfilterdata:function(){var t=this;this.showchart=0,axios.post("/allanswers",{questionid:this.question._id}).then(function(e){if(null==e.data);else{var a=[],s=t.question.maxrate;t.allanswers=e.data,e.data.forEach(function(e){if(!(t.contactuserid.length>0&&t.contactuserid.indexOf(e.userid)<0)){var s=JSON.parse(e.answer);a=a.concat(s);s=JSON.parse(e.answer);a=a.concat(s)}});for(var i=[],n=[],o=0,r=[],c=[],d=[],l=function(e){r.push(e),c.push(t.chartcolors[c.length%t.chartcolors.length]),p=0,a.forEach(function(t){e==t&&p++}),o+=p,i.push({name:e,y:p})},u=1;u<=s;u++){var p;l(u)}i.forEach(function(t,e){var a=100*t.y/o;a||(a=0),a=a.toFixed(2),n.push({percentage:a,selected:t.y,total:o,name:t.name}),i[e].y=a,d.push(a)}),t.defaultheight=50*r.length,t.chartdata.labels=r,t.chartdata.datasets=[{label:"",data:d,backgroundColor:c,borderColor:c,borderWidth:1}],t.ratingstar=n,t.colchart.series=[{name:"",colorByPoint:!0,data:i}],t.showchart=1}})}},created:function(){this.getfilterdata()},watch:{contactuserid:function(t,e){this.getfilterdata()}}},ci={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chart-container"},[1==t.showchart?a("horizontalchart",{attrs:{height:t.defaultheight,chartdata:t.chartdata,options:t.options}}):t._e(),t._v(" "),a("v-layout",{staticStyle:{"page-break-before":"always"}},[a("v-container",[a("div",{staticClass:"ratingstar"},[a("table",{staticClass:"table charttable"},[a("tr",[a("td",[t._v("Slno")]),t._v(" "),a("td",[t._v("Selected")]),t._v(" "),a("td",[t._v("Percentage")]),t._v(" "),a("td",[t._v("Total")])]),t._v(" "),t._l(t.ratingstar,function(e,s){return[a("tr",{key:"aaaa"+s},[a("td",[t._v(t._s(e.name))]),t._v(" "),a("td",[t._v(t._s(e.selected))]),t._v(" "),a("td",[t._v(t._s(e.percentage)+"%")]),t._v(" "),a("td",[t._v(t._s(e.total))])])]})],2)])])],1),t._v(" "),a("br")],1)},staticRenderFns:[]},di=a("VU/8")(ri,ci,!1,null,null,null).exports,li={props:["question","contactuserid"],components:{horizontalchart:si},data:function(){return{questiondata:this.question,allanswers:[],defaultheight:"200",datafortable:[],chartcolors:["#A7226E","#EC2049","#F26B38","#F7DB4F","#2F9599","#E1F5C4","#EDE574","# F9D423","#FC913A","#FF4E50"],chartdata:{labels:[],datasets:[{label:"",data:[],backgroundColor:[],borderColor:[],borderWidth:1}]},options:{responsive:!0,tooltips:{enabled:!1},hover:{animationDuration:0},animation:{onComplete:function(){var t=this.chart,e=t.ctx;e.textAlign="center",e.textBaseline="bottom",this.data.datasets.forEach(function(a,s){t.controller.getDatasetMeta(s).data.forEach(function(t,s){var i=a.data[s]+"%";e.fillText(i,t._model.x+20,t._model.y+7)})})}},maintainAspectRatio:!1,legend:{display:!1},scales:{xAxes:[{ticks:{beginAtZero:!0,callback:function(t){return t+"%"},suggestedMin:2,suggestedMax:100}}]}},showchart:0,colchart:{chart:{type:"column",inverted:!0,backgroundColor:"#F5F5F5"},title:{text:""},subtitle:{text:""},colors:["#A7226E","#EC2049","#F26B38","#F7DB4F","#2F9599","#E1F5C4","#EDE574","#  F9D423","#FC913A","#FF4E50"],xAxis:{type:"category"},yAxis:{title:{text:"(%)"},min:0,max:100},legend:{enabled:!1},plotOptions:{series:{borderWidth:0,dataLabels:{enabled:!0,format:"{point.y:.1f}%"}}},tooltip:{headerFormat:"",pointFormat:'<span style="font-size:14px">{point.name}</span><br><span style="color:{point.color}">Weight</span>: <b>{point.y:.2f}%</b><br/>'},series:[{name:"",colorByPoint:!0,data:[{name:"Chrome",y:62.74},{name:"Firefox",y:10.57},{name:"Internet Explorer",y:7.23},{name:"Safari",y:5.58},{name:"Edge",y:4.02},{name:"Opera",y:1.92},{name:"Other",y:7.62}]}]}}},methods:{getfilterdata:function(){var t=this;this.showchart=0,axios.post("/allanswers",{questionid:this.question._id}).then(function(e){if(null==e.data);else{var a=[],s=t.question.length;e.data.forEach(function(e){if(!(t.contactuserid.length>0&&t.contactuserid.indexOf(e.userid)<0)){var s=JSON.parse(e.answer);a=a.concat(s);s=JSON.parse(e.answer);a=a.concat(s)}});for(var i=[],n=[],o=0,r=[],c=[],d=[],l=function(e){r.push(e),c.push(t.chartcolors[c.length%t.chartcolors.length]),p=0,a.forEach(function(t){e==t&&p++}),o+=p,i.push({name:e,y:p})},u=1;u<=s;u++){var p;l(u)}i.forEach(function(t,e){var a=100*t.y/o;a||(a=0),a=a.toFixed(2),n.push({percentage:a,selected:t.y,total:o,name:t.name}),i[e].y=a,d.push(a)}),t.defaultheight=50*r.length,t.chartdata.labels=r,t.chartdata.datasets=[{label:"",data:d,backgroundColor:c,borderColor:c,borderWidth:1}],t.datafortable=n,t.colchart.series=[{name:"",colorByPoint:!0,data:i}],t.showchart=1}})}},created:function(){this.getfilterdata()},watch:{contactuserid:function(t,e){this.getfilterdata()}}},ui={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chart-container"},[1==t.showchart?a("horizontalchart",{attrs:{height:t.defaultheight,chartdata:t.chartdata,options:t.options}}):t._e(),t._v(" "),a("v-layout",{staticStyle:{"page-break-before":"always"}},[a("v-container",[a("div",{staticClass:"datafortable"},[a("table",{staticClass:"table charttable"},[a("tr",[a("td",[t._v("Slno")]),t._v(" "),a("td",[t._v("Selected")]),t._v(" "),a("td",[t._v("Percentage")]),t._v(" "),a("td",[t._v("Total")])]),t._v(" "),t._l(t.datafortable,function(e,s){return[a("tr",{key:"aaaa"+s},[a("td",[t._v(t._s(e.name))]),t._v(" "),a("td",[t._v(t._s(e.selected))]),t._v(" "),a("td",[t._v(t._s(e.percentage)+"%")]),t._v(" "),a("td",[t._v(t._s(e.total))])])]})],2)])])],1),t._v(" "),a("br")],1)},staticRenderFns:[]},pi=a("VU/8")(li,ui,!1,null,null,null).exports,vi=a("Gu7T"),hi=a.n(vi),mi={props:["question","contactuserid"],components:{horizontalchart:si},data:function(){return{questiondata:this.question,allanswers:[],defaultheight:"200",totalnumbertable:[],chartcolors:["#A7226E","#EC2049","#F26B38","#F7DB4F","#2F9599","#E1F5C4","#EDE574","# F9D423","#FC913A","#FF4E50"],chartdata:{labels:[],datasets:[{label:"",data:[],backgroundColor:[],borderColor:[],borderWidth:1}]},options:{responsive:!0,tooltips:{enabled:!1},hover:{animationDuration:0},animation:{onComplete:function(){var t=this.chart,e=t.ctx;e.textAlign="center",e.textBaseline="bottom",this.data.datasets.forEach(function(a,s){t.controller.getDatasetMeta(s).data.forEach(function(t,s){var i=a.data[s]+"%";e.fillText(i,t._model.x+20,t._model.y+7)})})}},maintainAspectRatio:!1,legend:{display:!1},scales:{xAxes:[{ticks:{beginAtZero:!0,callback:function(t){return""+t},suggestedMin:2,suggestedMax:100}}]}},showchart:0,colchart:{chart:{type:"column",inverted:!0,backgroundColor:"#F5F5F5"},title:{text:""},subtitle:{text:""},colors:["#A7226E","#EC2049","#F26B38","#F7DB4F","#2F9599","#E1F5C4","#EDE574","#  F9D423","#FC913A","#FF4E50"],xAxis:{type:"category"},yAxis:{title:{text:"(%)"},min:0,max:100},legend:{enabled:!1},plotOptions:{series:{borderWidth:0,dataLabels:{enabled:!0,format:"{point.y:.1f}%"}}},tooltip:{headerFormat:"",pointFormat:'<span style="font-size:14px">{point.name}</span><br><span style="color:{point.color}">Weight</span>: <b>{point.y:.2f}%</b><br/>'},series:[{name:"",colorByPoint:!0,data:[{name:"Chrome",y:62.74},{name:"Firefox",y:10.57},{name:"Internet Explorer",y:7.23},{name:"Safari",y:5.58},{name:"Edge",y:4.02},{name:"Opera",y:1.92},{name:"Other",y:7.62}]}]}}},methods:{getfilterdata:function(){var t=this;this.showchart=0,axios.post("/allanswers",{questionid:this.question._id}).then(function(e){if(null==e.data);else{var a=[],s=(parseInt(t.question.maskformat),1);e.data.forEach(function(e){if(!(t.contactuserid.length>0&&t.contactuserid.indexOf(e.userid)<0)){var s=JSON.parse(e.answer);a=a.concat(s);s=JSON.parse(e.answer);a=a.concat(s)}});var i=Math.max.apply(Math,hi()(a));s<i/(10*(i.toString().length-1))&&(s=i/(10*(i.toString().length-1)),s=Math.ceil(s));for(var n=[],o=0,r=0,c=[],d=[],l=[],u=0;r<i;u+=s){var p=r+1;r=p+s-1;var v=0;a.forEach(function(t){p<=parseFloat(t)&&parseFloat(t)<=r&&v++}),o+=v,n.push({name:p+" - "+r,y:v}),c.push(p+" - "+r),d.push(t.chartcolors[d.length%t.chartcolors.length])}t.defaultheight=50*c.length;var h=[];n.forEach(function(t,e){var a=100*t.y/o;a||(a=0),a=a.toFixed(2),h.push({percentage:a,selected:t.y,total:o,name:t.name}),n[e].y=a,l.push(a)}),t.chartdata.labels=c,t.chartdata.datasets=[{label:"",data:l,backgroundColor:d,borderColor:d,borderWidth:1}],t.totalnumbertable=h,t.colchart.series=[{name:"",colorByPoint:!0,data:n}],t.showchart=1}})}},created:function(){this.getfilterdata()},watch:{contactuserid:function(t,e){console.log("watch report",t),this.getfilterdata()}}},fi={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chart-container"},[1==t.showchart?a("horizontalchart",{attrs:{height:t.defaultheight,chartdata:t.chartdata,options:t.options}}):t._e(),t._v(" "),a("v-layout",{staticStyle:{"page-break-before":"always"}},[a("v-container",[a("div",{staticClass:"totalnumbertable"},[a("table",{staticClass:"table charttable"},[a("tr",[a("td",[t._v("Slno")]),t._v(" "),a("td",[t._v("Selected")]),t._v(" "),a("td",[t._v("Percentage")]),t._v(" "),a("td",[t._v("Total")])]),t._v(" "),t._l(t.totalnumbertable,function(e,s){return[a("tr",{key:"aaaa"+s},[a("td",[t._v(t._s(e.name))]),t._v(" "),a("td",[t._v(t._s(e.selected))]),t._v(" "),a("td",[t._v(t._s(e.percentage)+"%")]),t._v(" "),a("td",[t._v(t._s(e.total))])])]})],2)])])],1),t._v(" "),a("br")],1)},staticRenderFns:[]},gi=a("VU/8")(mi,fi,!1,null,null,null).exports,yi={props:["question","contactuserid"],components:{horizontalchart:si},data:function(){var t;return t={questiondata:this.question,allanswers:[],totalranking:[],defaultheight:"200",defaultmultiheight:"200",datas:0,chartcolors:["#A7226E","#EC2049","#F26B38","#F7DB4F","#2F9599","#E1F5C4","#EDE574","# F9D423","#FC913A","#FF4E50"],chartdata:{labels:[],datasets:[{label:"",data:[],backgroundColor:[],borderColor:[],borderWidth:1}]},options:{responsive:!0,hover:{animationDuration:0},animation:{onComplete:function(){var t=this.chart,e=t.ctx;e.textAlign="center",e.textBaseline="bottom",this.data.datasets.forEach(function(a,s){t.controller.getDatasetMeta(s).data.forEach(function(t,s){var i=a.data[s]+"%";e.fillText(i,t._model.x+20,t._model.y+7)})})}},maintainAspectRatio:!1,legend:{display:!1},tooltips:{enabled:!1},scales:{xAxes:[{ticks:{beginAtZero:!0,callback:function(t){return t+"%"},suggestedMin:2,suggestedMax:100}}]}},multioptions:{responsive:!0,tooltips:{enabled:!1},hover:{animationDuration:0},animation:{onComplete:function(){var t=this.chart,e=t.ctx;e.textAlign="center",e.textBaseline="bottom",this.data.datasets.forEach(function(a,s){t.controller.getDatasetMeta(s).data.forEach(function(t,s){var i=a.data[s]+"%";e.fillText(i,t._model.x+20,t._model.y+7)})})}},maintainAspectRatio:!1,legend:{display:!0,labels:{fontColor:"rgb(255, 99, 132)"}},scales:{xAxes:[{ticks:{beginAtZero:!0,callback:function(t){return t+"%"},suggestedMin:2,suggestedMax:100}}]}},chartdatamulti:{labels:[],datasets:[]},showchart:0},x()(t,"chartdata",{chart:{type:"bar",backgroundColor:"#F5F5F5"},title:{text:"Ranking by Percentage"},colors:["#A7226E","#EC2049","#F26B38","#F7DB4F","#2F9599","#E1F5C4","#EDE574","#  F9D423","#FC913A","#FF4E50"],seriesColor:"#6fcd98",xAxis:{categories:[],crosshair:!0},yAxis:{min:0,max:100,title:{text:"(%)"}},tooltip:{headerFormat:'<span style="font-size:10px">Rank:- {point.key}</span><table>',pointFormat:'<tr><td style="color:{series.color};padding:0">{series.name}: </td><td style="padding:0"><b>{point.y:.1f} %</b></td></tr>',footerFormat:"</table>",shared:!0,useHTML:!0},plotOptions:{column:{pointPadding:.2,borderWidth:0}},series:[]}),x()(t,"colchart",{chart:{type:"column",inverted:!0,backgroundColor:"#F5F5F5"},title:{text:"Weighted Chart"},subtitle:{text:""},colors:["#A7226E","#EC2049","#F26B38","#F7DB4F","#2F9599","#E1F5C4","#EDE574","#  F9D423","#FC913A","#FF4E50"],xAxis:{type:"category"},yAxis:{title:{text:""},min:0,max:100},legend:{enabled:!1},plotOptions:{series:{borderWidth:0,dataLabels:{enabled:!0,format:"{point.y:.1f}%"}}},tooltip:{headerFormat:"",pointFormat:'<span style="font-size:14px">{point.name}</span><br><span style="color:{point.color}">Weight</span>: <b>{point.y:.2f}%</b><br/>'},series:[{name:"",colorByPoint:!0,data:[{name:"Chrome",y:62.74},{name:"Firefox",y:10.57},{name:"Internet Explorer",y:7.23},{name:"Safari",y:5.58},{name:"Edge",y:4.02},{name:"Opera",y:1.92},{name:"Other",y:7.62}]}]}),t},methods:{getfilterdata:function(){var t=this;this.showchart=0,axios.post("/allanswers",{questionid:this.question._id}).then(function(e){if(null==e.data);else{var a=[],s=t.question.choice;t.allanswers=e.data,e.data.forEach(function(e){if(!(t.contactuserid.length>0&&t.contactuserid.indexOf(e.userid)<0)){var s=JSON.parse(e.answer);a=a.concat(s)}});for(var i=[],n=[],o=[],r=function(e){d=[],l=0,m=[],f=[],s.forEach(function(s){if(""!=s.choicetext){f.push(t.chartcolors[e%t.chartcolors.length]),m.push(s.choicetext);var i=a.filter(function(t){return t.option==s._id&&t.rank==e});l+=i.length,d.push(i.length)}}),l,u=[],d.forEach(function(t,e){var a=100*t/l;a||(a=0),a=a.toFixed(2),d[e]=a,u.push(a)}),o.push({label:e,data:u,backgroundColor:f}),n.push({name:e,data:d})},c=1;c<=s.length;c++){var d,l,u;r(c)}var p=[];s.forEach(function(t){""!=t.choicetext&&(i.push(t.choicetext),p.push(t.choicetext))}),t.datas=i.length;var v=[],h=[],m=[],f=[],g=[];s.forEach(function(e){if(""!=e.choicetext){m.push(e.choicetext),f.push(t.chartcolors[f.length%t.chartcolors.length]);for(var i=0,n=0,o=[],r=function(t){var r=a.filter(function(a){return a.option==e._id&&a.rank==t}),c=a.filter(function(e){return e.rank==t});i+=r.length,(d=r.length/c.length*100)||(d=0),d=d.toFixed(2),o.push({rank:t,selected:r.length,total:c.length,percent:d+"%"}),n+=r.length*(s.length-t+1)},c=1;c<=s.length;c++){var d;r(c)}v.push({name:e.choicetext,y:(n/i).toFixed(2)}),g.push((n/i).toFixed(2)),o.push({rank:"",selected:i,total:"",percent:""});var l=n/i;l||(l=0),l=l.toFixed(2),o.push({rank:"",selected:l,total:"",percent:""}),h.push({name:e.choicetext,alldata:o})}}),t.chartdata.labels=m,t.chartdata.datasets=[{label:"",data:g,backgroundColor:f,borderColor:f,borderWidth:1}],t.options.scales.xAxes=[{ticks:{beginAtZero:!0,callback:function(t){return""+t},suggestedMin:2,suggestedMax:m.length}}],t.defaultheight=50*p.length,t.defaultmultiheight=p.length*p.length*50,t.chartdatamulti.labels=p,t.chartdatamulti.datasets=o,t.chartdata.xAxis.categories=i,t.chartdata.series=n,t.colchart.yAxis.max=s.length,t.totalranking=h,t.colchart.series=[{name:"",colorByPoint:!0,data:v}],t.showchart=1}})}},created:function(){this.getfilterdata()},watch:{contactuserid:function(t,e){console.log("watch report",t),this.getfilterdata()}},computed:{myStyles:function(){return{height:this.height+"px",position:"relative"}}}},_i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chart-container"},[1==t.showchart?a("horizontalchart",{attrs:{height:t.defaultheight,styles:t.myStyles,chartdata:t.chartdata,options:t.options}}):t._e(),t._v(" "),a("br"),t._v(" "),1==t.showchart?a("horizontalchart",{attrs:{height:t.defaultmultiheight,chartdata:t.chartdatamulti,options:t.multioptions}}):t._e(),t._v(" "),a("br"),t._v(" "),a("v-layout",{staticStyle:{"page-break-before":"always"}},[a("v-container",[a("div",{staticClass:"totalranking"},[a("table",{staticClass:"table charttable"},[a("tr",[a("td"),t._v(" "),t._l(t.datas,function(e){return a("td",{key:"aaa"+e},[t._v(t._s(e))])}),t._v(" "),a("td",[t._v("Total")]),t._v(" "),a("td",[t._v("Score")])],2),t._v(" "),t._l(t.totalranking,function(e,s){return[a("tr",{key:"rank"+s},[a("td",[t._v(t._s(e.name))]),t._v(" "),t._l(e.alldata,function(e,s){return[a("td",{key:s},[t._v(t._s(e.percent)),a("br"),t._v("\n                      "+t._s(e.selected))])]})],2)]})],2)])])],1),t._v(" "),a("br")],1)},staticRenderFns:[]},xi=a("VU/8")(yi,_i,!1,null,null,null).exports,bi={props:["question","contactuserid"],components:{horizontalchart:si},data:function(){return x()({questiondata:this.question,allanswers:[],defaultheight:"200",matrix:[],chartcolors:["#A7226E","#EC2049","#F26B38","#F7DB4F","#2F9599","#E1F5C4","#EDE574","# F9D423","#FC913A","#FF4E50"],chartdata:{labels:[],datasets:[{label:"",data:[],backgroundColor:[],borderColor:[],borderWidth:1}]},options:{responsive:!0,tooltips:{enabled:!1},hover:{animationDuration:0},animation:{onComplete:function(){var t=this.chart,e=t.ctx;e.textAlign="center",e.textBaseline="bottom",this.data.datasets.forEach(function(a,s){t.controller.getDatasetMeta(s).data.forEach(function(t,s){var i=a.data[s]+"%";e.fillText(i,t._model.x+20,t._model.y+7)})})}},maintainAspectRatio:!1,legend:{display:!0,labels:{fontColor:"rgb(255, 99, 132)"}},scales:{xAxes:[{ticks:{beginAtZero:!0,callback:function(t){return t+"%"},suggestedMin:2,suggestedMax:100}}]}},allrows:[],matrixtotal1:[],datas:4,showchart:0},"chartdata",{chart:{type:"bar",backgroundColor:"#F5F5F5"},title:{text:""},colors:["#A7226E","#EC2049","#F26B38","#F7DB4F","#2F9599","#E1F5C4","#EDE574","#  F9D423","#FC913A","#FF4E50"],seriesColor:"#6fcd98",xAxis:{categories:[],crosshair:!0},yAxis:{min:0,max:100,title:{text:"Progress Rate (%)"}},tooltip:{headerFormat:'<span style="font-size:10px">Rank:- {point.key}</span><table>',pointFormat:'<tr><td style="color:{series.color};padding:0">{series.name}: </td><td style="padding:0"><b>{point.y:.1f} %</b></td></tr>',footerFormat:"</table>",shared:!0,useHTML:!0},plotOptions:{column:{pointPadding:.2,borderWidth:0}},series:[]})},methods:{getfilterdata:function(){var t=this;this.showchart=0,axios.post("/allanswers",{questionid:this.question._id}).then(function(e){if(null==e.data);else{var a=[],s=t.question.allrows,i=t.question.allcols;t.allanswers=e.data,e.data.forEach(function(e){if(!(t.contactuserid.length>0&&t.contactuserid.indexOf(e.userid)<0)){var s=JSON.parse(e.answer);s&&(a=a.concat(s))}});var n=[],o=[],r=[],c=1;t.allrows=[];var d=[];i.forEach(function(e){if(""!=e.option){var i=[],n=0;s.forEach(function(s,o){if(""!=s.option){if("1"==t.question.qtype)var r=a.filter(function(t){return t.rowid==s._id&&t.selected.indexOf(e._id)>=0});else r=a.filter(function(t){return t.rowid==s._id&&t.selected==e._id});var c=a.filter(function(t){return t.rowid.indexOf(s._id)>=0&&t.selected.length>0});r||(r=[]),c||(c=[]),n=c,i.push({rowid:s._id,option:s.option,totalcount:n.length,data:r.length})}}),d.push({colid:e._id,option:e.option,totalcount:n,data:i})}});r=[],o=[],c=0;s.forEach(function(t,e){if(""!=t.option){var a=[];i.forEach(function(t){""!=t.option&&(c++,a.push({selected:0,total:0,percent:"0%"}))}),o.push({name:t.option,alldata:a})}}),d.forEach(function(e,a){t.allrows.push(e.option);var s=[],i=[];e.data.forEach(function(e,n){var r=100*e.data/e.totalcount;r||(r=0),i.push(t.chartcolors[a%t.chartcolors.length]),r=r.toFixed(2),s.push(r),o[n].alldata[a]={selected:e.data,total:e.totalcount,percent:r+"%"}}),r.push({label:e.option,data:s,backgroundColor:i})});var l=[];s.forEach(function(t){""!=t.option&&(l.push(t.option),n.push(t.option))}),t.chartdata.labels=l,t.chartdata.datasets=r,t.defaultheight=50*c/2,t.showchart=1,t.matrix=o}})}},created:function(){this.getfilterdata()},watch:{contactuserid:function(t,e){console.log("watch report",t),this.getfilterdata()}}},qi={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chart-container"},[1==t.showchart?a("horizontalchart",{attrs:{height:t.defaultheight,chartdata:t.chartdata,options:t.options}}):t._e(),t._v(" "),a("br"),t._v(" "),a("v-layout",{staticStyle:{"page-break-before":"always"}},[a("v-container",[a("div",{staticClass:"matrix"},[a("table",{staticClass:"table charttable"},[a("tr",[a("td"),t._v(" "),t._l(t.allrows,function(e,s){return a("td",{key:"dsada"+s},[t._v(t._s(e))])})],2),t._v(" "),t._l(t.matrix,function(e,s){return[a("tr",{key:"rank"+s},[a("td",[t._v(t._s(e.name))]),t._v(" "),t._l(e.alldata,function(e,s){return[a("td",{key:s},[t._v(t._s(e.percent)),a("br"),t._v("\n                      ("+t._s(e.selected)+")")])]})],2)]})],2)])])],1)],1)},staticRenderFns:[]},wi=a("VU/8")(bi,qi,!1,null,null,null).exports,Ci={props:["question","contactuserid"],components:{horizontalchart:si,doughnut:{extends:ai.a,props:{chartdata:{type:Object,default:null},options:{type:Object,default:null}},mounted:function(){this.renderChart(this.chartdata,this.options)}}},data:function(){return{questiondata:this.question,allanswers:[],defaultheight:"200",dwidth:600,dheight:400,datafortable:[],chartcolors:["#A7226E","#EC2049","#F26B38","#F7DB4F","#2F9599","#E1F5C4","#EDE574","# F9D423","#FC913A","#FF4E50"],chartdata:{labels:[],datasets:[{label:"",data:[],backgroundColor:[],borderColor:[],borderWidth:1}]},dchartdata:{labels:[],datasets:[{label:"",data:[],backgroundColor:[],borderColor:[],borderWidth:1}]},options:{responsive:!0,tooltips:{enabled:!1},hover:{animationDuration:0},animation:{onComplete:function(){var t=this.chart,e=t.ctx;e.textAlign="center",e.textBaseline="bottom",this.data.datasets.forEach(function(a,s){t.controller.getDatasetMeta(s).data.forEach(function(t,s){var i=a.data[s]+"%";e.fillText(i,t._model.x+20,t._model.y+7)})})}},maintainAspectRatio:!1,legend:{display:!1},scales:{xAxes:[{ticks:{beginAtZero:!0,callback:function(t){return t+"%"},suggestedMin:2,suggestedMax:100}}]}},doptions:{responsive:!1,maintainAspectRatio:!1,rotation:1*Math.PI,circumference:1*Math.PI,title:{display:!0,fontStyle:"bold",fontSize:50,fullWidth:!0,padding:-100,position:"bottom",text:"",weight:1e3},tooltips:{enabled:!0},hover:{animationDuration:0},animation:{onComplete:function(){var t=this.chart,e=t.ctx;e.textAlign="center",e.textBaseline="bottom",this.data.datasets.forEach(function(a,s){t.controller.getDatasetMeta(s).data.forEach(function(t,a){e.fillText("",0,200)})})}}},showchart:0,colchart:{chart:{type:"column",inverted:!0,backgroundColor:"#F5F5F5"},title:{text:""},subtitle:{text:""},colors:["#A7226E","#EC2049","#F26B38","#F7DB4F","#2F9599","#E1F5C4","#EDE574","#  F9D423","#FC913A","#FF4E50"],xAxis:{type:"category"},yAxis:{title:{text:"(%)"},min:0,max:100},legend:{enabled:!1},plotOptions:{series:{borderWidth:0,dataLabels:{enabled:!0,format:"{point.y:.1f}%"}}},tooltip:{headerFormat:"",pointFormat:'<span style="font-size:14px">{point.name}</span><br><span style="color:{point.color}">Weight</span>: <b>{point.y:.2f}%</b><br/>'},series:[{name:"",colorByPoint:!0,data:[{name:"Chrome",y:62.74},{name:"Firefox",y:10.57},{name:"Internet Explorer",y:7.23},{name:"Safari",y:5.58},{name:"Edge",y:4.02},{name:"Opera",y:1.92},{name:"Other",y:7.62}]}]}}},methods:{getfilterdata:function(){var t=this;this.showchart=0,axios.post("/allanswers",{questionid:this.question._id}).then(function(e){if(null==e.data);else{var a=[];e.data.forEach(function(e){if(!(t.contactuserid.length>0&&t.contactuserid.indexOf(e.userid)<0)){var s=JSON.parse(e.answer);a=a.concat(s)}});for(var s=[],i=[],n=0,o=[],r=[],c=[],d=0,l=0,u=0,p=function(e){o.push(e),r.push(t.chartcolors[r.length%t.chartcolors.length]),h=0,a.forEach(function(t){e==t&&h++}),n+=h,s.push({name:e,y:h})},v=0;v<=10;v++){var h;p(v)}s.forEach(function(t,e){var a=100*t.y/n;a||(a=0),t.name<=6?d+=t.y:t.name<=8?l+=t.y:u+=t.y,a=a.toFixed(2),i.push({percentage:a,selected:t.y,total:n,name:t.name}),s[e].y=a,c.push(a)});var m=d/a.length*100,f=l/a.length*100,g=u/a.length*100;m||(m=0),f||(f=0),g||(g=0),m=m.toFixed(2),f=f.toFixed(2);var y=(g=g.toFixed(2))-m?(g-m).toFixed(2):0;t.defaultheight=50*o.length,t.chartdata.labels=o,t.dchartdata.labels=["Detractors","Passives","Promoters"],t.doptions.title.text=y+" NPS",t.dchartdata.datasets=[{label:"",data:[m,f,g],backgroundColor:["#ec2049","#f7db4f","#2f9599"],borderColor:["#ec2049","#f7db4f","#2f9599"],borderWidth:1}],t.chartdata.datasets=[{label:"",data:c,backgroundColor:r,borderColor:r,borderWidth:1}],t.datafortable=i,t.colchart.series=[{name:"",colorByPoint:!0,data:s}],t.showchart=1}})}},created:function(){this.getfilterdata()},watch:{contactuserid:function(t,e){this.getfilterdata()}}},Mi={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chart-container"},[1==t.showchart?a("horizontalchart",{attrs:{height:t.defaultheight,chartdata:t.chartdata,options:t.options}}):t._e(),t._v(" "),1==t.showchart?a("doughnut",{attrs:{width:t.dwidth,height:t.dheight,chartdata:t.dchartdata,options:t.doptions}}):t._e(),t._v(" "),a("v-layout",{staticStyle:{"page-break-before":"always"}},[a("v-container",[a("div",{staticClass:"datafortable"},[a("table",{staticClass:"table charttable"},[a("tr",[a("td",[t._v("Slno")]),t._v(" "),a("td",[t._v("Selected")]),t._v(" "),a("td",[t._v("Percentage")]),t._v(" "),a("td",[t._v("Total")])]),t._v(" "),t._l(t.datafortable,function(e,s){return[a("tr",{key:"aaaa"+s},[a("td",[t._v(t._s(e.name))]),t._v(" "),a("td",[t._v(t._s(e.selected))]),t._v(" "),a("td",[t._v(t._s(e.percentage)+"%")]),t._v(" "),a("td",[t._v(t._s(e.total))])])]})],2)])])],1),t._v(" "),a("br")],1)},staticRenderFns:[]},Ii={props:["question","qno","userlist"],components:{chartmultichoice:oi,chartratingstar:di,chartratingscale:pi,chartnumbertype:gi,chartrankingtype:xi,chartmatrixtype:wi,chartnpstype:a("VU/8")(Ci,Mi,!1,null,null,null).exports},data:function(){return{questiondata:null,questionno:this.qno,options:{chart:{type:"bar"},title:{text:""},xAxis:{categories:["Very positive","Somewhat negative","Somewhat positive","Very negative"],crosshair:!0},yAxis:{min:0,max:100,title:{text:"Progress Rate (%)"}},tooltip:{headerFormat:'<span style="font-size:10px">{point.key}</span><table>',pointFormat:'<tr><td style="color:{series.color};padding:0">{series.name}: </td><td style="padding:0"><b>{point.y:.1f} %</b></td></tr>',footerFormat:"</table>",shared:!0,useHTML:!0},plotOptions:{column:{pointPadding:.2,borderWidth:0}},series:[{name:"Rate",data:[9.9,71.5,6.4,29.2]}]}}},watch:{questionno:function(t,e){},questiondata:function(t,e){return this.questiondata}},methods:{getchoices:function(){return"dghdfjkhgjkdfhgjkhdfjkghdf"}},computed:{questionfinalimage:function(){return this.questiondata.data.image.indexOf("://")>0?this.questiondata.data.image:window.publicfileurl+this.questiondata.data.image}},created:function(){var t=this;axios.post("/getquestion",{questionid:this.question._id}).then(function(e){t.questiondata=e.data})}},ki={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"finalquestion",staticStyle:{"page-break-before":"always"}},[null!=t.questiondata?a("v-layout",[a("v-flex",{staticClass:"finalquestionindex",attrs:{xs1:""}},[t._v("\n            "+t._s(t.questionno+1)+".\n        ")]),t._v(" "),a("v-flex",{attrs:{xs11:"",questionbox:""}},[a("div",{staticClass:"question"},[a("div",{staticClass:"question_text",domProps:{innerHTML:t._s(t.questiondata.data.questiontext)}})]),t._v(" "),t.question.imagefirst?[""!=t.question.image&&"1"==t.question.haveimage?a("div",{staticClass:"finalquestionimage"},[a("img",{staticClass:"img-question",attrs:{src:t.questionfinalimage}})]):t._e(),t._v(" "),"1"==t.question.havedescription?a("div",{staticClass:"finalquestiondescription",domProps:{innerHTML:t._s(t.question.description)}}):t._e()]:["1"==t.question.havedescription?a("div",{staticClass:"finalquestiondescription",domProps:{innerHTML:t._s(t.question.description)}}):t._e(),t._v(" "),""!=t.question.image&&"1"==t.question.haveimage?a("div",{staticClass:"finalquestionimage"},[a("img",{staticClass:"img-question",attrs:{src:t.questionfinalimage}})]):t._e()],t._v(" "),a("div",{staticClass:"printonly"}),t._v(" "),a("div",{staticClass:"report"},["multic"===t.questiondata.data.questiontype||"singlec"===t.questiondata.data.questiontype||"dropdown"===t.questiondata.data.questiontype?a("chartmultichoice",{attrs:{contactuserid:t.userlist,question:t.questiondata.data}}):"ratestars"===t.questiondata.data.questiontype?a("chartratingstar",{attrs:{contactuserid:t.userlist,question:t.questiondata.data}}):"ratescal"===t.questiondata.data.questiontype?a("chartratingscale",{attrs:{contactuserid:t.userlist,question:t.questiondata.data}}):"numbertext"===t.questiondata.data.questiontype?a("chartnumbertype",{attrs:{contactuserid:t.userlist,question:t.questiondata.data}}):"ranking"===t.questiondata.data.questiontype?a("chartrankingtype",{attrs:{contactuserid:t.userlist,question:t.questiondata.data}}):"matrixquestion"===t.questiondata.data.questiontype?a("chartmatrixtype",{attrs:{contactuserid:t.userlist,question:t.questiondata.data}}):"nps"===t.questiondata.data.questiontype?a("chartnpstype",{attrs:{contactuserid:t.userlist,question:t.questiondata.data}}):t._e(),t._v(" "),a("button",{staticClass:"btn-custom1"},[a("a",{attrs:{href:"/allanswers/"+t.questiondata.data._id,target:"_blank"}},[t._v("View report")])])],1)],2)],1):t._e(),t._v(" "),a("br"),t._v(" "),a("br")],1)},staticRenderFns:[]};var ji=a("VU/8")(Ii,ki,!1,function(t){a("GZ1u")},null,null).exports,Ni=(new Date,localStorage.username,{props:["surveyid","active","prevnext","attemptid"],data:function(){return{user:null,activetab:this.active,errors:[],prevnextbtn:this.prevnext,allresponse:[]}},methods:{changeResponse:function(t){var e=this.allresponse.indexOf(this.attemptid)+t;this.allresponse.length>e&&e<this.allresponse.length?location.href="/responsedetails/"+this.allresponse[e]:this.$toast.open({message:"No attempt available",position:"top",type:"error"})},gotopage:function(t){0==t?location.href="/builder/"+this.surveyid:1==t?this.$router.push("/responsereport/"+this.surveyid):2==t?this.$router.push("/filterreport/"+this.surveyid):3==t?this.$router.push("/responselist/"+this.surveyid):4==t&&this.$router.push("/approveresponse/"+this.surveyid)}},computed:{nextattempt:function(){var t=this.allresponse.indexOf(this.attemptid);return t<this.allresponse.length-1&&this.allresponse[t+1]},prevattempt:function(){var t=this.allresponse.indexOf(this.attemptid);return t>0&&this.allresponse[t]}},created:function(){var t=this;o.a.post("/allresponselist",{surveyid:this.surveyid}).then(function(e){e.data&&e.data.forEach(function(e){t.allresponse.push(e._id)})})}}),Di={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"reportheader"},[s("v-tabs",{staticClass:"header_navbar",attrs:{centered:""},model:{value:t.activetab,callback:function(e){t.activetab=e},expression:"activetab"}},[s("v-tab",{key:"0",on:{click:function(e){return t.gotopage(0)}}},[s("img",{staticClass:"iconinsidebtn",attrs:{title:"Edit Survey",src:a("JFX1")}}),t._v("\n            Edit\n        ")]),t._v(" "),s("v-tab",{key:"1",on:{click:function(e){return t.gotopage(1)}}},[t._v("\n            Summary report\n        ")]),t._v(" "),s("v-tab",{key:"2",on:{click:function(e){return t.gotopage(2)}}},[t._v("\n            Filter Report\n        ")]),t._v(" "),s("v-tab",{key:"3",on:{click:function(e){return t.gotopage(3)}}},[t._v("\n            Individual report\n        ")]),t._v(" "),s("v-tab",{key:"4",on:{click:function(e){return t.gotopage(4)}}},[t._v("\n            Approval Report\n        ")]),t._v(" "),t.prevnextbtn?s("v-tab",{key:"1000000"},[t.prevattempt?s("img",{staticClass:"iconinsidebtn",attrs:{title:"Previous",src:a("JFX1")},on:{click:function(e){return t.changeResponse(-1)}}}):t._e(),t._v(" "),t.nextattempt?s("img",{staticClass:"iconinsidebtn",attrs:{title:"Next",src:a("YKYA")},on:{click:function(e){return t.changeResponse(1)}}}):t._e()]):t._e()],1)],1)},staticRenderFns:[]};var Li=a("VU/8")(Ni,Di,!1,function(t){a("inb1")},null,null).exports,Ai=a("l9mu"),Ti=a.n(Ai),Si=a("CqLJ"),Ei=a("NCci"),zi={components:{finalreport:ji,displayheading:$e,reportheader:Li,userdetailssnipt:wt,ModelListSelect:we.ModelListSelect},data:function(){return{id:this.$route.params.id,surveydata:null,surveyconfig:null,createddate:null,modifiedddate:null,firstresponse:"",lastresponse:"",questionorder:[],responselist:[],contacts:[],listid:null,contactdata:[],averageresponsetime:0,options:{chart:{type:"bar"},title:{text:""},xAxis:{categories:["Very positive","Somewhat negative","Somewhat positive","Very negative"],crosshair:!0},yAxis:{min:0,max:100,title:{text:"Progress Rate (%)"}},tooltip:{headerFormat:'<span style="font-size:10px">{point.key}</span><table>',pointFormat:'<tr><td style="color:{series.color};padding:0">{series.name}: </td><td style="padding:0"><b>{point.y:.1f} %</b></td></tr>',footerFormat:"</table>",shared:!0,useHTML:!0},plotOptions:{column:{pointPadding:.2,borderWidth:0}},series:[{name:"Rate",data:[9.9,71.5,6.4,29.2]}]},surveys:[],survey:null,questions:[],pdf:null,margins:{top:90,bottom:40,left:40,width:550}}},methods:{pdfheader:function(){this.pdf.setFontSize(30),this.pdf.setTextColor(40),this.pdf.setFontStyle("normal"),this.pdf.text("Summary Report",this.margins.left,40),this.pdf.setLineCap(2),this.pdf.line(3,70,this.margins.width+43,70)},pdffooter:function(t,e){var a="Page "+t+" of "+e;this.pdf.setFontSize(10),this.pdf.text(a,this.margins.left,this.pdf.internal.pageSize.height-20)},headerFooterFormatting:function(t){for(var e=t;e>=1;e--)this.pdf.setPage(e),this.pdfheader(),this.pdffooter(e,t),this.pdf.page++},pdfexport:function(t){var e=this.$refs.exporthtml;console.log(e),window.print()},getexportlink:function(t,e){var a=this,s=this.$loading.show({loader:"dots"});return"csv"==t?axios.post("/downlaodsummaryreportxls",{surveyid:e},{responseType:"arraybuffer"}).then(function(t){t.headers["content-type"].indexOf("application/json")>=0?a.$toast.open({message:t.data.message,position:"top",type:"error"}):Ei.downloadfiles(t,"xlsx"),s.hide()}).catch(function(t){s.hide(),console.log("e- ",t)}):"summarypdf"==t?axios.post("/summaryreportpdf",{id:e},{responseType:"arraybuffer"}).then(function(t){t.headers["content-type"].indexOf("application/json")>=0?a.$toast.open({message:t.data.message,position:"top",type:"error"}):Ei.downloadfiles(t,"pdf"),s.hide()}).catch(function(t){s.hide(),console.log("e- ",t)}):"summaryexcel"==t?axios.post("/summaryreportexcel",{id:e},{responseType:"arraybuffer"}).then(function(t){t.headers["content-type"].indexOf("application/json")>=0?a.$toast.open({message:t.data.message,position:"top",type:"error"}):Ei.downloadfiles(t,"xlsx"),s.hide()}).catch(function(t){s.hide(),console.log("e- ",t)}):"summarypdf1"==t?axios.post("/summaryreportpdf1",{id:e},{responseType:"arraybuffer"}).then(function(t){t.headers["content-type"].indexOf("application/json")>=0?a.$toast.open({message:t.data.message,position:"top",type:"error"}):Ei.downloadfiles(t,"pdf"),s.hide()}).catch(function(t){s.hide(),console.log("e- ",t)}):"summaryexcel1"==t&&axios.post("/summaryreportexcel1",{id:e},{responseType:"arraybuffer"}).then(function(t){t.headers["content-type"].indexOf("application/json")>=0?a.$toast.open({message:t.data.message,position:"top",type:"error"}):Ei.downloadfiles(t,"xlsx"),s.hide()}).catch(function(t){s.hide(),console.log("e- ",t)}),"#"},getquestionno:function(t){for(var e=0,a=0;a<this.questions.length&&!(a>=t);a++){var s=this.questions[a];"questiontype"==s.questiontype||"welcomepage"==s.questiontype||"thankyoupage"==s.questiontype||"sectionheading"==s.questiontype||"pagebreak"==s.questiontype||"descriptionbox"==s.questiontype||""!=s.questiontext&&(e+=1)}return e},contactlistid:function(){var t=this;setTimeout(function(){axios.post("/getcontactsdata",{listid:t.listid}).then(function(e){t.contactdata=["selected"],e.data.forEach(function(e){""!=e.userid&&t.contactdata.push(e.userid)})}).catch(function(t){})},100)}},computed:{totalquestionno:function(){for(var t=0,e=0;e<this.questions.length;e++){var a=this.questions[e];"qtypeslider"==a.questiontype||"welcomepage"==a.questiontype||"thankyoupage"==a.questiontype||"sectionheading"==a.questiontype||"pagebreak"==a.questiontype||"descriptionbox"==a.questiontype||""!=a.questiontext&&(t+=1)}return t}},created:function(){var t=this;""==this.id||void 0==this.id?this.$router.push("/"):(axios.post("/getsurvey",{surveyid:this.id}).then(function(e){null==e.data?t.$router.push("/"):(t.surveydata=e.data,t.modifiedddate=Si(t.surveydata.modifiedddate,"yyyy/mm/dd "),t.createddate=Si(parseInt(t.surveydata.createddate),"yyyy/mm/dd "))}).catch(function(t){}),axios.post("/getsurveyconfig",{surveyid:this.id}).then(function(e){null==e.data||(t.surveyconfig=e.data.data)}).catch(function(t){}),axios.post("/getquestions",{surveyid:this.id}).then(function(e){null==e.data&&t.$router.push("/"),axios.post("/getquestionorder",{surveyid:t.id}).then(function(a){t.questionorder=a.data,t.questionorder.forEach(function(a){e.data.forEach(function(e){e.order=a.order,e._id==a.questionid&&t.questions.push(e)})})}).catch(function(t){console.log(t)}),axios.post("/getsharedsurveytolist",{surveyid:t.id}).then(function(e){console.log("thisIsData",e.data),t.contacts=e.data})}).catch(function(e){t.errors.push(e)}),axios.post("/allresponselist",{surveyid:this.id}).then(function(e){if(null==e.data)console.log();else{var a=[],s=0,i=0;e.data.forEach(function(e,n){0==n&&(t.firstresponse=Si(e.datestarted,"yyyy/mm/dd")),0!=e.datestarted&&(t.lastresponse=Si(e.datestarted,"yyyy/mm/dd")),0!=e.datefinished&&(s+=(e.datefinished-e.datestarted)/1e3,i++),a.push(e)}),t.responselist=a,t.averageresponsetime=Ei.secondtoStringtime(s/i)}}))}},Oi={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container conatiner_dashboard"},[a("reportheader",{attrs:{surveyid:t.id,active:"1"}}),t._v(" "),a("div",{ref:"exporthtml",staticClass:"controlsec"},[null!=t.surveydata?a("v-container",{staticClass:"conatiner_dashboard"},[a("div",{staticClass:"surveydetails"},[a("v-layout",{staticClass:"surveysect"},[a("v-flex",{attrs:{xs12:""}},[a("div",{},[t._v("Summary report")]),t._v(" "),a("h2",[t._v(t._s(t.surveydata.surveyname))])])],1),t._v(" "),null!=t.surveyconfig?a("v-layout",{staticClass:"surveyressect"},[a("v-flex",{attrs:{xs12:"",sm6:""}},[a("div",[t._v("Total Question : "+t._s(t.totalquestionno))]),t._v(" "),a("div",[t._v("Total Response : "+t._s(t.responselist.length))]),t._v(" "),a("div",[t._v("Average Time : "+t._s(t.averageresponsetime))]),t._v(" "),a("div",[t._v("First response : "+t._s(t.firstresponse))]),t._v(" "),a("div",[t._v("Last response : "+t._s(t.lastresponse))]),t._v(" "),a("div",[t._v("Active : "),"1"==t.surveyconfig.active?a("span",[t._v("Yes")]):a("span",[t._v("No")])]),t._v(" "),a("div",[a("v-flex",{attrs:{xs6:"","d-flex":""}},[a("model-list-select",{staticClass:"#",attrs:{list:t.contacts,"option-value":"contactid","option-text":"contactname",placeholder:"Select Contact list"},on:{input:t.contactlistid},model:{value:t.listid,callback:function(e){t.listid=e},expression:"listid"}})],1)],1)]),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("div",[t._v("Editor : "),t._l(t.surveyconfig.editor,function(t){return a("userdetailssnipt",{key:t,attrs:{utype:"span_nameonly",uid:t}})})],2),t._v(" "),a("div",[t._v("Reviewer : "),t._l(t.surveyconfig.reviewer,function(t){return a("userdetailssnipt",{key:t,attrs:{utype:"span_nameonly",uid:t}})})],2),t._v(" "),a("div",[t._v("Created : "+t._s(t.createddate))]),t._v(" "),a("div",[t._v("Modified : "+t._s(t.modifiedddate))]),t._v(" "),a("div",[t._v("Active : "),"1"==t.surveyconfig.active?a("span",[t._v("Yes")]):a("span",[t._v("No")])])])],1):t._e(),t._v(" "),a("v-layout",{staticClass:"surveyressect"},[a("v-flex",{attrs:{xs12:"",sm6:""}},[a("div",[a("span",{staticClass:"exportbutton",on:{click:function(e){return t.getexportlink("summarypdf1",t.id)}}},[t._v("PDF Export")]),t._v(" "),a("span",{staticClass:"exportbutton",on:{click:function(e){return t.getexportlink("summaryexcel1",t.id)}}},[t._v("EXCEL Export")])])])],1)],1)]):t._e(),t._v(" "),a("v-container",{staticClass:"conatiner_dashboard"},t._l(t.questions,function(e,s){return a("div",{key:"questionid_"+s,staticClass:"questionforchart"},["sectionheading"===e.questiontype?a("displayheading",{attrs:{sectiondata:e}}):"pagebreak"===e.questiontype?a("v-divider"):"qtypeslider"==e.questiontype?a("div",[a("v-layout",[a("v-flex",{staticClass:"finalquestionindex",attrs:{xs1:""}}),t._v(" "),a("v-flex",{attrs:{xs11:"",questionbox:""}},[a("h3",[t._v("Slider")])])],1)],1):"welcomepage"==e.questiontype?a("div",{staticClass:"welcomepage"},[a("v-layout",[a("v-flex",{staticClass:"finalquestionindex",attrs:{xs1:""}}),t._v(" "),a("v-flex",{attrs:{xs11:"",questionbox:""}},[a("div",{domProps:{innerHTML:t._s(e.welcomenote)}})])],1)],1):"descriptionbox"==e.questiontype?a("div",{staticClass:"descriptionbox"},[a("v-layout",[a("v-flex",{staticClass:"finalquestionindex",attrs:{xs1:""}}),t._v(" "),a("v-flex",{attrs:{xs11:"",questionbox:""}},[a("div",{domProps:{innerHTML:t._s(e.description)}})])],1)],1):"thankyoupage"==e.questiontype?a("div",{staticClass:"thankyoupage"},[a("v-layout",[a("v-flex",{staticClass:"finalquestionindex",attrs:{xs1:""}}),t._v(" "),a("v-flex",{attrs:{xs11:"",questionbox:""}},[a("div",{domProps:{innerHTML:t._s(e.thankyounote)}})])],1)],1):""!==e.questiontext?a("finalreport",{attrs:{question:e,userlist:t.contactdata,qno:t.getquestionno(s)}}):t._e()],1)}),0)],1)],1)},staticRenderFns:[]};var Yi=a("VU/8")(zi,Oi,!1,function(t){a("8nTS")},"data-v-ae1b62d6",null).exports,Fi={props:["allcondition","surveyid","loginuser","dialogstate"],data:function(){return{dialog:this.dialogstate,survey:this.surveyid,conditions:this.allcondition,filtername:""}},methods:{removeModel:function(){this.dialog=!1,this.$emit("removeModel",this.dialog)},saveFilter:function(){var t=this;""==this.filtername?this.$toast.open({message:"Filter name is required",type:"error",position:"top"}):axios.post("/savesurveyfilter",{surveyid:this.survey,filtername:this.filtername,createdby:this.createdby,filterdata:this.conditions}).then(function(e){e.data?(t.removeModel(),t.$toast.open({message:"filter Saved",type:"success",position:"top"}),t.$parent.getfilters()):t.$toast.open({message:"Failed to Save survey",type:"error",position:"top"})}).catch(function(t){console.log(t)})}},watch:{dialog:function(t,e){return this.$emit("removeModel",this.dialog),this.dialog}}},Ui={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-xs-center shareSurvey_"},[a("v-dialog",{attrs:{width:"600"},on:{click:t.removeModel},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[t._v("Save Filter")]),t._v(" "),a("v-card-text",[a("v-text-field",{attrs:{label:"Filter name"},model:{value:t.filtername,callback:function(e){t.filtername=e},expression:"filtername"}})],1),t._v(" "),a("v-divider"),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:t.saveFilter}},[t._v("Save")]),t._v(" "),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:t.removeModel}},[t._v("Cancel")])],1)],1)],1)],1)},staticRenderFns:[]},Qi=a("VU/8")(Fi,Ui,!1,null,null,null).exports,$i=a("CqLJ"),Zi=a("NCci"),Ri=localStorage.username,Pi=(new Date,{components:{reportheader:Li,modelsavefilter:Qi,ModelListSelect:we.ModelListSelect},data:function(){return{model_modelsavefilter:!1,isDisabled:!0,loading:!1,headers:[{text:"User",align:"left",value:"user"},{text:"email",align:"left",value:"email"},{text:"Date started",align:"left",value:"datestarted"},{text:"Date submitted",align:"left",value:"datefinished"},{text:"IP",align:"left",value:"createdip"},{text:"Details",sortable:!1},{text:"Export",sortable:!1}],allDetails:"",selq:"",sela:"",seltype:!1,id:this.$route.params.id,currentuser:null,surveydata:null,createddate:null,modifiedddate:null,surveyconfig:null,responselist:[],contactdata:[],listid:null,contacts:[],exportcondition:"and",semesterid:"null",averageresponsetime:0,allquestions:[],allconditions:[],founddata:[],questiontype1:["multic","singlec","dropdown"],questiontype2:["numbertext","ratestars","ratescal"],andor:[{text:"and"},{text:"or"}],conditions:[{code:"<",text:"is less then"},{code:">",text:"id greater then"},{code:"=",text:"is equal to"},{code:"!=",text:"is not equal to"}],defaultjump:{questionid:"",answer:""},savedfilters:[],exportfilter:{},pagination:{rowsPerPage:100},allattemptid:""}},methods:{changequestionselection:function(t){var e=this.allquestions.find(function(e){return e._id==t});this.selq=e,console.log("allquestions",this.selq)},resetfilter:function(){this.exportfilter="",this.allconditions=[],this.founddata=[]},exportexcelfilter:function(){var t=this;if(this.founddata.length>0){var e=this.$loading.show({loader:"dots"});o.a.post("/savesurveyfilter",{surveyid:this.id,filtername:"",createdby:this.currentuser,filterdata:this.allconditions}).then(function(a){a.data?o.a.post("/getfiltereddataexcel",{filterid:a.data._id},{responseType:"arraybuffer"}).then(function(a){a.headers["content-type"].indexOf("application/json")>=0?t.$toast.open({message:a.data.message,position:"top",type:"error"}):Zi.downloadfiles(a,"xlsx"),e.hide()}).catch(function(t){e.hide(),console.log("e- ",t)}):(e.hide(),t.$toast.open({message:"Unabme to export",type:"error",position:"top"}))}).catch(function(t){e.hide(),console.log(t)})}else this.$toast.open({message:"No data to export",type:"error",position:"top"})},exportexcelallfilter:function(){var t=this;if(this.founddata.length>0){var e=this.$loading.show({loader:"dots"});o.a.post("/getallresponsedataexcel",{surveyid:this.id,ids:this.allattemptid},{responseType:"arraybuffer"}).then(function(a){a.headers["content-type"].indexOf("application/json")>=0?t.$toast.open({message:a.data.message,position:"top",type:"error"}):Zi.downloadfiles(a,"xlsx"),e.hide()}).catch(function(t){e.hide(),console.log("e- ",t)})}else this.$toast.open({message:"No data to export",type:"error",position:"top"})},getfilters:function(){var t=this;o.a.post("/getfilters",{surveyid:this.id}).then(function(e){t.savedfilters=e.data}).catch(function(t){})},Updatefilter:function(){var t=this;this.allconditions.length<=0&&exportfilter?this.$toast.open({message:"Condition required to save filter",type:"error",position:"top"}):o.a.post("/updatesurveyfilter",{filterid:this.exportfilter._id,filterdata:this.allconditions}).then(function(e){e.data?t.$toast.open({message:"filter Saved",type:"success",position:"top"}):t.$toast.open({message:"Failed to Save survey",type:"error",position:"top"})}).catch(function(t){console.log(t)})},openpopup_savefilter:function(){this.model_modelsavefilter=!0},getexportlink:function(t){var e=this,a=this.$loading.show({loader:"dots"});o.a.post("/downlaodresponsexls",{respid:t},{responseType:"arraybuffer"}).then(function(t){t.headers["content-type"].indexOf("application/json")>=0?e.$toast.open({message:t.data.message,position:"top",type:"error"}):Zi.downloadfiles(t,"xlsx"),a.hide()}).catch(function(t){a.hide(),console.log("e- ",t)})},finddata:function(){var t=this;this.loading=!0,o.a.post("/getfiltereddata",{surveyid:this.id,questions:this.allconditions}).then(function(e){t.founddata=e.data;var a=[];t.founddata.forEach(function(t){console.log("element- ",t),a.push(t._id)}),t.allattemptid=a.join(","),t.loading=!1}).catch(function(t){console.log(t)})},addcondition:function(){this.sela&&this.selq?(this.allconditions.push({question:this.selq,type:this.seltype,answer:this.sela,condition:this.exportcondition}),this.debouncedfinddata(),this.selq="",this.sela="",this.exportcondition="and"):this.$toast.open({message:"Question and Answer Required",type:"error",position:"bottom"})},deletecondition:function(t){this.allconditions.splice(t,1),this.debouncedfinddata()},getexportalllink:function(t,e){var a="#";return"csv"==t&&(a=o.a.defaults.baseURL+"/downlaodresponseuserxls?surveyid="+e),a},downloadexcelreport:function(t){o.a.post("/downlaodresponsexls",{respid:t}).then(function(t){}).catch(function(t){console.log(t)})},deleteresponse:function(t,e){var a=this;o.a.post("/deletesurveyresponse",{responseid:e}).then(function(e){1==e.data.n&&a.responselist.splice(t,1)}).catch(function(t){a.errors.push(t)}),console.log("tobe deleted")},getsurveyimage:function(t){return""==t||null==t?"https://source.unsplash.com/collection/4728778/1600x900/":t.indexOf("unsplash.com")>=0?t:window.publicfileurl+t}},computed:{firstresponse:function(){return this.responselist.length>0?this.responselist[0].datestarted:"No response"},lastresponse:function(){return this.responselist.length>0?this.responselist[this.responselist.length-1].datestarted:"No response"},surveycreated:function(){return void 0!=this.surveydata.createddate?"fdjglkdjgl":"bbbbbbb"},surveymodified:function(){return void 0!=this.surveydata.modifiedddate?"cccccccccc":"ddddddddddd"}},created:function(){var t=this;this.debouncedfinddata=_.debounce(this.finddata,1e3),""==this.id||void 0==this.id?this.$router.push("/"):(o.a.post("/getcurrentuser",{username:Ri}).then(function(e){null==e.data&&t.$router.push("/"),window.surveyuser=e.data,t.currentuser=e.data._id}).catch(function(e){t.errors.push(e)}),o.a.post("/getsurvey",{surveyid:this.id}).then(function(e){null==e.data?t.$router.push("/"):(t.getfilters(),t.surveydata=e.data,t.modifiedddate=$i(t.surveydata.modifiedddate,"yyyy-mm-dd "),t.createddate=$i(parseInt(t.surveydata.createddate),"yyyy-mm-dd "))}).catch(function(e){t.errors.push(e)}),o.a.post("/getsurveyconfig",{surveyid:this.id}).then(function(e){null!=e.data&&(t.surveyconfig=e.data.data)}).catch(function(e){t.errors.push(e)}),o.a.post("/getfiltertypequestion",{surveyid:this.id}).then(function(e){null!=e.data&&(t.allquestions=e.data)}).catch(function(e){t.errors.push(e)}))},watch:{surveyconfig:function(t,e){return t},exportfilter:function(t,e){console.log(t),this.allconditions=JSON.parse(t.filterdata),this.finddata()},selq:function(t,e){this.sela="",this.questiontype1.indexOf(t.questiontype)>=0?this.seltype=!0:this.seltype=!1}}}),Gi={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-layout",{staticClass:"conatiner_responceform",attrs:{wrap:""}},[s("reportheader",{attrs:{surveyid:t.id,active:"2"}}),t._v(" "),s("v-flex",{attrs:{xs12:""}},[null!=t.surveydata?s("v-container",{staticClass:"conatiner_dashboard"},[s("div",{staticClass:"surveydetails"},[s("v-layout",{staticClass:"surveysect"},[s("v-flex",{attrs:{xs5:""}},[s("div",{},[t._v("Filter report")]),t._v(" "),s("h2",[t._v(t._s(t.surveydata.surveyname))])]),t._v(" "),s("v-flex",{attrs:{sm3:""}},[s("model-list-select",{staticClass:"#",attrs:{list:t.savedfilters,"option-value":"filtername","option-text":"filtername",placeholder:"Select Filter"},model:{value:t.exportfilter,callback:function(e){t.exportfilter=e},expression:"exportfilter"}})],1),t._v(" "),s("v-flex",{attrs:{xs4:"","text-xs-right":""}},[t.allconditions.length>0?s("button",{on:{click:t.openpopup_savefilter}},[s("span",{staticClass:"exportbutton"},[t._v("Create new")])]):t._e(),t._v(" "),t.allconditions.length>0&&t.exportfilter?s("button",{on:{click:t.Updatefilter}},[s("span",{staticClass:"exportbutton"},[t._v("Save ")])]):t._e(),t._v(" "),t.exportfilter?s("button",{on:{click:t.resetfilter}},[s("span",{staticClass:"exportbutton"},[t._v("Reset ")])]):t._e(),t._v(" "),t.founddata.length>0?s("button",{on:{click:t.exportexcelfilter}},[s("span",{staticClass:"exportbutton"},[t._v("Export")])]):t._e(),t._v(" "),t.founddata.length>0?s("button",{on:{click:t.exportexcelallfilter}},[s("span",{staticClass:"exportbutton"},[t._v("Export All")])]):t._e()])],1),t._v(" "),s("v-layout",{staticClass:"surveyressect"},[s("v-flex",{attrs:{sm5:""}},[s("model-list-select",{staticClass:"borderdradius",attrs:{list:t.allquestions,"option-value":"_id","option-text":"questiontext",placeholder:"Select Question"},on:{input:t.changequestionselection},model:{value:t.allDetails,callback:function(e){t.allDetails=e},expression:"allDetails"}})],1),t._v(" "),s("v-flex",{attrs:{sm4:""}},[t.seltype?s("model-list-select",{staticClass:"sharedata",attrs:{list:t.selq.options,"option-value":"_id","option-text":"choicetext",placeholder:"Select Answer"},model:{value:t.sela,callback:function(e){t.sela=e},expression:"sela"}}):s("v-text-field",{staticClass:"borderdradius",attrs:{label:"Answer",outlined:""},model:{value:t.sela,callback:function(e){t.sela=e},expression:"sela"}})],1),t._v(" "),s("v-flex",{attrs:{sm1:""}},[t.allconditions.length>0?s("model-list-select",{staticClass:"sharedata",attrs:{list:t.andor,"option-value":"text","option-text":"text",placeholder:"Condition"},model:{value:t.exportcondition,callback:function(e){t.exportcondition=e},expression:"exportcondition"}}):t._e()],1),t._v(" "),s("v-flex",{attrs:{sm2:"","text-xs-right":""}},[s("button",{staticClass:"filtercondition",on:{click:t.addcondition}},[s("span",{staticClass:"exportbutton"},[t._v("add Condition")])])])],1),t._v(" "),t.allconditions.length>0?s("div",{staticClass:"surveyressect"},[s("div",[t._v("Conditions")]),t._v(" "),t._l(t.allconditions,function(e,a){return s("v-layout",{key:"questionid_"+a,staticClass:"filtercondition"},[s("v-flex",{attrs:{sm5:""}},[s("model-list-select",{staticClass:"sharedata",attrs:{list:t.allquestions,isDisabled:t.isDisabled,"option-value":"_id","option-text":"questiontext",placeholder:"Select Question"},model:{value:e.question._id,callback:function(a){t.$set(e.question,"_id",a)},expression:"condition.question._id"}})],1),t._v(" "),s("v-flex",{attrs:{sm4:""}},[1==e.type?s("model-list-select",{staticClass:"sharedata",attrs:{list:e.question.options,"option-value":"_id","option-text":"choicetext",placeholder:"Select Answer"},on:{input:t.debouncedfinddata},model:{value:e.answer,callback:function(a){t.$set(e,"answer",a)},expression:"condition.answer"}}):s("v-text-field",{staticClass:"borderdradius",attrs:{label:"Answer",outlined:""},on:{input:t.debouncedfinddata},model:{value:e.answer,callback:function(a){t.$set(e,"answer",a)},expression:"condition.answer"}})],1),t._v(" "),s("v-flex",{attrs:{sm1:""}},[0!=a?s("model-list-select",{staticClass:"sharedata",attrs:{list:t.andor,"option-value":"text","option-text":"text",placeholder:"Condition"},on:{input:t.debouncedfinddata},model:{value:e.condition,callback:function(a){t.$set(e,"condition",a)},expression:"condition.condition"}}):t._e()],1),t._v(" "),s("v-flex",{attrs:{sm2:"","text-xs-right":""}},[s("button",{on:{click:function(e){return t.deletecondition(a)}}},[s("span",{staticClass:"exportbutton danger"},[t._v("Remove")])])])],1)})],2):t._e()],1)]):t._e(),t._v(" "),s("v-container",{staticClass:"conatiner_dashboard"},[s("div",{staticClass:"all-datatable"},[s("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.founddata,"rows-per-page-items":[50,100,150],pagination:t.pagination,loading:t.loading},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.user.firstname)+" "+t._s(e.item.user.lastname)+" ")]),t._v(" "),s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.user.email))]),t._v(" "),s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.datestarted))]),t._v(" "),s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.datefinished))]),t._v(" "),s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.createdip))]),t._v(" "),s("td",{staticClass:"text-xs-left"},[s("a",{attrs:{href:"/responsedetails/"+e.item._id,target:"_blank"}},[t._v("details "),s("img",{staticClass:"deletequestion",attrs:{src:a("ylEs")}})])]),t._v(" "),s("td",{staticClass:"text-xs-left"},[s("span",{staticClass:"exportbutton",on:{click:function(a){return t.getexportlink(e.item._id)}}},[t._v("CSV Export")])])]}}])})],1)])],1),t._v(" "),1==t.model_modelsavefilter?s("modelsavefilter",{attrs:{dialogstate:t.model_modelsavefilter,loginuser:t.currentuser,surveyid:t.id,allcondition:t.allconditions},on:{removeModel:function(e){t.model_modelsavefilter=e}}}):t._e()],1)},staticRenderFns:[]},Ji=a("VU/8")(Pi,Gi,!1,null,null,null).exports,Wi=a("pFYg"),Hi=a.n(Wi),Bi=(localStorage.username,new Date,a("CqLJ")),Vi=(a("NCci"),{components:{ModelListSelect:we.ModelListSelect},data:function(){return{selproject:"",selsurvey:"",action:[],user:[],startdate:"",enddate:"",search:"",headers:[{text:"Survey",value:"surveyname"},{text:"User name",value:"username"},{text:"User email",value:"email"},{text:"Action",value:"action"},{text:"Module",value:"module"},{text:"API",value:"api"},{text:"Date",value:"createddate"},{text:"",value:"date",sortable:!1}],pagination:{rowsPerPage:100,descending:!0,sortBy:"createddate"},alllogs:[],allprojects:[],allusers:[],allsurvey:[],actions:[{code:"get",text:"Get"},{code:"add",text:"Add"},{code:"update",text:"Update"},{code:"delete",text:"Delete"},{code:"login",text:"Login"},{code:"logout",text:"Logout"}]}},methods:{downloadCSV:function(){var t=[];this.alllogs.forEach(function(e){t.push({surveyname:e.surveyname,username:e.username,email:e.email,action:e.action,module:e.module,api:e.api,date:e.date})}),this.exportCSVFile({surveyname:"Survey name",username:"User name",email:"Email",action:"Action",module:"Module",api:"API",date:"Date"},t,"Logreport_"+Date.now()+".csv")},datetostring:function(t){return Bi(t,"yyyy/mm/dd hh:MM:ss TT")},notifyfor:function(t){var e=this.actions.find(function(e){return e.code==t});return e?e.text:""},getuserlogs:function(){var t=this;axios.post("/getuserlogs",{surveyid:this.selsurvey,action:this.action,users:this.user}).then(function(e){t.alllogs=e.data}).catch(function(e){t.$toast.open({message:"Failed to fetch log",position:"top",type:"error"})})},getallsurvey:function(){var t=this;this.allsurvey=[],this.selproject&&axios.post("/getallsurveys",{projectid:this.selproject}).then(function(e){t.allsurvey=e.data}).catch(function(e){t.$toast.open({message:"Failed to fetch Sent mails",position:"top",type:"error"})})},exportCSVFile:function(t,e,a){t&&e.unshift(t);for(var s=j()(e),i="object"!=(void 0===s?"undefined":Hi()(s))?JSON.parse(s):s,n="",o=0;o<i.length;o++){var r="";for(var c in i[o])""!=r&&(r+=","),r+=i[o][c];n+=r+"\r\n"}var d=a+".csv"||"export.csv",l=new Blob([n],{type:"text/csv;charset=utf-8;"});if(navigator.msSaveBlob)navigator.msSaveBlob(l,d);else{var u=document.createElement("a");if(void 0!==u.download){var p=URL.createObjectURL(l);u.setAttribute("href",p),u.setAttribute("download",d),u.style.visibility="hidden",document.body.appendChild(u),u.click(),document.body.removeChild(u)}}},clearfilter:function(){this.selproject="",this.selsurvey="",this.action=[],this.user=[],this.getuserlogs()}},created:function(){var t=this;axios.get("/getprojects").then(function(e){t.allprojects=e.data}).catch(function(t){console.log(t)}),axios.get("/getusers").then(function(e){t.allusers=e.data}).catch(function(t){console.log(t)})},watch:{},computed:{}}),Xi={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{staticClass:"conatiner_responceform",attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-container",{staticClass:"conatiner_dashboard"},[a("v-layout",{staticClass:"surveyressect"},[a("v-flex",{attrs:{sm3:""}},[a("model-list-select",{staticClass:"sharedata",attrs:{list:t.allprojects,"option-value":"_id","option-text":"projectname",placeholder:"Select Project"},on:{input:t.getallsurvey},model:{value:t.selproject,callback:function(e){t.selproject=e},expression:"selproject"}})],1),t._v(" "),a("v-flex",{attrs:{sm3:""}},[a("model-list-select",{staticClass:"sharedata",attrs:{list:t.allsurvey,"option-value":"_id","option-text":"surveyname",placeholder:"Select Survey"},model:{value:t.selsurvey,callback:function(e){t.selsurvey=e},expression:"selsurvey"}})],1),t._v(" "),a("v-flex",{attrs:{sm3:""}},[a("model-list-select",{staticClass:"sharedata",attrs:{list:t.allusers,"option-value":"_id","option-text":"email",placeholder:"User"},model:{value:t.user,callback:function(e){t.user=e},expression:"user"}})],1),t._v(" "),a("v-flex",{attrs:{sm3:""}},[a("model-list-select",{staticClass:"sharedata",attrs:{list:t.actions,"option-value":"code","option-text":"text",placeholder:"Action"},model:{value:t.action,callback:function(e){t.action=e},expression:"action"}})],1)],1),t._v(" "),a("v-layout",{staticClass:"surveyressect"},[a("v-flex",{attrs:{sm12:""}},[a("button",{staticClass:"exportbutton",on:{click:t.getuserlogs}},[t._v("Filter")]),t._v(" "),a("button",{staticClass:"exportbutton",on:{click:t.clearfilter}},[t._v("Reset")]),t._v(" "),t.alllogs.length>0?a("button",{staticClass:"exportbutton",on:{click:t.downloadCSV}},[t._v("Download CSV")]):t._e()])],1)],1)],1),t._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-container",{staticClass:"conatiner_dashboard"},[a("v-card",[a("v-card-title",[t._v("Sent mail Report"),a("v-spacer"),a("v-text-field",{staticClass:"datatable_search",attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{attrs:{headers:t.headers,items:t.alllogs,search:t.search,"rows-per-page-items":[50,100,150],pagination:t.pagination},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.surveyname)+" ")]),t._v(" "),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.username)+" ")]),t._v(" "),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.email)+" ")]),t._v(" "),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.action)+" ")]),t._v(" "),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.module)+" ")]),t._v(" "),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.api)+" ")]),t._v(" "),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.date)+" ")]),t._v(" "),a("td",{staticClass:"text-xs-left"})]}}])})],1)],1)],1)],1)},staticRenderFns:[]},Ki=a("VU/8")(Vi,Xi,!1,null,null,null).exports,tn={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"question"},[e("div",{staticClass:"question_text",domProps:{innerHTML:this._s(this.questiontext)}})])},staticRenderFns:[]};var en=a("VU/8")({props:["questiontext","qno"]},tn,!1,function(t){a("2516")},null,null).exports,an=a("bo9h"),sn={props:["question"],data:function(){return{choicetexts:this.choicetext,answer:[],extrafield:!1,otheranswer:"",questionpotres:""}},methods:{animatenow:function(){this.validatedform(!0)},validatedform:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];"1"==this.question.required&&0==this.answer.length&&0==this.otheranswer.length?(this.$parent.validatedform(!1),an.ErrorInput("#answer"+this.question._id,"error"),t&&an.animateCSS("#answer"+this.question._id,"shake")):(this.$parent.validatedform(!0),an.ErrorInput("#answer"+this.question._id,"success"))},updateattemptanswer:function(){var t=this;this.animatenow();var e=window.surveyuser,a=window.surveyattemptid,s=localStorage.getItem("sconfig_"+a._id);"1"==(s=JSON.parse(s)).honeypot&&this.questionpotres.length>0?axios.post("/postbotresponse",{surveyId:this.question.surveyid,userId:e._id,questionId:this.question._id,attemptId:a._id}).then(function(t){}).catch(function(t){}):axios.post("/updateattemptanswer",{surveyid:this.question.surveyid,userid:e._id,questionid:this.question._id,attemptid:a._id,answer:this.answer,otheranswer:this.otheranswer}).then(function(t){}).catch(function(e){t.errors.push(e)})},updateattemptanswerother:function(){var t=this;this.animatenow();var e=window.surveyuser,a=window.surveyattemptid;this.questionpotres.length>0?axios.post("/postbotresponse",{surveyId:this.question.surveyid,userId:e._id,questionId:this.question._id,attemptId:a._id}).then(function(t){}).catch(function(t){}):axios.post("/updateattemptanswerother",{surveyid:this.question.surveyid,userid:e._id,questionid:this.question._id,attemptid:a._id,answer:this.answer,otheranswer:this.otheranswer}).then(function(t){}).catch(function(e){t.errors.push(e)})}},watch:{answer:function(t,e){this.debouncedupdateattemptanswer()},extrafield:function(t,e){this.extrafield?this.otheranswer=" ":(this.otheranswer="",this.debouncedupdateattemptanswerother())},otheranswer:function(t,e){this.extrafield&&this.debouncedupdateattemptanswerother()}},created:function(){var t=this;this.debouncedupdateattemptanswer=_.debounce(this.updateattemptanswer,200),this.debouncedupdateattemptanswerother=_.debounce(this.updateattemptanswerother,200);var e=window.surveyuser,a=window.surveyattemptid;axios.post("/getattemptanswer",{surveyid:this.question.surveyid,userid:e._id,questionid:this.question._id,attemptid:a._id}).then(function(e){1==e.data.status&&null!=e.data.data&&(t.answer=JSON.parse(e.data.data.answer),e.data.data.otheranswer&&(t.extrafield=!0),t.otheranswer=e.data.data.otheranswer,t.validatedform())}).catch(function(e){t.errors.push(e)})}},nn={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"checkboxtop",attrs:{id:"answer"+t.question._id}},[t._l(t.question.choice,function(e,s){return a("div",{key:s,staticClass:"checkin"},[a("v-checkbox",{attrs:{label:e.choicetext,value:e._id},model:{value:t.answer,callback:function(e){t.answer=e},expression:"answer"}})],1)}),t._v(" "),t.question.other?a("div",{staticClass:"checkin"},[""!=t.question.othertext?a("v-checkbox",{attrs:{label:t.question.othertext},model:{value:t.extrafield,callback:function(e){t.extrafield=e},expression:"extrafield"}}):a("v-checkbox",{attrs:{label:"Other, please specify"},model:{value:t.extrafield,callback:function(e){t.extrafield=e},expression:"extrafield"}})],1):t._e(),t._v(" "),t.extrafield?a("div",{staticClass:"extraoption"},[a("v-text-field",{attrs:{label:"Please Specify"},model:{value:t.otheranswer,callback:function(e){t.otheranswer=e},expression:"otheranswer"}})],1):t._e(),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.questionpotres,expression:"questionpotres"}],attrs:{type:"hidden"},domProps:{value:t.questionpotres},on:{input:function(e){e.target.composing||(t.questionpotres=e.target.value)}}})],2)},staticRenderFns:[]};var on=a("VU/8")(sn,nn,!1,function(t){a("4czT")},null,null).exports,rn=a("bo9h"),cn={props:["question","ansno","qno"],data:function(){return{choicetext1:this.choicetext,ansno1:this.ansno,qno1:this.qno,answer:"",extrafield:!1,otheranswer:"",questionpotres:""}},methods:{animatenow:function(){this.validatedform(!0)},validatedform:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];"1"==this.question.required&&0==this.answer.length&&0==this.otheranswer.length?(this.$parent.validatedform(!1),rn.ErrorInput("#answer"+this.question._id,"error"),t&&rn.animateCSS("#answer"+this.question._id,"shake")):(this.$parent.validatedform(!0),rn.ErrorInput("#answer"+this.question._id,"success"))},updateattemptanswer:function(){var t=this;this.animatenow();var e=window.surveyuser,a=window.surveyattemptid,s=localStorage.getItem("sconfig_"+a._id);"1"==(s=JSON.parse(s)).honeypot?this.questionpotres.length>0?axios.post("/postbotresponse",{surveyId:this.question.surveyid,userId:e._id,questionId:this.question._id,attemptId:a._id}).then(function(t){}).catch(function(t){}):axios.post("/updateattemptanswer",{surveyid:this.question.surveyid,userid:e._id,questionid:this.question._id,attemptid:a._id,answer:this.answer,otheranswer:this.otheranswer}).then(function(e){var a=window.surveyattemptid,s=localStorage.getItem("sconfig_"+a._id);"1"==(s=JSON.parse(s)).skipnext&&t.$parent.answersubmitted()}).catch(function(e){t.errors.push(e)}):axios.post("/updateattemptanswer",{surveyid:this.question.surveyid,userid:e._id,questionid:this.question._id,attemptid:a._id,answer:this.answer,otheranswer:this.otheranswer}).then(function(e){var a=window.surveyattemptid,s=localStorage.getItem("sconfig_"+a._id);"1"==(s=JSON.parse(s)).skipnext&&t.$parent.answersubmitted()}).catch(function(t){console.log(t)})},updateattemptanswerother:function(){var t=this;this.animatenow();var e=window.surveyuser,a=window.surveyattemptid;axios.post("/updateattemptanswerother",{surveyid:this.question.surveyid,userid:e._id,questionid:this.question._id,attemptid:a._id,answer:this.answer,otheranswer:this.otheranswer}).then(function(t){}).catch(function(e){t.errors.push(e)})}},watch:{answer:function(t,e){""!=this.answer&&(this.extrafield=!1,this.otheranswer="")},extrafield:function(t,e){this.extrafield?(this.answer="",this.otheranswer=" "):(this.extrafield=!1,this.otheranswer=""),this.debouncedupdateattemptanswerother()},otheranswer:function(t,e){this.extrafield&&(this.answer="",this.debouncedupdateattemptanswerother())}},created:function(){var t=this;this.debouncedupdateattemptanswer=_.debounce(this.updateattemptanswer,200),this.debouncedupdateattemptanswerother=_.debounce(this.updateattemptanswerother,200);var e=window.surveyuser,a=window.surveyattemptid;axios.post("/getattemptanswer",{surveyid:this.question.surveyid,userid:e._id,questionid:this.question._id,attemptid:a._id}).then(function(e){1==e.data.status&&null!=e.data.data&&(t.answer=JSON.parse(e.data.data.answer),e.data.data.otheranswer&&(t.extrafield=!0),t.otheranswer=e.data.data.otheranswer,t.validatedform())}).catch(function(e){t.errors.push(e)})}},dn={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"answer"+t.question._id}},[a("v-radio-group",{on:{change:t.updateattemptanswer},model:{value:t.answer,callback:function(e){t.answer=e},expression:"answer"}},t._l(t.question.choice,function(e,s){return a("div",{key:s},[a("v-container",{staticClass:"radiobutton"},[a("v-radio",{key:t.qno,attrs:{label:e.choicetext,value:e._id}})],1)],1)}),0),t._v(" "),t.question.other?a("div",{staticClass:"singlechoicecheck"},[""!=t.question.othertext?a("v-checkbox",{attrs:{label:t.question.othertext},model:{value:t.extrafield,callback:function(e){t.extrafield=e},expression:"extrafield"}}):a("v-checkbox",{attrs:{label:"Other, please specify"},model:{value:t.extrafield,callback:function(e){t.extrafield=e},expression:"extrafield"}})],1):t._e(),t._v(" "),t.extrafield?a("div",{staticClass:"extraoption"},[a("v-text-field",{attrs:{label:"Please Specify"},model:{value:t.otheranswer,callback:function(e){t.otheranswer=e},expression:"otheranswer"}})],1):t._e(),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.questionpotres,expression:"questionpotres"}],attrs:{type:"hidden"},domProps:{value:t.questionpotres},on:{input:function(e){e.target.composing||(t.questionpotres=e.target.value)}}})],1)},staticRenderFns:[]};var ln=a("VU/8")(cn,dn,!1,function(t){a("c0CW")},"data-v-3e90562f",null).exports,un=a("bo9h"),pn={props:["allchoice","question"],data:function(){return{questionpotres:"",choices:this.allchoice,answer:null,extrafield:!1,otheranswer:""}},methods:{animatenow:function(){this.validatedform(!0)},validatedform:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];"1"==this.question.required&&0==this.answer.length&&0==this.otheranswer.length?(this.$parent.validatedform(!1),this.extrafield?(un.ErrorInput("#answer"+this.question._id,"success"),un.ErrorInput("#answer1"+this.question._id,"error"),t&&un.animateCSS("#answer1"+this.question._id,"shake")):(un.ErrorInput("#answer1"+this.question._id,"success"),un.ErrorInput("#answer"+this.question._id,"error"),t&&un.animateCSS("#answer"+this.question._id,"shake"))):(this.$parent.validatedform(!0),un.ErrorInput("#answer"+this.question._id,"success"),un.ErrorInput("#answer1"+this.question._id,"success"))},updateattemptanswer:function(){var t=this;this.validatedform();var e=window.surveyuser,a=window.surveyattemptid,s=localStorage.getItem("sconfig_"+a._id);"1"==(s=JSON.parse(s)).honeypot&&this.questionpotres.length>0?axios.post("/postbotresponse",{surveyId:this.question.surveyid,userId:e._id,questionId:this.question._id,attemptId:a._id}).then(function(t){}).catch(function(t){}):axios.post("/updateattemptanswer",{surveyid:this.question.surveyid,userid:e._id,questionid:this.question._id,attemptid:a._id,answer:this.answer,otheranswer:this.otheranswer}).then(function(e){var a=window.surveyattemptid,s=localStorage.getItem("sconfig_"+a._id);"1"==(s=JSON.parse(s)).skipnext&&t.$parent.answersubmitted()}).catch(function(e){t.errors.push(e)})},updateattemptanswerother:function(){var t=this;this.validatedform();var e=window.surveyuser,a=window.surveyattemptid,s=localStorage.getItem("sconfig_"+a._id);"1"==(s=JSON.parse(s)).honeypot&&this.questionpotres.length>0?axios.post("/postbotresponse",{surveyId:this.question.surveyid,userId:e._id,questionId:this.question._id,attemptId:a._id}).then(function(t){}).catch(function(t){}):axios.post("/updateattemptanswerother",{surveyid:this.question.surveyid,userid:e._id,questionid:this.question._id,attemptid:a._id,answer:this.answer,otheranswer:this.otheranswer}).then(function(t){}).catch(function(e){t.errors.push(e)})}},watch:{answer:function(t,e){0!=this.answer.length&&(this.extrafield=!1,this.otheranswer="")},extrafield:function(t,e){this.validatedform(),this.extrafield?(this.answer="",this.otheranswer=" "):this.otheranswer="",this.debouncedupdateattemptanswerother()},otheranswer:function(t,e){this.extrafield&&(this.answer="",this.debouncedupdateattemptanswerother())}},created:function(){var t=this;this.debouncedupdateattemptanswer=_.debounce(this.updateattemptanswer,200),this.debouncedupdateattemptanswerother=_.debounce(this.updateattemptanswerother,200);var e=window.surveyuser,a=window.surveyattemptid;axios.post("/getattemptanswer",{surveyid:this.question.surveyid,userid:e._id,questionid:this.question._id,attemptid:a._id}).then(function(e){1==e.data.status&&null!=e.data.data&&(t.answer=JSON.parse(e.data.data.answer),e.data.data.otheranswer&&(t.extrafield=!0),t.otheranswer=e.data.data.otheranswer,t.validatedform())}).catch(function(e){t.errors.push(e)})}},vn={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"dropdown-btn"},[a("v-flex",{attrs:{xs12:"",sm4:""}},[a("v-select",{attrs:{id:"answer"+t.question._id,items:t.choices,outline:"",label:"Select","item-text":"choicetext","item-value":"_id"},on:{change:t.debouncedupdateattemptanswer},model:{value:t.answer,callback:function(e){t.answer=e},expression:"answer"}})],1)],1),t._v(" "),t.question.other?a("div",{staticClass:"checkin"},[""!=t.question.othertext?a("v-checkbox",{attrs:{label:t.question.othertext},model:{value:t.extrafield,callback:function(e){t.extrafield=e},expression:"extrafield"}}):a("v-checkbox",{attrs:{label:"Other, please specify"},model:{value:t.extrafield,callback:function(e){t.extrafield=e},expression:"extrafield"}})],1):t._e(),t._v(" "),t.extrafield?a("div",{staticClass:"extraoption"},[a("v-text-field",{attrs:{id:"answer1"+t.question._id,label:"Please Specify"},model:{value:t.otheranswer,callback:function(e){t.otheranswer=e},expression:"otheranswer"}})],1):t._e(),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.questionpotres,expression:"questionpotres"}],attrs:{type:"hidden"},domProps:{value:t.questionpotres},on:{input:function(e){e.target.composing||(t.questionpotres=e.target.value)}}})])},staticRenderFns:[]};var hn=a("VU/8")(pn,vn,!1,function(t){a("wX6Y")},"data-v-77a767c8",null).exports,mn=a("bo9h"),fn={props:["textinput"],data:function(){return{answer:"",questionpotres:""}},methods:{animatenow:function(){this.validatedform(!0)},validatedform:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];"1"==this.textinput.required&&""==this.answer?(this.$parent.validatedform(!1),mn.ErrorInput("#answer"+this.textinput._id,"error"),t&&mn.animateCSS("#answer"+this.textinput._id,"shake")):(this.$parent.validatedform(!0),mn.ErrorInput("#answer"+this.textinput._id,"success"))},updateattemptanswer:function(){var t=this;this.validatedform(!1);var e=window.surveyuser,a=window.surveyattemptid,s=localStorage.getItem("sconfig_"+a._id);"1"==(s=JSON.parse(s)).honeypot&&this.questionpotres.length>0?axios.post("/postbotresponse",{surveyId:this.textinput.surveyid,userId:e._id,questionId:this.textinput._id,attemptId:a._id}).then(function(t){}).catch(function(t){}):axios.post("/updateattemptanswer",{surveyid:this.textinput.surveyid,userid:e._id,questionid:this.textinput._id,attemptid:a._id,answer:this.answer}).then(function(t){}).catch(function(e){t.errors.push(e)})}},watch:{answer:function(t,e){this.debouncedupdateattemptanswer()}},created:function(){var t=this;this.debouncedupdateattemptanswer=_.debounce(this.updateattemptanswer,500);var e=window.surveyuser,a=window.surveyattemptid;axios.post("/getattemptanswer",{surveyid:this.textinput.surveyid,userid:e._id,questionid:this.textinput._id,attemptid:a._id}).then(function(e){1==e.data.status&&null!=e.data.data&&(t.answer=JSON.parse(e.data.data.answer),t.validatedform())}).catch(function(e){t.errors.push(e)})}},gn={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"textinput"},[a("v-layout",{attrs:{"align-center":""}},[a("v-text-field",{staticClass:"text_input",attrs:{id:"answer"+t.textinput._id,label:"Answer"},on:{blur:t.animatenow},model:{value:t.answer,callback:function(e){t.answer=e},expression:"answer"}})],1),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.questionpotres,expression:"questionpotres"}],attrs:{type:"hidden"},domProps:{value:t.questionpotres},on:{input:function(e){e.target.composing||(t.questionpotres=e.target.value)}}})],1)},staticRenderFns:[]};var yn=a("VU/8")(fn,gn,!1,function(t){a("flbg")},"data-v-2e627264",null).exports,_n=a("bo9h"),xn={components:{question:en},props:["alltextinput","question"],data:function(){return{allinput:this.alltextinput,questionno:this.qno,answer:[],questionpotres:""}},methods:{animatenow:function(){this.validatedform(!0)},validatedform:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if("1"==this.question.required){this.$parent.validatedform(!1);var a=!0;this.question.choice.forEach(function(s){var i=t.answer.find(function(t){return t.id===s._id});i?""==i.answer?(t.$parent.validatedform(!1),a=!1,_n.ErrorInput("#subanswer"+s._id,"error"),e&&_n.animateCSS("#subanswer"+s._id,"shake")):_n.ErrorInput("#subanswer"+s._id,"success"):(a=!1,_n.ErrorInput("#subanswer"+s._id,"error"),e&&_n.animateCSS("#subanswer"+s._id,"shake"))}),a&&this.$parent.validatedform(!0)}else this.$parent.validatedform(!0),_n.ErrorInput(".subanswer","success")},getanswer:function(t){var e=this,a=0;this.answer.forEach(function(s,i){s.id==event.target.dataset.id&&(a=1,e.answer[i].answer=t)}),0==a&&this.answer.push({id:event.target.dataset.id,answer:t}),this.debouncedupdateattemptanswer()},updateattemptanswer:function(){var t=this;this.validatedform();var e=window.surveyuser,a=window.surveyattemptid,s=localStorage.getItem("sconfig_"+a._id);"1"==(s=JSON.parse(s)).honeypot&&this.questionpotres.length>0?axios.post("/postbotresponse",{surveyId:this.question.surveyid,userId:e._id,questionId:this.question._id,attemptId:a._id}).then(function(t){}).catch(function(t){}):axios.post("/updateattemptanswer",{surveyid:this.question.surveyid,userid:e._id,questionid:this.question._id,attemptid:a._id,answer:this.answer}).then(function(t){}).catch(function(e){t.errors.push(e)})},setoldanswer:function(t){var e="";return this.answer.forEach(function(a){a.id==t&&(e=a.answer)}),e}},watch:{},created:function(){var t=this;this.debouncedupdateattemptanswer=_.debounce(this.updateattemptanswer,500);var e=window.surveyuser,a=window.surveyattemptid;axios.post("/getattemptanswer",{surveyid:this.question.surveyid,userid:e._id,questionid:this.question._id,attemptid:a._id}).then(function(e){1==e.data.status&&null!=e.data.data&&(t.answer=JSON.parse(e.data.data.answer),t.validatedform())}).catch(function(e){t.errors.push(e)})}},bn={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"multitextinput"},[t._l(t.question.choice,function(e,s){return a("div",{key:s,staticClass:"textinput"},[a("v-layout",{attrs:{"align-center":""}},[""!=e.choicetext?a("v-text-field",{key:e._id,staticClass:"subanswer",attrs:{id:"subanswer"+e._id,value:t.setoldanswer(e._id),label:e.choicetext,"data-id":e._id},on:{blur:t.animatenow,input:t.getanswer}}):t._e(),t._v(" "),""==e.choicetext?a("v-text-field",{key:e._id,staticClass:"subanswer",attrs:{id:"subanswer"+e._id,value:t.setoldanswer(e._id),label:"Answer","data-id":e._id},on:{blur:t.animatenow,input:t.getanswer}}):t._e()],1)],1)}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.questionpotres,expression:"questionpotres"}],attrs:{type:"hidden"},domProps:{value:t.questionpotres},on:{input:function(e){e.target.composing||(t.questionpotres=e.target.value)}}})],2)},staticRenderFns:[]};var qn=a("VU/8")(xn,bn,!1,function(t){a("skSi")},"data-v-b3328aea",null).exports,wn={props:["ratingdata"],data:function(){return{ratingq:this.ratingdata,rating:0,questionpotres:""}},methods:{changeratingdata:function(){this.debouncedchangeScalelength()},updateratinganswer:function(){var t=this,e=window.surveyuser,a=window.surveyattemptid,s=(this.ratingq.response,localStorage.getItem("sconfig_"+a._id));"1"==(s=JSON.parse(s)).honeypot&&this.questionpotres.length>0?axios.post("/postbotresponse",{surveyId:this.ratingq.surveyid,userId:e._id,questionId:this.ratingq._id,attemptId:a._id}).then(function(t){}).catch(function(t){}):axios.post("/updateattemptanswer",{surveyid:this.ratingq.surveyid,userid:e._id,questionid:this.ratingq._id,attemptid:a._id,answer:this.rating}).then(function(e){t.$parent.validatedform(!0)}).catch(function(e){t.errors.push(e)})}},created:function(){var t=this;this.$parent.validatedform(!1),this.debouncedchangeScalelength=_.debounce(this.updateratinganswer,200);var e=window.surveyuser,a=window.surveyattemptid;this.ratingq.response;axios.post("/getattemptanswer",{surveyid:this.ratingq.surveyid,userid:e._id,questionid:this.ratingq._id,attemptid:a._id}).then(function(e){1==e.data.status&&null!=e.data.data&&(t.$parent.validatedform(!0),t.rating=JSON.parse(e.data.data.answer))}).catch(function(e){t.errors.push(e)})}},Cn={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"scalerating"},[a("v-subheader",{staticClass:"pl-0"},[t._v("Rated:-  "+t._s(t.rating))]),t._v(" "),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",[a("v-slider",{attrs:{label:"0",max:t.ratingq.length,"thumb-label":""},on:{input:t.changeratingdata},model:{value:t.rating,callback:function(e){t.rating=e},expression:"rating"}})],1),t._v(" "),a("v-flex",{staticStyle:{width:"60px"},attrs:{shrink:""}},[a("v-card-text",[t._v(t._s(t.ratingq.length))])],1)],1),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.questionpotres,expression:"questionpotres"}],attrs:{type:"hidden"},domProps:{value:t.questionpotres},on:{input:function(e){e.target.composing||(t.questionpotres=e.target.value)}}})],1)},staticRenderFns:[]};var Mn=a("VU/8")(wn,Cn,!1,function(t){a("LGY/")},null,null).exports,In=a("bo9h"),kn={props:["textinput"],data:function(){return{answer:"",questionpotres:""}},methods:{animatenow:function(){this.validatedform(!0)},validatedform:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];"1"==this.textinput.required&&""==this.answer?(this.$parent.validatedform(!1),In.ErrorInput("#txtares"+this.textinput._id,"error"),t&&In.animateCSS("#txtares"+this.textinput._id,"shake")):(this.$parent.validatedform(!0),In.ErrorInput("#txtares"+this.textinput._id,"success"))},updateattemptanswer:function(){var t=this;this.validatedform(!1);var e=window.surveyuser,a=window.surveyattemptid,s=localStorage.getItem("sconfig_"+a._id);"1"==(s=JSON.parse(s)).honeypot&&this.questionpotres.length>0?axios.post("/postbotresponse",{surveyId:this.textinput.surveyid,userId:e._id,questionId:this.textinput._id,attemptId:a._id}).then(function(t){}).catch(function(t){}):axios.post("/updateattemptanswer",{surveyid:this.textinput.surveyid,userid:e._id,questionid:this.textinput._id,attemptid:a._id,answer:this.answer}).then(function(t){}).catch(function(e){t.errors.push(e)})}},watch:{answer:function(t,e){this.debouncedupdateattemptanswer()}},created:function(){var t=this;this.debouncedupdateattemptanswer=_.debounce(this.updateattemptanswer,500);var e=window.surveyuser,a=window.surveyattemptid;axios.post("/getattemptanswer",{surveyid:this.textinput.surveyid,userid:e._id,questionid:this.textinput._id,attemptid:a._id}).then(function(e){1==e.data.status&&null!=e.data.data&&(t.answer=JSON.parse(e.data.data.answer),t.validatedform())}).catch(function(e){t.errors.push(e)})}},jn={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-center":""}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.answer,expression:"answer"}],staticClass:"xs12textarea",attrs:{id:"txtares"+t.textinput._id,rows:"8"},domProps:{value:t.answer},on:{blur:t.animatenow,input:function(e){e.target.composing||(t.answer=e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.questionpotres,expression:"questionpotres"}],attrs:{type:"hidden"},domProps:{value:t.questionpotres},on:{input:function(e){e.target.composing||(t.questionpotres=e.target.value)}}})])},staticRenderFns:[]};var Nn=a("VU/8")(kn,jn,!1,function(t){a("9rC6")},"data-v-a6241c94",null).exports,Dn=a("bo9h"),Ln={props:["maskformat","question"],computed:{maskedinput:function(){var t="",e=0;for(e=0;e<this.maskformat;e++)t+="#";return t}},data:function(){return{answer:"",questionpotres:""}},methods:{animatenow:function(){this.validatedform(!0)},validatedform:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];"1"==this.question.required&&""==this.answer?(this.$parent.validatedform(!1),Dn.ErrorInput("#answer"+this.question._id,"error"),t&&Dn.animateCSS("#answer"+this.question._id,"shake")):(this.$parent.validatedform(!0),Dn.ErrorInput("#answer"+this.question._id,"success"))},updateattemptanswer:function(){var t=this;this.validatedform(!1);var e=window.surveyuser,a=window.surveyattemptid,s=localStorage.getItem("sconfig_"+a._id);"1"==(s=JSON.parse(s)).honeypot&&this.questionpotres.length>0?axios.post("/postbotresponse",{surveyId:this.question.surveyid,userId:e._id,questionId:this.question._id,attemptId:a._id}).then(function(t){}).catch(function(t){}):axios.post("/updateattemptanswer",{surveyid:this.question.surveyid,userid:e._id,questionid:this.question._id,attemptid:a._id,answer:this.answer}).then(function(t){}).catch(function(e){t.errors.push(e)})}},watch:{answer:function(t,e){this.debouncedupdateattemptanswer()}},created:function(){var t=this;this.debouncedupdateattemptanswer=_.debounce(this.updateattemptanswer,200);var e=window.surveyuser,a=window.surveyattemptid;axios.post("/getattemptanswer",{surveyid:this.question.surveyid,userid:e._id,questionid:this.question._id,attemptid:a._id}).then(function(e){1==e.data.status&&null!=e.data.data&&(t.answer=JSON.parse(e.data.data.answer),t.validatedform())}).catch(function(e){t.errors.push(e)})}},An={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"maskedinput"},[a("v-layout",{attrs:{"align-center":""}},[a("v-text-field",{attrs:{id:"answer"+t.question._id,label:"Answer",mask:t.maskedinput},on:{blur:t.animatenow},model:{value:t.answer,callback:function(e){t.answer=e},expression:"answer"}})],1),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.questionpotres,expression:"questionpotres"}],attrs:{type:"hidden"},domProps:{value:t.questionpotres},on:{input:function(e){e.target.composing||(t.questionpotres=e.target.value)}}})],1)},staticRenderFns:[]};var Tn=a("VU/8")(Ln,An,!1,function(t){a("316n")},"data-v-991c8622",null).exports,Sn={props:["ratingdata"],components:{StarRating:ee.a},data:function(){return{question:this.ratingdata,maxrating:this.ratingdata.maxrate,rating:0,starsize:30,questionpotres:""}},methods:{changeratingdata:function(t){this.rating=t,this.debouncedchangeScalelength()},updateratinganswer:function(){var t=this,e=window.surveyuser,a=window.surveyattemptid,s=localStorage.getItem("sconfig_"+a._id);"1"==(s=JSON.parse(s)).honeypot&&this.questionpotres.length>0?axios.post("/postbotresponse",{surveyId:this.question.surveyid,userId:e._id,questionId:this.question._id,attemptId:a._id}).then(function(t){}).catch(function(t){}):axios.post("/updateattemptanswer",{surveyid:this.question.surveyid,userid:e._id,questionid:this.question._id,attemptid:a._id,answer:this.rating}).then(function(e){t.$parent.validatedform(!0);var a=window.surveyattemptid,s=localStorage.getItem("sconfig_"+a._id);"1"==(s=JSON.parse(s)).skipnext&&t.$parent.answersubmitted()}).catch(function(e){t.errors.push(e)})}},created:function(){var t=this;this.$parent.validatedform(!1),this.debouncedchangeScalelength=_.debounce(this.updateratinganswer,200);var e=window.surveyuser,a=window.surveyattemptid;axios.post("/getattemptanswer",{surveyid:this.ratingdata.surveyid,userid:e._id,questionid:this.ratingdata._id,attemptid:a._id}).then(function(e){1==e.data.status&&null!=e.data.data&&(t.$parent.validatedform(!0),t.rating=JSON.parse(e.data.data.answer))}).catch(function(e){t.errors.push(e)})},computed:{cmaxrate:function(){return parseInt(this.ratingdata.maxrate)}}},En={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"starrating"},[a("star-rating",{attrs:{rating:t.rating,"max-rating":t.cmaxrate,"star-size":t.starsize},on:{"rating-selected":t.changeratingdata}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.questionpotres,expression:"questionpotres"}],attrs:{type:"hidden"},domProps:{value:t.questionpotres},on:{input:function(e){e.target.composing||(t.questionpotres=e.target.value)}}})],1)},staticRenderFns:[]};var zn=a("VU/8")(Sn,En,!1,function(t){a("cPMI")},null,null).exports,On=a("bo9h"),Yn={props:["question"],data:function(){return{questionpotres:"",rules:{required:function(t){return!!t||"Required."},email:function(t){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)||"Invalid e-mail."}},answer:""}},methods:{animatenow:function(){this.validatedform(!0)},validatedform:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;"0"==this.question.required?""==this.answer||e.test(this.answer)?(this.$parent.validatedform(!0),On.ErrorInput("#email"+this.question._id,"success")):(t&&On.animateCSS("#email"+this.question._id,"shake"),this.$parent.validatedform(!1)):""!=this.answer&&e.test(this.answer)?(On.ErrorInput("#email"+this.question._id,"success"),this.$parent.validatedform(!0)):(On.ErrorInput("#email"+this.question._id,"error"),t&&On.animateCSS("#email"+this.question._id,"shake"),this.$parent.validatedform(!1))},updateattemptanswer:function(){var t=this;this.validatedform(!1);var e=window.surveyuser,a=window.surveyattemptid,s=localStorage.getItem("sconfig_"+a._id);"1"==(s=JSON.parse(s)).honeypot&&this.questionpotres.length>0?axios.post("/postbotresponse",{surveyId:this.question.surveyid,userId:e._id,questionId:this.question._id,attemptId:a._id}).then(function(t){}).catch(function(t){}):axios.post("/updateattemptanswer",{surveyid:this.question.surveyid,userid:e._id,questionid:this.question._id,attemptid:a._id,answer:this.answer}).then(function(t){}).catch(function(e){t.errors.push(e)})}},watch:{answer:function(t,e){this.debouncedupdateattemptanswer()}},created:function(){var t=this;this.debouncedupdateattemptanswer=_.debounce(this.updateattemptanswer,200);var e=window.surveyuser,a=window.surveyattemptid;axios.post("/getattemptanswer",{surveyid:this.question.surveyid,userid:e._id,questionid:this.question._id,attemptid:a._id}).then(function(e){1==e.data.status&&null!=e.data.data&&(t.answer=JSON.parse(e.data.data.answer)),t.validatedform()}).catch(function(e){t.errors.push(e)})}},Fn={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"emailinput"},[a("v-text-field",{attrs:{id:"email"+t.question._id,label:"Email: ",rules:[t.rules.email]},on:{blur:t.animatenow},model:{value:t.answer,callback:function(e){t.answer=e},expression:"answer"}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.questionpotres,expression:"questionpotres"}],attrs:{type:"hidden"},domProps:{value:t.questionpotres},on:{input:function(e){e.target.composing||(t.questionpotres=e.target.value)}}})],1)},staticRenderFns:[]};var Un=a("VU/8")(Yn,Fn,!1,function(t){a("pXAT")},"data-v-4b615386",null).exports,Qn=a("bo9h"),$n={props:["questiondata"],components:{VueHotelDatepicker:ce.a},data:function(){return{questionpotres:"",selecteddate:null,end:"",menu:!1,dateLength:parseInt(this.questiondata.length),question:this.questiondata}},methods:{animatenow:function(){this.validatedform(!0)},validatedform:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];"1"==this.questiondata.required&&""==this.selecteddate?(this.$parent.validatedform(!1),Qn.ErrorInput("#answer"+this.questiondata._id,"error"),t&&Qn.animateCSS("#answer"+this.questiondata._id,"shake")):(this.$parent.validatedform(!0),Qn.ErrorInput("#answer"+this.questiondata._id,"success"))},updatedate:function(t){console.log("selecteddate- ",t)},getValueAndPost:function(t){this.selecteddate=t.start+" to "+t.end},answerdateSelected:function(t){},updateattemptanswer:function(){var t=this;this.validatedform(!1);var e=window.surveyuser,a=window.surveyattemptid,s=localStorage.getItem("sconfig_"+a._id);"1"==(s=JSON.parse(s)).honeypot&&this.questionpotres.length>0?axios.post("/postbotresponse",{surveyId:this.questiondata.surveyid,userId:e._id,questionId:this.questiondata._id,attemptId:a._id}).then(function(t){}).catch(function(t){}):axios.post("/updateattemptanswer",{surveyid:this.questiondata.surveyid,userid:e._id,questionid:this.questiondata._id,attemptid:a._id,answer:this.selecteddate}).then(function(t){}).catch(function(e){t.errors.push(e)})}},watch:{selecteddate:function(t,e){this.debouncedupdateattemptanswer()}},created:function(){var t=this;this.debouncedupdateattemptanswer=_.debounce(this.updateattemptanswer,0);var e=window.surveyuser,a=window.surveyattemptid;axios.post("/getattemptanswer",{surveyid:this.questiondata.surveyid,userid:e._id,questionid:this.questiondata._id,attemptid:a._id}).then(function(e){1==e.data.status&&null!=e.data.data&&(t.selecteddate=JSON.parse(e.data.data.answer),t.validatedform())}).catch(function(e){t.errors.push(e)})}},Zn={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dateinput"},["1"==t.questiondata.qtype&&t.dateLength>=0?[t.questiondata.npsleft&&t.questiondata.npsright?[a("VueHotelDatepicker",{ref:"dateselector",attrs:{placeholder:""+(t.selecteddate?t.selecteddate:"select dates"),minDate:t.questiondata.npsleft,maxDate:t.questiondata.npsright,maxNight:t.dateLength,endDate:"13-02-2020",format:"DD-MM-YYYY"},on:{confirm:t.getValueAndPost,update:t.updatedate},model:{value:t.selecteddate,callback:function(e){t.selecteddate=e},expression:"selecteddate"}})]:[a("VueHotelDatepicker",{ref:"dateselector",attrs:{endDate:"13-02-2020",format:"DD-MM-YYYY",placeholder:""+(t.selecteddate?t.selecteddate:"select date"),maxNight:t.dateLength},on:{confirm:t.getValueAndPost,update:t.updatedate},model:{value:t.selecteddate,callback:function(e){t.selecteddate=e},expression:"selecteddate"}})]]:[a("v-date-picker",{model:{value:t.selecteddate,callback:function(e){t.selecteddate=e},expression:"selecteddate"}})]],2)},staticRenderFns:[]},Rn=a("VU/8")($n,Zn,!1,null,null,null).exports,Pn={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text_contact qtype"},[e("v-flex",{attrs:{xs12:""}},[e("v-text-field",{attrs:{label:"First Name"}})],1),this._v(" "),e("v-flex",{attrs:{xs12:""}},[e("v-text-field",{attrs:{label:"Last Name"}})],1),this._v(" "),e("v-flex",{attrs:{xs12:""}},[e("v-text-field",{attrs:{label:"Email"}})],1),this._v(" "),e("v-flex",{attrs:{xs12:""}},[e("v-text-field",{attrs:{label:"Phone"}})],1),this._v(" "),e("v-flex",{attrs:{xs12:""}},[e("v-text-field",{attrs:{label:"Address..."}})],1)],1)},staticRenderFns:[]},Gn=a("VU/8")({props:["contactform"],data:function(){return{questiontext:this.contactform.questiontext}}},Pn,!1,null,null,null).exports,Jn=a("bo9h"),Wn={props:["matrixdata"],data:function(){return{allrows:this.matrixdata.allrows,allcols:this.matrixdata.allcols,ansno1:this.ansno,answer:0,errormessagebox:"",questionpotres:"",messagebox:"",radioans:[]}},methods:{animatenow:function(){this.validatedform(!0)},validatedform:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if("1"==this.matrixdata.required){this.$parent.validatedform(!1);var a=!0;this.matrixdata.allrows.forEach(function(s){"0"==t.matrixdata.qtype?0==s.radioans.length?(t.$parent.validatedform(!1),a=!1,Jn.ErrorInput("#subanswer"+s._id,"error"),e&&Jn.animateCSS("#subanswer"+s._id,"shake")):Jn.ErrorInput("#subanswer"+s._id,"success"):0==s.checkboxans.length?(t.$parent.validatedform(!1),a=!1,Jn.ErrorInput("#subanswer"+s._id,"error"),e&&Jn.animateCSS("#subanswer"+s._id,"shake")):Jn.ErrorInput("#subanswer"+s._id,"success")}),a&&this.$parent.validatedform(!0)}else this.$parent.validatedform(!0),Jn.ErrorInput(".subanswer","success")},change_answer:function(){this.debouncedupdateattemptanswer()},updateattemptanswer:function(){var t=this;this.validatedform();var e=window.surveyuser,a=window.surveyattemptid,s=[];if("0"==this.matrixdata.qtype?this.matrixdata.allrows.forEach(function(t){""!=t.radioans&&s.push({rowid:t._id,selected:t.radioans})}):this.matrixdata.allrows.forEach(function(t){0!=t.checkboxans.length&&s.push({rowid:t._id,selected:t.checkboxans})}),"0"==this.matrixdata.required||this.matrixdata.allrows.length==s.length){var i=localStorage.getItem("sconfig_"+a._id);"1"==(i=JSON.parse(i)).honeypot&&this.questionpotres.length>0?axios.post("/postbotresponse",{surveyId:this.matrixdata.surveyid,userId:e._id,questionId:this.matrixdata._id,attemptId:a._id}).then(function(t){}).catch(function(t){}):axios.post("/updateattemptanswer",{surveyid:this.matrixdata.surveyid,userid:e._id,questionid:this.matrixdata._id,attemptid:a._id,answer:s}).then(function(t){}).catch(function(e){t.errors.push(e)})}},generateoption:function(){var t=this.matrixdata.qtype,e=this.matrixdata.allrows;e.forEach(function(a,s){"0"==t?e[s].radioans="":e[s].checkans=[]}),this.matrixdata.allrows=e},clearmsg:function(){this.errormessagebox="",this.messagebox=""}},created:function(){var t=this;this.$parent.validatedform(!0),this.debouncedupdateattemptanswer=_.debounce(this.updateattemptanswer,500),this.debouncedclearmsg=_.debounce(this.clearmsg,2e3);var e=window.surveyuser,a=window.surveyattemptid;axios.post("/getattemptanswer",{surveyid:this.matrixdata.surveyid,userid:e._id,questionid:this.matrixdata._id,attemptid:a._id}).then(function(e){1==e.data.status&&null!=e.data.data&&(t.answer=JSON.parse(e.data.data.answer),t.allrows.forEach(function(e,a){t.answer.forEach(function(s){"0"==t.matrixdata.qtype?e._id==s.rowid&&(t.allrows[a].radioans=s.selected):e._id==s.rowid&&(t.allrows[a].checkboxans=s.selected)})}),t.validatedform())}).catch(function(t){})},watch:{errormessagebox:function(t,e){""!=this.errormessagebox&&this.debouncedclearmsg()},messagebox:function(t,e){""!=this.messagebox&&this.debouncedclearmsg()}}},Hn={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"matrizquestion"},[""!=t.errormessagebox?a("div",{staticClass:"messagebox error"},[t._v(t._s(t.errormessagebox))]):t._e(),t._v(" "),""!=t.messagebox?a("div",{staticClass:"messagebox "},[t._v(t._s(t.messagebox))]):t._e(),t._v(" "),a("table",{staticClass:"table",staticStyle:{"background-color":"transparent"}},[a("tr",{staticClass:"matrixheader"},[a("td"),t._v(" "),t._l(t.matrixdata.allcols,function(e,s){return a("td",{key:"header"+s,staticClass:"text-center"},[t._v(t._s(e.option))])})],2),t._v(" "),t._l(t.allrows,function(e,s){return[a("tr",{key:"qq"+s,staticClass:"matrixsinglerow subanswer",attrs:{id:"subanswer"+e._id}},[a("th",{staticClass:"matrow"},[t._v(t._s(e.option))]),t._v(" "),t._l(t.matrixdata.allcols,function(i,n){return a("td",{key:"question"+s+n,staticClass:"text-center matcols"},["0"==t.matrixdata.qtype?a("v-radio-group",{staticClass:"matrix_radio",on:{change:t.change_answer},model:{value:e.radioans,callback:function(a){t.$set(e,"radioans",a)},expression:"row.radioans"}},[a("v-radio",{attrs:{label:i.option,value:i._id}})],1):a("v-checkbox",{attrs:{label:i.option,value:i._id},on:{change:t.change_answer},model:{value:e.checkboxans,callback:function(a){t.$set(e,"checkboxans",a)},expression:"row.checkboxans"}})],1)})],2)]})],2),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.questionpotres,expression:"questionpotres"}],attrs:{type:"hidden"},domProps:{value:t.questionpotres},on:{input:function(e){e.target.composing||(t.questionpotres=e.target.value)}}})])},staticRenderFns:[]},Bn=a("VU/8")(Wn,Hn,!1,null,null,null).exports,Vn=a("bo9h"),Xn={props:["customformdata","question"],data:function(){return{questionpotres:"",formdata:this.customformdata,rules:{email:function(t){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)||"Invalid e-mail."},number:function(t){return/^[1-9][0-9]*$/.test(t)||"Invalid Number."}},answer:[]}},methods:{animatenow:function(){this.validatedform(!0)},validatedform:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if("1"==this.question.required){this.$parent.validatedform(!1);var a=!0;this.question.customformdata.forEach(function(s){var i=t.answer.find(function(t){return t.id===s._id});if(i)if(""==i.answer)s.required?(t.$parent.validatedform(!1),a=!1,Vn.ErrorInput("#subanswer"+s._id,"error"),e&&Vn.animateCSS("#subanswer"+s._id,"shake")):Vn.ErrorInput("#subanswer"+s._id,"success");else if("Email"==s.type){/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(i.answer)?Vn.ErrorInput("#subanswer"+s._id,"success"):(t.$parent.validatedform(!1),a=!1,Vn.ErrorInput("#subanswer"+s._id,"error"),e&&Vn.animateCSS("#subanswer"+s._id,"shake"))}else if("Number"==s.type){/^[1-9][0-9]*$/.test(i.answer)?Vn.ErrorInput("#subanswer"+s._id,"success"):(t.$parent.validatedform(!1),a=!1,Vn.ErrorInput("#subanswer"+s._id,"error"),e&&Vn.animateCSS("#subanswer"+s._id,"shake"))}else Vn.ErrorInput("#subanswer"+s._id,"success");else s.required&&(a=!1,Vn.ErrorInput("#subanswer"+s._id,"error"),e&&Vn.animateCSS("#subanswer"+s._id,"shake"))}),a&&this.$parent.validatedform(!0)}else this.$parent.validatedform(!0),Vn.ErrorInput(".subanswer","success")},getorigwidth:function(t){var e="xs12";switch(t){case"8.3%":e="xs1";break;case"16.6%":e="xs2";break;case"25%":e="xs3";break;case"33.3%":e="xs4";break;case"41.6%":e="xs5";break;case"50%":e="xs6";break;case"58.3%":e="xs7";break;case"66.6%":e="xs8";break;case"75%":e="xs9";break;case"83.3%":e="xs10";break;case"91.6%":e="xs11";break;case"100%":e="xs12"}return e},getanswer:function(t){var e=this,a=0;this.answer.forEach(function(s,i){s.id==event.target.dataset.id&&(a=1,e.answer[i].answer=t)}),0==a&&this.answer.push({id:event.target.dataset.id,answer:t}),this.debouncedupdateattemptanswer()},updateattemptanswer:function(){var t=this,e=window.surveyuser,a=window.surveyattemptid,s=localStorage.getItem("sconfig_"+a._id);"1"==(s=JSON.parse(s)).honeypot&&this.questionpotres.length>0?axios.post("/postbotresponse",{surveyId:this.question.surveyid,userId:e._id,questionId:this.question._id,attemptId:a._id}).then(function(t){}).catch(function(t){}):axios.post("/updateattemptanswer",{surveyid:this.question.surveyid,userid:e._id,questionid:this.question._id,attemptid:a._id,answer:this.answer}).then(function(t){}).catch(function(e){t.errors.push(e)})},setoldanswer:function(t){var e="";return this.answer.forEach(function(a){a.id==t&&(e=a.answer)}),e}},created:function(){var t=this;this.debouncedupdateattemptanswer=_.debounce(this.updateattemptanswer,200);var e=window.surveyuser,a=window.surveyattemptid;axios.post("/getattemptanswer",{surveyid:this.question.surveyid,userid:e._id,questionid:this.question._id,attemptid:a._id}).then(function(e){1==e.data.status&&null!=e.data.data&&(t.answer=JSON.parse(e.data.data.answer),t.validatedform())}).catch(function(e){t.errors.push(e)})}},Kn={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"customform"},[a("v-layout",{attrs:{row:"",wrap:""}},t._l(t.question.customformdata,function(e,s){return a("div",{key:"element"+s,class:"flex "+t.getorigwidth(e.width)},[a("div",{staticClass:"Custom_element"},["Number"==e.type?a("v-text-field",{staticClass:"subanswer",attrs:{"data-type":"number",id:"subanswer"+e._id,value:t.setoldanswer(e._id),"data-id":e._id,label:e.title},on:{blur:t.animatenow,input:t.getanswer}}):t._e(),t._v(" "),"Text"==e.type?a("v-text-field",{staticClass:"subanswer",attrs:{id:"subanswer"+e._id,value:t.setoldanswer(e._id),"data-id":e._id,label:e.title},on:{blur:t.animatenow,input:t.getanswer}}):t._e(),t._v(" "),"Textarea"==e.type?a("v-text-field",{staticClass:"subanswer",attrs:{id:"subanswer"+e._id,value:t.setoldanswer(e._id),"data-id":e._id,label:e.title},on:{blur:t.animatenow,input:t.getanswer}}):t._e(),t._v(" "),"Phone"==e.type?a("v-text-field",{staticClass:"subanswer",attrs:{id:"subanswer"+e._id,value:t.setoldanswer(e._id),"data-id":e._id,label:e.title},on:{blur:t.animatenow,input:t.getanswer}}):t._e(),t._v(" "),"Time"==e.type?a("v-text-field",{staticClass:"subanswer",attrs:{id:"subanswer"+e._id,value:t.setoldanswer(e._id),"data-id":e._id,label:e.title,mask:"time"},on:{blur:t.animatenow,input:t.getanswer}}):t._e(),t._v(" "),"Email"==e.type?a("v-text-field",{staticClass:"subanswer",attrs:{id:"subanswer"+e._id,value:t.setoldanswer(e._id),"data-id":e._id,rules:[t.rules.email],label:e.title},on:{blur:t.animatenow,input:t.getanswer}}):t._e(),t._v(" "),"textarea"==e.type?a("textarea",{staticClass:"xs12textarea",attrs:{"data-id":e._id,placeholder:""+e.title,rows:"8"},domProps:{value:t.setoldanswer(e._id)},on:{input:t.getanswer}}):t._e(),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.questionpotres,expression:"questionpotres"}],attrs:{type:"hidden"},domProps:{value:t.questionpotres},on:{input:function(e){e.target.composing||(t.questionpotres=e.target.value)}}})],1)])}),0)],1)},staticRenderFns:[]};var to=a("VU/8")(Xn,Kn,!1,function(t){a("FW8I")},"data-v-20679f81",null).exports,eo={props:["questiondata"],data:function(){return{questionpotres:"",selectedfile:"",menu:!1}},methods:{sendImageFile:function(){var t=this;return Tt()(Lt.a.mark(function e(){var a,s,i,n,o,r,c;return Lt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.$refs.file.files[0],(s=new FormData).append("file",a),e.prev=3,i=window.surveyuser,n=window.surveyattemptid,o=localStorage.getItem("sconfig_"+n._id),"1"!=(o=JSON.parse(o)).honeypot){e.next=19;break}if(!(t.questionpotres.length>0)){e.next=13;break}axios.post("/postbotresponse",{surveyId:t.questiondata.surveyid,userId:i._id,questionId:t.questiondata._id,attemptId:n._id}).then(function(t){}).catch(function(t){}),e.next=17;break;case 13:return e.next=15,axios.post("/upload",s);case 15:r=e.sent,axios.post("/updateattemptanswer",{surveyid:t.questiondata.surveyid,userid:i._id,questionid:t.questiondata._id,attemptid:n._id,answer:r.data.file}).then(function(e){t.selectedfile=r.data.file}).catch(function(t){});case 17:e.next=23;break;case 19:return e.next=21,axios.post("/upload",s);case 21:c=e.sent,axios.post("/updateattemptanswer",{surveyid:t.questiondata.surveyid,userid:i._id,questionid:t.questiondata._id,attemptid:n._id,answer:c.data.file}).then(function(e){t.selectedfile=c.data.file}).catch(function(t){});case 23:e.next=27;break;case 25:e.prev=25,e.t0=e.catch(3);case 27:case"end":return e.stop()}},e,t,[[3,25]])}))()}},watch:{},created:function(){var t=this;this.$parent.validatedform(!0);var e=window.surveyuser,a=window.surveyattemptid;axios.post("/getattemptanswer",{surveyid:this.questiondata.surveyid,userid:e._id,questionid:this.questiondata._id,attemptid:a._id}).then(function(e){1==e.data.status&&null!=e.data.data&&(t.selectedfile=JSON.parse(e.data.data.answer))}).catch(function(e){t.errors.push(e)})},computed:{questionfinalimage:function(){return"<a target='_blink' href='"+window.publicfileurl+this.selectedfile+"'>"+this.selectedfile.substring(this.selectedfile.indexOf("_")+1)+"</a>"}}},ao={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"fileuplad_component"},[""!=t.selectedfile?a("div",{staticClass:"uploadedfile"},[a("div",{staticClass:"uploadfilebutton"},[a("v-icon",[t._v("attach_file")]),t._v(" "),a("div",{domProps:{innerHTML:t._s(t.questionfinalimage)}})],1)]):t._e(),t._v(" "),a("div",{staticClass:"fileupload"},[a("form",{staticClass:"form_dropzone",attrs:{enctype:"multipart/form-data"}},[a("div",{staticClass:"dropzone"},[a("div",[a("input",{ref:"file",staticClass:"file-upload-input",attrs:{type:"file"},on:{change:t.sendImageFile}}),t._v(" "),a("p",{staticClass:"call-to-action"},[t._v("Drag your file here")])])])])]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.questionpotres,expression:"questionpotres"}],attrs:{type:"hidden"},domProps:{value:t.questionpotres},on:{input:function(e){e.target.composing||(t.questionpotres=e.target.value)}}})])},staticRenderFns:[]},so=a("VU/8")(eo,ao,!1,null,null,null).exports,io={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"preview_slider"},[e("v-spacer"),this._v(" "),e("v-carousel",this._l(this.items,function(t,a){return e("v-carousel-item",{key:a,attrs:{src:t.src}})}),1)],1)},staticRenderFns:[]};var no=a("VU/8")({props:["sliderdata"],data:function(){return{questiontext:this.sliderdata.questiontext,items:this.sliderdata.links}}},io,!1,function(t){a("PfNI")},"data-v-758a9a1a",null).exports,oo=a("bo9h"),ro={props:["allchoice","question"],data:function(){return{choices:[],answer:null,allrank:[],selectedanswer:[],questionpotres:""}},methods:{validatedform:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if("1"==this.question.required){this.$parent.validatedform(!1);var a=!0;this.choices.forEach(function(s){var i=t.selectedanswer.find(function(t){return t.option===s._id});i?""==i.rank?(t.$parent.validatedform(!1),a=!1,oo.ErrorInput("#subanswer"+s._id,"error"),e&&oo.animateCSS("#subanswer"+s._id,"shake")):oo.ErrorInput("#subanswer"+s._id,"success"):(a=!1,oo.ErrorInput("#subanswer"+s._id,"error"),e&&oo.animateCSS("#subanswer"+s._id,"shake"))}),a&&this.$parent.validatedform(!0)}else this.$parent.validatedform(!0),oo.ErrorInput(".subanswer","success")},mapdata:function(t){var e=this,a=event.srcElement.innerText,s=this.choices[t],i=[];this.choices.forEach(function(t,n){t.answer==a&&t._id!=s._id&&(e.choices[n].answer="",t.answer=""),t._id==s._id&&(t.answer=a),i.push({option:t._id,rank:t.answer})}),this.selectedanswer=i,this.validatedform(!0),this.debouncedupdateattemptanswer()},updateattemptanswer:function(){var t=this,e=window.surveyuser,a=window.surveyattemptid,s=localStorage.getItem("sconfig_"+a._id);"1"==(s=JSON.parse(s)).honeypot&&this.questionpotres.length>0?axios.post("/postbotresponse",{surveyId:this.question.surveyid,userId:e._id,questionId:this.question._id,attemptId:a._id}).then(function(t){}).catch(function(t){}):axios.post("/updateattemptanswer",{surveyid:this.question.surveyid,userid:e._id,questionid:this.question._id,attemptid:a._id,answer:this.selectedanswer}).then(function(t){}).catch(function(e){t.errors.push(e)})}},created:function(){var t=this;this.debouncedupdateattemptanswer=_.debounce(this.updateattemptanswer,200);var e=1;this.allrank.push("");var a=window.surveyuser,s=window.surveyattemptid;axios.post("/getattemptanswer",{surveyid:this.question.surveyid,userid:a._id,questionid:this.question._id,attemptid:s._id}).then(function(a){1==a.data.status&&(a.data.data&&(t.selectedanswer=JSON.parse(a.data.data.answer)),t.allchoice.forEach(function(a){t.allrank.push(e),e++;var s=t.selectedanswer.find(function(t){return t.option==a._id}),i="";s&&(i=parseInt(s.rank)),t.choices.push({_id:a._id,questionid:a.questionid,choicestate:a.choicestate,choicetext:a.choicetext,answer:i})}),t.validatedform())}).catch(function(t){console.log("e- ",t)})}},co={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Ranking-options"},[t._l(t.choices,function(e,s){return[a("v-layout",{key:s,staticClass:"rating-row",attrs:{id:"subanswer"+e._id}},[a("v-flex",{attrs:{xs1:""}},[a("v-select",{staticClass:"rankselector",attrs:{items:t.allrank,label:""},on:{change:function(e){return t.mapdata(s)}},model:{value:e.answer,callback:function(a){t.$set(e,"answer",a)},expression:"choice.answer"}})],1),t._v(" "),a("v-flex",{attrs:{xs11:""}},[t._v("\n                "+t._s(e.choicetext)+"\n            ")])],1)]}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.questionpotres,expression:"questionpotres"}],attrs:{type:"hidden"},domProps:{value:t.questionpotres},on:{input:function(e){e.target.composing||(t.questionpotres=e.target.value)}}})],2)},staticRenderFns:[]},lo=a("VU/8")(ro,co,!1,null,null,null).exports,uo={props:["npsdata"],data:function(){return{question:this.npsdata,selected:null,questionpotres:""}},methods:{changenspdata:function(t){this.selected=t,this.debouncedupdatenpsanswer()},updatenpsanswer:function(){var t=this,e=window.surveyuser,a=window.surveyattemptid,s=(this.npsdata.response,localStorage.getItem("sconfig_"+a._id));"1"==(s=JSON.parse(s)).honeypot&&this.questionpotres.length>0?axios.post("/postbotresponse",{surveyId:this.npsdata.surveyid,userId:e._id,questionId:this.npsdata._id,attemptId:a._id}).then(function(t){}).catch(function(t){}):axios.post("/updateattemptanswer",{surveyid:this.npsdata.surveyid,userid:e._id,questionid:this.npsdata._id,attemptid:a._id,answer:parseInt(this.selected)}).then(function(e){t.$parent.validatedform(!0)}).catch(function(e){t.errors.push(e)})}},created:function(){var t=this;this.$parent.validatedform(!1),this.debouncedupdatenpsanswer=_.debounce(this.updatenpsanswer,200);var e=window.surveyuser,a=window.surveyattemptid;this.npsdata.response;axios.post("/getattemptanswer",{surveyid:this.npsdata.surveyid,userid:e._id,questionid:this.npsdata._id,attemptid:a._id}).then(function(e){1==e.data.status&&null!=e.data.data&&(t.$parent.validatedform(!0),t.selected=JSON.parse(e.data.data.answer))}).catch(function(e){t.errors.push(e)})}},po={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"npsquestion"},[a("v-btn-toggle",{model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[a("v-btn",{staticClass:"npsbtn",on:{click:function(e){return t.changenspdata(0)}}},[t._v("0")]),t._v(" "),a("v-btn",{staticClass:"npsbtn",on:{click:function(e){return t.changenspdata(1)}}},[t._v("1")]),t._v(" "),a("v-btn",{staticClass:"npsbtn",on:{click:function(e){return t.changenspdata(2)}}},[t._v("2")]),t._v(" "),a("v-btn",{staticClass:"npsbtn",on:{click:function(e){return t.changenspdata(3)}}},[t._v("3")]),t._v(" "),a("v-btn",{staticClass:"npsbtn",on:{click:function(e){return t.changenspdata(4)}}},[t._v("4")]),t._v(" "),a("v-btn",{staticClass:"npsbtn",on:{click:function(e){return t.changenspdata(5)}}},[t._v("5")]),t._v(" "),a("v-btn",{staticClass:"npsbtn",on:{click:function(e){return t.changenspdata(6)}}},[t._v("6")]),t._v(" "),a("v-btn",{staticClass:"npsbtn",on:{click:function(e){return t.changenspdata(7)}}},[t._v("7")]),t._v(" "),a("v-btn",{staticClass:"npsbtn",on:{click:function(e){return t.changenspdata(8)}}},[t._v("8")]),t._v(" "),a("v-btn",{staticClass:"npsbtn",on:{click:function(e){return t.changenspdata(9)}}},[t._v("9")]),t._v(" "),a("v-btn",{staticClass:"npsbtn",on:{click:function(e){return t.changenspdata(10)}}},[t._v("10")])],1),t._v(" "),a("div",{staticClass:"npsscales"},[a("span",{staticClass:"npsscale text-left"},[t._v(t._s(t.question.npsleft))]),t._v(" "),a("span",{staticClass:"npsscale text-middle"},[t._v(t._s(t.question.npsmiddle))]),t._v(" "),a("span",{staticClass:"npsscale text-right"},[t._v(t._s(t.question.npsright))])]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.questionpotres,expression:"questionpotres"}],attrs:{type:"hidden"},domProps:{value:t.questionpotres},on:{input:function(e){e.target.composing||(t.questionpotres=e.target.value)}}})],1)},staticRenderFns:[]};var vo=a("VU/8")(uo,po,!1,function(t){a("S6U5")},"data-v-2d2c5111",null).exports,ho={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-layout",[e("v-flex",{attrs:{xs12:""}},[e("h2",{staticClass:"section-heading no-background"},[e("span",[this._v(" "+this._s(this.sectiondata.questiontext))])])])],1)},staticRenderFns:[]};var mo,fo=a("VU/8")({props:["sectiondata"]},ho,!1,function(t){a("rHOH")},"data-v-31fc9c12",null).exports,go={props:["questiondata"],components:{displayheading:fo},data:function(){return{question:this.questiondata,questionno:this.qno,jumpdata:null}},methods:{questionfinalimage:function(t){return window.publicfileurl+t}}},yo={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[null!=t.question?a("v-layout",[a("v-flex",{attrs:{xs12:""}},["sectionheading"===t.question.questiontype?a("displayheading",{attrs:{sectiondata:t.question}}):"descriptionbox"==t.question.questiontype?a("div",{staticClass:"descriptionbox"},[a("div",{domProps:{innerHTML:t._s(t.question.description)}}),t._v(" "),""!=t.question.image&&"1"==t.question.haveimage?a("div",{staticClass:"questionimagepreview"},[a("img",{staticClass:"img-question",attrs:{src:t.questionfinalimage(t.question.image)}})]):t._e()]):t._e()],1)],1):t._e()],1)},staticRenderFns:[]},_o=a("VU/8")(go,yo,!1,null,null,null).exports,xo={props:["pindex","practice"],data:function(){return{isnewemail:!0,isnewphone:!0,isnewfax:!0,isnewwebsite:!0,newemail:[],newphone:[],newfax:[],newwebsite:[],practicedata:null,contactAnswer:"",finalContactData:[],contactData:[],isnewaddress:!1,autocompleteOptions:{componentRestrictions:{country:"au"}},fromregion:"",addressformat:{name:"",state:"",country:"",address:"",mmm:"",gpdivision:"",telephone1:"",addresstype:"",suburb:"",facilitytype:"",trainingprgm:"",emailaddress1:"",postcode:"",addressline1:"",addressline2:"",addressline3:"",rideidentifier:""}}},computed:{google:Ce.gmapApi},methods:{removepractice:function(){this.$emit("removepractice",{index:this.pindex})},addnewphone:function(){this.isnewphone=!1,this.practicedata.phone.push(""),this.isnewphone=!0},removephone:function(t){this.isnewemail=!1,this.practicedata.phone.splice(t,1),this.isnewemail=!0},updatephone:function(t){this.practicedata.phone[t]=this.newphone[t],this.debouncedsendbackdata()},addnewemail:function(){this.isnewemail=!1,this.practicedata.email.push(""),this.isnewemail=!0},removeemail:function(t){this.isnewemail=!1,this.practicedata.email.splice(t,1),this.isnewemail=!0},updateemail:function(t){this.practicedata.email[t]=this.newemail[t],this.debouncedsendbackdata()},addnewfax:function(){this.isnewfax=!1,this.practicedata.fax.push(""),this.isnewfax=!0},removefax:function(t){this.isnewfax=!1,this.practicedata.fax.splice(t,1),this.isnewfax=!0},updatefax:function(t){this.practicedata.fax[t]=this.newfax[t],this.debouncedsendbackdata()},addnewwebsite:function(){this.isnewwebsite=!1,this.practicedata.website.push(""),this.isnewwebsite=!0},removewebsite:function(t){this.isnewwebsite=!1,this.practicedata.website.splice(t,1),this.isnewwebsite=!0},updatewebsite:function(t){this.practicedata.website[t]=this.newwebsite[t],this.debouncedsendbackdata()},addnewaddress:function(){this.isnewaddress=!0},removeaddress:function(t){this.isnewaddress=!1,this.practicedata.address.splice(t,1),this.isnewaddress=!0},sendbackdata:function(){this.$emit("datachanged",{index:this.pindex,data:this.practicedata})},changeregion:function(t){for(var e={},a=0;a<t.address_components.length;a++){var s=t.address_components[a];e[s.types[0]]=s}"country"in e&&(this.addressformat.country=e.country.long_name),"administrative_area_level_1"in e&&(this.addressformat.state=e.administrative_area_level_1.long_name),"postal_code"in e&&(this.addressformat.postcode=e.postal_code.long_name),"administrative_area_level_1"in e&&(this.suburb=e.long_name),"route"in e&&"locality"in e&&"street_number"in e&&(this.addressformat.addressline1=e.street_number.long_name+", "+e.route.long_name+", "+e.locality.long_name),this.addressformat.address=t.formatted_address,this.addressformat.addresstype=t.types[0],this.addressformat.name=this.practicedata.name,this.practicedata.address.push(this.addressformat),this.resetaddress(),this.isnewaddress=!1},resetaddress:function(){this.addressformat={name:"",state:"",country:"",address:"",mmm:"",gpdivision:"",telephone1:"",addresstype:"",suburb:"",facilitytype:"",trainingprgm:"",emailaddress1:"",postcode:"",addressline1:"",addressline2:"",addressline3:"",rideidentifier:""}},mapalldata:function(){this.practicedata=this.practice,this.newemail=this.practicedata.email,this.newphone=this.practicedata.phone,this.newfax=this.practicedata.fax,this.newwebsite=this.practicedata.website}},watch:{isnewemail:function(t,e){this.debouncedsendbackdata()},isnewphone:function(t,e){this.debouncedsendbackdata()},isnewaddress:function(t,e){this.debouncedsendbackdata()},practice:function(t,e){this.mapalldata()}},created:function(){this.debouncedsendbackdata=_.debounce(this.sendbackdata,1e3),this.mapalldata()}},bo={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"practiceform"},[null!=t.practicedata?[a("v-layout",{staticClass:"practicename"},[a("v-flex",{attrs:{xs10:""}},[a("h2",[t._v(t._s(t.practice.name))])]),t._v(" "),a("v-flex",{attrs:{xs2:""}},[a("v-btn",{staticClass:"icon30 delete ",attrs:{depressed:"",fab:""},on:{click:function(e){return t.removepractice()}}},[a("v-icon",[t._v("delete")])],1)],1)],1),t._v(" "),t.isnewemail?a("div",{staticClass:"practicefield"},[t.practicedata.email.length>0?t._l(t.practicedata.email,function(e,s){return a("v-layout",{key:s},[a("v-flex",{attrs:{xs3:""}},[0==s?a("strong",[t._v("Email")]):t._e()]),t._v(" "),a("v-flex",{attrs:{xs5:""}},[a("v-text-field",{on:{input:function(e){return t.updateemail(s)}},model:{value:t.newemail[s],callback:function(e){t.$set(t.newemail,s,e)},expression:"newemail[index]"}})],1),t._v(" "),a("v-flex",{attrs:{xs3:""}},[s==t.practicedata.email.length-1?a("v-btn",{staticClass:"icon30 edit ",attrs:{depressed:"",fab:""},on:{click:t.addnewemail}},[a("v-icon",[t._v("add")])],1):t._e(),t._v(" "),t.practicedata.email.length>1?a("v-btn",{staticClass:"icon30 delete ",attrs:{depressed:"",fab:""},on:{click:function(e){return t.removeemail(s)}}},[a("v-icon",[t._v("delete")])],1):t._e()],1)],1)}):[a("v-layout",[a("v-flex",{attrs:{xs3:""}},[a("strong",[t._v("Email")])]),t._v(" "),a("v-flex",{attrs:{xs5:""}}),t._v(" "),a("v-flex",{attrs:{xs3:""}},[a("v-btn",{staticClass:"icon30 edit ",attrs:{depressed:"",fab:""},on:{click:t.addnewemail}},[a("v-icon",[t._v("add")])],1)],1)],1)]],2):t._e(),t._v(" "),t.isnewphone?a("div",{staticClass:"practicefield"},[t.practicedata.phone.length>0?t._l(t.practicedata.phone,function(e,s){return a("v-layout",{key:s},[a("v-flex",{attrs:{xs3:""}},[0==s?a("strong",[t._v("Phone")]):t._e()]),t._v(" "),a("v-flex",{attrs:{xs5:""}},[a("v-text-field",{on:{input:function(e){return t.updatephone(s)}},model:{value:t.newphone[s],callback:function(e){t.$set(t.newphone,s,e)},expression:"newphone[index]"}})],1),t._v(" "),a("v-flex",{attrs:{xs3:""}},[s==t.practicedata.phone.length-1?a("v-btn",{staticClass:"icon30 edit ",attrs:{depressed:"",fab:""},on:{click:t.addnewphone}},[a("v-icon",[t._v("add")])],1):t._e(),t._v(" "),t.practicedata.phone.length>1?a("v-btn",{staticClass:"icon30 delete ",attrs:{depressed:"",fab:""},on:{click:function(e){return t.removephone(s)}}},[a("v-icon",[t._v("delete")])],1):t._e()],1)],1)}):[a("v-layout",[a("v-flex",{attrs:{xs3:""}},[a("strong",[t._v("Phone")])]),t._v(" "),a("v-flex",{attrs:{xs5:""}}),t._v(" "),a("v-flex",{attrs:{xs3:""}},[a("v-btn",{staticClass:"icon30 edit ",attrs:{depressed:"",fab:""},on:{click:t.addnewphone}},[a("v-icon",[t._v("add")])],1)],1)],1)]],2):t._e(),t._v(" "),t.isnewfax?a("div",{staticClass:"practicefield"},[t.practicedata.fax.length>0?t._l(t.practicedata.fax,function(e,s){return a("v-layout",{key:s},[a("v-flex",{attrs:{xs3:""}},[0==s?a("strong",[t._v("Fax")]):t._e()]),t._v(" "),a("v-flex",{attrs:{xs5:""}},[a("v-text-field",{on:{input:function(e){return t.updatefax(s)}},model:{value:t.newfax[s],callback:function(e){t.$set(t.newfax,s,e)},expression:"newfax[index]"}})],1),t._v(" "),a("v-flex",{attrs:{xs3:""}},[s==t.practicedata.fax.length-1?a("v-btn",{staticClass:"icon30 edit ",attrs:{depressed:"",fab:""},on:{click:t.addnewfax}},[a("v-icon",[t._v("add")])],1):t._e(),t._v(" "),t.practicedata.fax.length>1?a("v-btn",{staticClass:"icon30 delete ",attrs:{depressed:"",fab:""},on:{click:function(e){return t.removefax(s)}}},[a("v-icon",[t._v("delete")])],1):t._e()],1)],1)}):[a("v-layout",[a("v-flex",{attrs:{xs3:""}},[a("strong",[t._v("Fax")])]),t._v(" "),a("v-flex",{attrs:{xs5:""}}),t._v(" "),a("v-flex",{attrs:{xs3:""}},[a("v-btn",{staticClass:"icon30 edit ",attrs:{depressed:"",fab:""},on:{click:t.addnewfax}},[a("v-icon",[t._v("add")])],1)],1)],1)]],2):t._e(),t._v(" "),t.isnewwebsite?a("div",{staticClass:"practicefield"},[t.practicedata.website.length>0?t._l(t.practicedata.website,function(e,s){return a("v-layout",{key:s},[a("v-flex",{attrs:{xs3:""}},[0==s?a("strong",[t._v("Website")]):t._e()]),t._v(" "),a("v-flex",{attrs:{xs5:""}},[a("v-text-field",{on:{input:function(e){return t.updatewebsite(s)}},model:{value:t.newwebsite[s],callback:function(e){t.$set(t.newwebsite,s,e)},expression:"newwebsite[index]"}})],1),t._v(" "),a("v-flex",{attrs:{xs3:""}},[s==t.practicedata.website.length-1?a("v-btn",{staticClass:"icon30 edit ",attrs:{depressed:"",fab:""},on:{click:t.addnewwebsite}},[a("v-icon",[t._v("add")])],1):t._e(),t._v(" "),t.practicedata.website.length>1?a("v-btn",{staticClass:"icon30 delete ",attrs:{depressed:"",fab:""},on:{click:function(e){return t.removewebsite(s)}}},[a("v-icon",[t._v("delete")])],1):t._e()],1)],1)}):[a("v-layout",[a("v-flex",{attrs:{xs3:""}},[a("strong",[t._v("Website")])]),t._v(" "),a("v-flex",{attrs:{xs5:""}}),t._v(" "),a("v-flex",{attrs:{xs3:""}},[a("v-btn",{staticClass:"icon30 edit ",attrs:{depressed:"",fab:""},on:{click:t.addnewwebsite}},[a("v-icon",[t._v("add")])],1)],1)],1)]],2):t._e(),t._v(" "),a("div",{staticClass:"practicefield"},[t.practicedata.address.length>0?t._l(t.practicedata.address,function(e,s){return a("v-layout",{key:s,staticClass:"addressfiled"},[a("v-flex",{attrs:{xs3:""}},[a("strong",[t._v("Address"+t._s(s+1))])]),t._v(" "),a("v-flex",{attrs:{xs5:""}},[e.addressline1?a("v-text-field",{on:{input:t.debouncedsendbackdata},model:{value:e.addressline1,callback:function(a){t.$set(e,"addressline1",a)},expression:"item.addressline1"}}):t._e(),t._v(" "),e.addressline2?a("v-text-field",{on:{input:t.debouncedsendbackdata},model:{value:e.addressline2,callback:function(a){t.$set(e,"addressline2",a)},expression:"item.addressline2"}}):t._e(),t._v(" "),e.addressline3?a("v-text-field",{on:{input:t.debouncedsendbackdata},model:{value:e.addressline3,callback:function(a){t.$set(e,"addressline3",a)},expression:"item.addressline3"}}):t._e(),t._v(" "),e.suburb?a("v-text-field",{on:{input:t.debouncedsendbackdata},model:{value:e.suburb,callback:function(a){t.$set(e,"suburb",a)},expression:"item.suburb"}}):t._e(),t._v(" "),e.state?a("v-text-field",{on:{input:t.debouncedsendbackdata},model:{value:e.state,callback:function(a){t.$set(e,"state",a)},expression:"item.state"}}):t._e(),t._v(" "),e.country?a("v-text-field",{on:{input:t.debouncedsendbackdata},model:{value:e.country,callback:function(a){t.$set(e,"country",a)},expression:"item.country"}}):t._e(),t._v(" "),e.postcode?a("v-text-field",{on:{input:t.debouncedsendbackdata},model:{value:e.postcode,callback:function(a){t.$set(e,"postcode",a)},expression:"item.postcode"}}):t._e()],1),t._v(" "),a("v-flex",{attrs:{xs3:""}},[s==t.practicedata.address.length-1?a("v-btn",{staticClass:"icon30 edit ",attrs:{depressed:"",fab:""},on:{click:t.addnewaddress}},[a("v-icon",[t._v("add")])],1):t._e(),t._v(" "),t.practicedata.address.length>1?a("v-btn",{staticClass:"icon30 delete ",attrs:{depressed:"",fab:""},on:{click:function(e){return t.removeaddress(s)}}},[a("v-icon",[t._v("delete")])],1):t._e()],1)],1)}):t._e(),t._v(" "),1==t.isnewaddress||0==t.practicedata.address.length?[a("v-layout",[a("v-flex",{attrs:{xs3:""}},[a("strong",[t._v("Address")])]),t._v(" "),a("v-flex",{attrs:{xs5:""}},[t.isnewaddress?a("gmap-autocomplete",{staticClass:"suburbsearch ",attrs:{id:"el-input__inner"+t.pindex,placeholder:"Search",options:t.autocompleteOptions,value:t.fromregion},on:{place_changed:t.changeregion}}):t._e()],1),t._v(" "),a("v-flex",{attrs:{xs3:""}},[a("v-btn",{staticClass:"icon30 edit ",attrs:{depressed:"",fab:""},on:{click:t.addnewaddress}},[a("v-icon",[t._v("add")])],1)],1)],1)]:t._e()],2),t._v(" "),a("div",{staticClass:"practicefield"},[a("v-layout",[a("v-flex",{attrs:{xs3:""}},[a("strong",[t._v("Accreditation")])]),t._v(" "),a("v-flex",{attrs:{xs4:""}},[t._v("Start Date: "),t.practicedata.accreditian?[t._v(t._s(t.practicedata.accreditian.gpex_accreditationdatefrom))]:t._e()],2),t._v(" "),a("v-flex",{attrs:{xs4:""}},[t._v("End Date: "),t.practicedata.accreditian?[t._v(t._s(t.practicedata.accreditian.gpex_accreditationdateto))]:t._e()],2)],1)],1)]:t._e()],2)},staticRenderFns:[]},qo=a("VU/8")(xo,bo,!1,null,null,null).exports,wo={props:["question"],components:{ModelListSelect:we.ModelListSelect,practice:qo},data:function(){return{thisquestion:this.question,contactInfoData:[],contactAnswer:"",finalContactData:[],contactData:[],showCard:!1,isloaded:!1,questionpotres:"",finalAnswer:[],addressformat:{name:"",state:"",country:"",address:"",mmm:"",gpdivision:"",telephone1:"",addresstype:"",suburb:"",facilitytype:"",trainingprgm:"",emailaddress1:"",postcode:"",addressline1:"",addressline2:"",addressline3:"",rideidentifier:""}}},methods:{updateserveranswer:function(){var t=this,e=window.surveyuser,a=window.surveyattemptid,s=localStorage.getItem("sconfig_"+a._id);s=JSON.parse(s),localStorage.setItem("Updatedatatable","1"),"1"==s.honeypot&&this.questionpotres.length>0?axios.post("/postbotresponse",{surveyId:this.question.surveyid,userId:e._id,questionId:this.question._id,attemptId:a._id}).then(function(t){}).catch(function(t){}):axios.post("/updateattemptanswer",{surveyid:this.question.surveyid,userid:e._id,questionid:this.question._id,attemptid:a._id,answer:this.contactData}).then(function(e){t.$emit("contactinfochnaged",null)}).catch(function(e){t.errors.push(e)})},practiceupdated:function(t){this.contactData[t.index]=t.data,this.updateserveranswer()},removepractice:function(t){this.isloaded=!1,this.contactData.splice(t.index,1),this.updateserveranswer(),this.isloaded=!0},changequestionselection:function(){var t=this;return Tt()(Lt.a.mark(function e(){var a,s;return Lt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.contactInfoData.findIndex(function(e){return e.id==t.contactAnswer}),e.next=3,t.contactInfoData[a];case 3:(s=e.sent).email=t.getallemail(s.addressdata,[]),s.fax=[],s.website=[],s.phone=t.getallphone(s.addressdata,[]),s.address=t.getalladdress(s.addressdata,[]),s.employee=[],t.contactData.push(s),t.updateserveranswer();case 12:case"end":return e.stop()}},e,t)}))()},getallemail:function(t,e){return Array.isArray(t)&&t.forEach(function(t){t.emailaddress1&&!e.includes(t.emailaddress1)&&e.push(t.emailaddress1)}),e},getallphone:function(t,e){return Array.isArray(t)&&t.forEach(function(t){t.telephone1&&!e.includes(t.telephone1)&&e.push(t.telephone1)}),e},getalladdress:function(t,e){var a=this;return Array.isArray(t)&&t.forEach(function(t){t.name&&(a.addressformat.name=t.name),a.addressformat.state=a.getgpexname(t.state),a.addressformat.address=a.getgpexname(t.address),a.addressformat.country=a.getgpexname(t.country),a.addressformat.mmm=t.gpex_mmm,a.addressformat.gpdivision=a.getgpexname(t.gpdivision),a.addressformat.telephone1=t.telephone1,a.addressformat.addresstype=a.getgpexname(t.addresstype),a.addressformat.suburb=t.gpex_suburb,a.addressformat.facilitytype=a.getgpexname(t.facilitytype),a.addressformat.trainingprgm=a.getgpexname(t.trainingprgm),a.addressformat.emailaddress1=t.emailaddress1,a.addressformat.postcode=t.gpex_postcode,a.addressformat.addressline1=t.gpex_addressline1,a.addressformat.addressline2=t.gpex_addressline2,a.addressformat.addressline3=t.gpex_addressline3,a.addressformat.rideidentifier=t.gpex_rideidentifier,e.push(a.addressformat),a.resetaddress()}),e},getgpexname:function(t){var e=[];return t.length>0&&t.forEach(function(t){e.push(t.gpex_name)}),e.join(", ")},removeElement:function(t){this.contactData.splice(t,1)},resetaddress:function(){this.addressformat={name:"",state:"",country:"",address:"",mmm:"",gpdivision:"",telephone1:"",addresstype:"",suburb:"",facilitytype:"",trainingprgm:"",emailaddress1:"",postcode:"",addressline1:"",addressline2:"",addressline3:"",rideidentifier:""}}},created:function(){var t=this,e=window.surveyattemptid;axios.post("/contactinfo").then(function(e){t.contactInfoData=JSON.parse(e.data.data)}).catch(function(t){}),this.isloaded=!1,axios.post("/getattemptanswer",{questionid:this.question._id,attemptid:e._id}).then(function(e){t.isloaded=!0,e.data.data&&e.data.data.answer&&(t.contactData=JSON.parse(e.data.data.answer))}).catch(function(t){})}},Co={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("model-list-select",{attrs:{list:t.contactInfoData,"option-value":"id","option-text":"name",placeholder:"select"},on:{input:t.changequestionselection},model:{value:t.contactAnswer,callback:function(e){t.contactAnswer=e},expression:"contactAnswer"}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.questionpotres,expression:"questionpotres"}],attrs:{type:"hidden"},domProps:{value:t.questionpotres},on:{input:function(e){e.target.composing||(t.questionpotres=e.target.value)}}}),t._v(" "),t._l(t.contactData,function(e,s){return[t.isloaded?a("practice",{key:"cinfo"+s,attrs:{pindex:s,practice:e},on:{datachanged:t.practiceupdated,removepractice:t.removepractice}}):t._e()]})],2)},staticRenderFns:[]},Mo=a("VU/8")(wo,Co,!1,null,null,null).exports,Io={props:["dataCol","practices","answer","tindex"],data:function(){return{allAnswers:[],selected:-1,finalAnswer:this.answer.finalAnswer,dialog:!1,questionpotres:"",errors:[]}},methods:{saveData:function(){var t=Ae()({},this.allAnswers);this.selected<0?this.finalAnswer.push(t):this.finalAnswer[this.selected]=t,this.allAnswers=[],this.dialog=!1,this.selected=-1,this.debouncedsendbackdata()},removeElement:function(t){this.finalAnswer.splice(t,1)},openEditor:function(t){this.allAnswers=Ae()({},this.finalAnswer[t]),this.dialog=!0,this.selected=t},sendbackdata:function(){this.$emit("datachanged",{index:this.tindex,data:this.finalAnswer})}},created:function(){this.debouncedsendbackdata=_.debounce(this.sendbackdata,1e3)}},ko={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"datatablequestion"},[a("h2",{staticClass:"practicename"},[t._v(t._s(t.answer.practicename))]),t._v(" "),a("table",{staticClass:"dtable table",staticStyle:{"background-color":"transparent"}},[a("tr",{staticClass:"tableheader"},[t._l(t.dataCol.allcols,function(e,s){return a("th",{key:"header"+s,staticClass:"text-center"},[t._v(t._s(e.option))])}),t._v(" "),a("th",{staticClass:"text-center"})],2),t._v(" "),t.finalAnswer.length>0?[t._l(t.finalAnswer,function(e,s){return[a("tr",{key:"datarow"+s,staticClass:"tabledata"},[t._l(t.dataCol.allcols,function(s,i){return a("td",{key:i,staticClass:"text-center"},[t._v(t._s(e[s._id]))])}),t._v(" "),a("td",{staticStyle:{width:"80px"}},[a("v-btn",{staticClass:"icon30 edit ",attrs:{depressed:"",fab:""},on:{click:function(e){return t.openEditor(s)}}},[a("v-icon",[t._v("edit")])],1),t._v(" "),a("v-btn",{staticClass:"icon30 delete ",attrs:{depressed:"",fab:""},on:{click:function(e){return t.removeElement(s)}}},[a("v-icon",[t._v("delete")])],1)],1)],2)]})]:t._e()],2),t._v(" "),a("div",{staticClass:"my-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.questionpotres,expression:"questionpotres"}],attrs:{type:"hidden"},domProps:{value:t.questionpotres},on:{input:function(e){e.target.composing||(t.questionpotres=e.target.value)}}}),t._v(" "),a("v-btn",{staticClass:"icon30  add",attrs:{depressed:"",fab:""},on:{click:function(e){t.dialog=!0}}},[a("v-icon",[t._v("add")])],1)],1),t._v(" "),a("div",{attrs:{justify:"center"}},[a("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[t._v("Editable Profile")]),t._v(" "),a("v-card-text",[a("v-container",[a("div",t._l(t.dataCol.allcols,function(e){return a("div",{key:e._id},[a("div",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{label:e.option,required:""},model:{value:t.allAnswers[e._id],callback:function(a){t.$set(t.allAnswers,e._id,a)},expression:"allAnswers[col._id]"}})],1)])}),0)])],1),t._v(" "),a("v-divider"),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:t.saveData}},[t._v("Save")]),t._v(" "),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.dialog=!1}}},[t._v("Close")])],1)],1)],1)],1)])},staticRenderFns:[]},jo={components:{dtable:a("VU/8")(Io,ko,!1,null,null,null).exports},props:["question","ciChangecount"],data:function(){return{allAnswers:[],allpractice:[],finalAnswer:[],dialog:!1,isloaded:!1,this_ciChangecount:this.ciChangecount,questionpotres:"",infoconnected:this.question.qtype.length>10?1:0,errors:[],currentanswer:[]}},methods:{getallPractice:function(){var t=this;localStorage.setItem("Updatedatatable","");var e=window.surveyattemptid;this.isloaded=!1,axios.post("/getattemptanswer",{questionid:this.question.qtype,attemptid:e._id}).then(function(e){e.data.data?e.data.data.answer&&(t.allpractice=JSON.parse(e.data.data.answer),t.getcurrentquestionanswer()):(t.allpractice=[],t.getcurrentquestionanswer())}).catch(function(e){t.errors.push(e)})},getcurrentquestionanswer:function(){var t=this,e=window.surveyattemptid;axios.post("/getattemptanswer",{questionid:this.question._id,attemptid:e._id}).then(function(e){e.data.data&&e.data.data.answer?t.currentanswer=JSON.parse(e.data.data.answer):t.currentanswer=[],t.mergeallanswer()}).catch(function(e){t.errors.push(e)})},mergeallanswer:function(){var t=this,e=[];1==this.infoconnected?this.allpractice.forEach(function(a){var s=t.currentanswer.find(function(t){return t.practice==a.id});s?e.push(s):e.push({practice:a.id,practicename:a.name,finalAnswer:[]})}):this.currentanswer.length>0?e[0]=this.currentanswer[0]:e[0]={practice:"",practicename:"",finalAnswer:[]},this.allAnswers=e,this.isloaded=!0,this.updateserveranswer()},tableupdated:function(t){var e=this.allAnswers[t.index];e.finalAnswer=t.data,this.allAnswers[t.index]=e,this.updateserveranswer()},updateserveranswer:function(){var t=this,e=window.surveyuser,a=window.surveyattemptid,s=localStorage.getItem("sconfig_"+a._id);"1"==(s=JSON.parse(s)).honeypot&&this.questionpotres.length>0?axios.post("/postbotresponse",{surveyId:this.question.surveyid,userId:e._id,questionId:this.question._id,attemptId:a._id}).then(function(t){}).catch(function(t){}):axios.post("/updateattemptanswer",{surveyid:this.question.surveyid,userid:e._id,questionid:this.question._id,attemptid:a._id,answer:this.allAnswers}).then(function(t){}).catch(function(e){t.errors.push(e)})}},watch:{allAnswers:function(t,e){},ciChangecount:function(t,e){this.debouncedgetallPractice()}},created:function(){this.debouncedupdateserveranswer=_.debounce(this.updateserveranswer,3e3),this.debouncedgetallPractice=_.debounce(this.getallPractice,2e3),this.getallPractice()}},No={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"datatable"},[1==t.infoconnected?[t._l(t.allAnswers,function(e,s){return[t.isloaded?a("dtable",{key:"dtable"+s,attrs:{tindex:s,dataCol:t.question,practices:t.allpractice,answer:e},on:{datachanged:t.tableupdated}}):t._e()]})]:t.allAnswers.length>0?[t.isloaded?a("dtable",{attrs:{dataCol:t.question,tindex:0,practices:t.allpractice,answer:t.allAnswers[0]},on:{datachanged:t.tableupdated}}):t._e()]:t._e()],2)},staticRenderFns:[]},Do=a("VU/8")(jo,No,!1,null,null,null).exports,Lo=x()({props:["questiondata","qno","ciChangecount"],components:(mo={question:en,multichoice:on,singlechoice:ln,dropdown:hn,textinput:yn,multitextinput:qn,ratescale:Mn,vtextarea:Nn,numberinput:Tn,ratingstars:zn,emailtextbox:Un,dateinput:Rn,contactform:Gn,slider:no,matrixquestion:Bn,customform:to,fileupload:so,questionextra:_o,ranking:lo,nps:vo,contactInfo:Mo,dataTable:Do,ModelListSelect:we.ModelListSelect},x()(mo,"contactInfo",Mo),x()(mo,"dataTable",Do),mo),data:function(){return{question:null,questionno:this.qno,jumpdata:null,commenttext:""}},watch:{questionno:function(t,e){},questiondata:function(t,e){return this.questiondata}},methods:{answersubmitted:function(){this.$parent.answersubmitted()},contactinfochnaged:function(){this.$emit("contactinfochnaged",null)},saveComment:function(){this.debouncedSaveFinalComment()},saveFinalComment:function(){var t=window.surveyattemptid;axios.post("/submitquestioncomments",{questionid:this.questiondata._id,attemptid:t._id,commenttext:this.commenttext}).then(function(t){}).catch(function(t){console.log(t)})},validatedform:function(t){this.$parent.validatedform(t)},sendImageFile:function(){var t=this;return Tt()(Lt.a.mark(function e(){var a,s,i,n,o;return Lt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.$refs.file.files[0],(s=new FormData).append("file",a),e.prev=3,e.next=6,axios.post("/upload",s);case 6:i=e.sent,n=window.surveyuser,o=window.surveyattemptid,axios.post("/updateattemptanswer",{surveyid:t.questiondata.surveyid,userid:n._id,questionid:t.questiondata._id,attemptid:o._id,answer:i.data.file}).then(function(e){t.fileuploaded=a}).catch(function(t){console.log(t)}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.log(e.t0);case 15:case"end":return e.stop()}},e,t,[[3,12]])}))()}},created:function(){var t=this;this.debouncedSaveFinalComment=_.debounce(this.saveFinalComment,500);var e=window.surveyattemptid;axios.post("/getquestion",{questionid:this.questiondata._id}).then(function(a){t.question=a.data.data,axios.post("/getalllogicjump",{questionid:t.question._id}).then(function(e){t.jumpdata=e.data}),axios.post("/getquestioncomments",{questionid:t.questiondata._id,attemptid:e._id}).then(function(e){e.data&&(t.commenttext=e.data.comment)})})},computed:{questionfinalimage:function(){return this.question.image.indexOf("://")>0?this.question.image:window.publicfileurl+this.question.image}}},"watch",{questiondata:function(t,e){return this.question=this.questiondata,this.questiondata},qno:function(t,e){return this.questionno=this.qno,this.questionno}}),Ao={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"finalquestion"},[null!=t.question?[t._l(t.questiondata.extras,function(t,e){return[a("questionextra",{key:"questionextra"+e,attrs:{questiondata:t}})]}),t._v(" "),a("v-layout",[a("v-flex",{staticClass:"finalquestionindex",attrs:{xs1:""}},["qtypeslider"!=t.question.questiontype?[a("span",[t._v(t._s(t.questionno+1)+". "),"1"==t.question.required?a("i",{staticClass:"ico_requiredquestion fa fa-asterisk",attrs:{title:"Required"}}):t._e()])]:t._e()],2),t._v(" "),a("v-flex",{attrs:{xs11:"",questionbox:""}},[a("question",{attrs:{questiontext:t.question.questiontext,qno:t.questionno}}),t._v(" "),t.question.imagefirst?[""!=t.question.image&&"1"==t.question.haveimage?a("div",{staticClass:"finalquestionimage"},[a("img",{staticClass:"img-question",attrs:{src:t.questionfinalimage}})]):t._e(),t._v(" "),"1"==t.question.havedescription?a("div",{staticClass:"finalquestiondescription",domProps:{innerHTML:t._s(t.question.description)}}):t._e()]:["1"==t.question.havedescription?a("div",{staticClass:"finalquestiondescription",domProps:{innerHTML:t._s(t.question.description)}}):t._e(),t._v(" "),""!=t.question.image&&"1"==t.question.haveimage?a("div",{staticClass:"finalquestionimage"},[a("img",{staticClass:"img-question",attrs:{src:t.questionfinalimage}})]):t._e()],t._v(" "),"multic"==t.question.questiontype?a("div",{staticClass:"multichoice"},[a("multichoice",{attrs:{question:t.question}})],1):t._e(),t._v(" "),"singlec"==t.question.questiontype?a("div",{staticClass:"singlechoice"},[a("singlechoice",{attrs:{question:t.question}})],1):t._e(),t._v(" "),"ranking"==t.question.questiontype?a("div",{staticClass:"ranking"},[a("ranking",{attrs:{allchoice:t.question.choice,question:t.question}})],1):t._e(),t._v(" "),"dropdown"==t.question.questiontype?a("div",{staticClass:"drop-down"},[a("dropdown",{attrs:{allchoice:t.question.choice,question:t.question,qno:t.questionno}})],1):t._e(),t._v(" "),"multipletext"==t.question.questiontype?a("div",{staticClass:"multipletext"},[a("multitextinput",{attrs:{alltextinput:t.question.choice,question:t.question,qno:t.questionno}})],1):t._e(),t._v(" "),"singletext"==t.question.questiontype?a("div",{staticClass:"singletext"},[a("textinput",{attrs:{textinput:t.question,qno:t.questionno}})],1):t._e(),t._v(" "),"commenttext"==t.question.questiontype?a("div",{staticClass:"commenttext"},[a("vtextarea",{attrs:{textinput:t.question,qno:t.questionno}})],1):t._e(),t._v(" "),"numbertext"==t.question.questiontype?a("div",{staticClass:"numbertext"},[a("numberinput",{attrs:{maskformat:t.question.maskformat,question:t.question,qno:t.questionno}})],1):t._e(),t._v(" "),"ratescal"==t.question.questiontype?a("div",{staticClass:"ratescal"},[a("ratescale",{attrs:{ratingdata:t.question}})],1):t._e(),t._v(" "),"nps"==t.question.questiontype?a("nps",{attrs:{npsdata:t.question}}):t._e(),t._v(" "),"ratestars"==t.question.questiontype?a("div",{staticClass:"ratestars"},[a("ratingstars",{attrs:{ratingdata:t.question}})],1):t._e(),t._v(" "),"emailtext"==t.question.questiontype?a("div",{staticClass:"ratestars"},[a("emailtextbox",{attrs:{question:t.question,qno:t.questionno}})],1):t._e(),t._v(" "),"qtypedatetime"==t.question.questiontype?a("div",{staticClass:"qtypedatetime"},[a("dateinput",{attrs:{questiondata:t.question}})],1):t._e(),t._v(" "),"contacttext"==t.question.questiontype?a("div",{staticClass:"contacttext"},[a("contactform",{attrs:{contactform:t.question}})],1):t._e(),t._v(" "),"qtypeslider"==t.question.questiontype?a("div",{staticClass:"qtypeslider"},[a("slider",{attrs:{sliderdata:t.question}})],1):t._e(),t._v(" "),"matrixquestion"==t.question.questiontype?a("div",{staticClass:"matrixquestion"},[a("matrixquestion",{attrs:{matrixdata:t.question}})],1):t._e(),t._v(" "),"customform"==t.question.questiontype?a("div",{staticClass:"customform"},[a("customform",{attrs:{customformdata:t.question.customformdata,question:t.question}})],1):t._e(),t._v(" "),"fileupload"==t.question.questiontype?a("div",{staticClass:"fileuploadtype"},[a("fileupload",{attrs:{questiondata:t.question}})],1):t._e(),t._v(" "),"contactInfo"==t.question.questiontype?a("div",{staticClass:"fileuploadtype"},[a("contactInfo",{attrs:{question:t.question},on:{contactinfochnaged:t.contactinfochnaged}})],1):t._e(),t._v(" "),"dataTable"==t.question.questiontype?a("div",{staticClass:"fileuploadtype"},[a("dataTable",{attrs:{ciChangecount:t.ciChangecount,question:t.question}})],1):t._e(),t._v(" "),1==t.question.havecomment?a("div",[""!=t.question.commenttext?a("div",{},[a("label",[t._v(t._s(t.question.commenttext))]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.commenttext,expression:"commenttext"}],staticClass:"xs12textarea resize",domProps:{value:t.commenttext},on:{input:[function(e){e.target.composing||(t.commenttext=e.target.value)},t.saveComment]}})]):a("div",{},[a("label",[t._v("Enter comment here")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.commenttext,expression:"commenttext"}],staticClass:"xs12textarea resize",domProps:{value:t.commenttext},on:{input:[function(e){e.target.composing||(t.commenttext=e.target.value)},t.saveComment]}})])]):t._e()],2)],1)]:t._e()],2)},staticRenderFns:[]};var To=a("VU/8")(Lo,Ao,!1,function(t){a("CBbl")},null,null).exports,So={props:["question","qno","ciChangecount"],components:{finalqestion:To,displayheading:fo},data:function(){return{currentquestion:this.question,messagebox:""}},methods:{contactinfochnaged:function(){this.$emit("contactinfochnaged",null)},answersubmitted:function(){this.$parent.answersubmitted()},finishSurvey:function(){this.messagebox="Submitted",this.debouncedclearmsg()},clearmsg:function(){this.messagebox=""},validatedform:function(t){this.$parent.validatedform(t)}},created:function(){this.debouncedclearmsg=_.debounce(this.clearmsg,2e3),"descriptionbox"==this.question.questiontype&&this.$parent.validatedform(!0)},watch:{currentquestion:function(t,e){return this.currentquestion},question:function(t,e){return this.currentquestion=this.question,this.question}}},Eo={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"responceform",attrs:{id:"responceform"}},[a("div",{staticClass:"questionblock"},["sectionheading"===t.question.questiontype?a("displayheading",{attrs:{sectiondata:t.question}}):"pagebreak"===t.question.questiontype?a("v-divider"):"descriptionbox"==t.question.questiontype?a("div",{staticClass:"descriptionbox"},[a("v-layout",[a("v-flex",{staticClass:"finalquestionindex",attrs:{xs1:""}}),t._v(" "),a("v-flex",{attrs:{xs11:"",questionbox:""}},[a("div",{domProps:{innerHTML:t._s(t.question.description)}})])],1)],1):""!==t.question.questiontext||"qtypeslider"==t.question.questiontype?a("finalqestion",{attrs:{ciChangecount:t.ciChangecount,questiondata:t.question,qno:t.qno},on:{contactinfochnaged:t.contactinfochnaged}}):t._e()],1)])},staticRenderFns:[]},zo=a("VU/8")(So,Eo,!1,null,null,null).exports,Oo={data:function(){return{sitekey:"6LfEnsUUAAAAAGYEP2VYf74EHzoN4QB3MwrA6L30",widgetId:0}},methods:{execute:function(){window.grecaptcha.execute(this.widgetId)},reset:function(){window.grecaptcha.reset(this.widgetId)},render:function(){var t=this;window.grecaptcha&&(this.widgetId=window.grecaptcha.render("g-recaptcha",{sitekey:this.sitekey,callback:function(e){t.$emit("verify",e)}}))}},mounted:function(){this.render()}},Yo={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"g-recaptcha",attrs:{id:"g-recaptcha","data-sitekey":this.sitekey}})},staticRenderFns:[]},Fo=a("VU/8")(Oo,Yo,!1,null,null,null).exports,Uo=(localStorage.username,new Date,{components:{finalqestion:To,displayheading:fo,mobileresponse:zo,Recaptcha:Fo},data:function(){return{id:null,rerender:1,ciChangecount:0,attemptid:this.$route.params.id,semesterid:"staticsemesterid",currentuser:"0",builderarray:[],finalbuilderarray:[],questiontypes:["multic","singlec","ratescal","ratestars","qtypeslider","qtypedatetime","dropdown","matrixquestion","singletext","multipletext","commenttext","numbertext","customform","emailtext","fileupload","ranking","nps","contactInfo","dataTable","thankyoupage"],questiontomerge:["sectionheading","descriptionbox"],questionorder:[],workflows:[],prevquestion:-1,currentquestion:0,nextquestion:1,havelogicjump:0,currentquestiondata:null,messagebox:"",errormessagebox:"",is_submitted:!1,surveyconfig:null,surveydata:null,readytodisplay:!0,progressdata:"",prevq:null,validated:!1,currentq:0,currentqdata:null,nextq:null,cuerrentjump:null,singlequestionhistory:[],thankyounotes:[],jumptype1:["","multic","singlec","dropdown"],jumptype2:["","numbertext","ratestars","ratescal"],scrolled:0,navstyle:0,sitekey:"",recaptchaToken:"",mythankyou:"",errors:[],choosedQuestion:[]}},methods:{answersubmitted:function(){this.nextquestion<this.finalbuilderarray.length?this.changequestion(this.nextquestion):this.finishSurvey()},questionfinalimage:function(t){return window.publicfileurl+t},validatedform:function(t){this.validated=t},startNewattempt:function(){o.a.post("/attemptsurvey",{surveyid:this.id,userid:this.currentuser,semesterid:this.semesterid}).then(function(t){window.surveyattemptid=t.data.data,location.href="/surveyresponse/"+t.data.data._id})},finishSurvey:function(){var t=this;if(""==this.mythankyou){if(!this.validated)return void(this.errormessagebox="Please answer all required question");if(!this.recaptchaToken&&1==this.surveyconfig.recaptcha)return void(this.errormessagebox="please verify you are human (RECAPTCHA)")}o.a.post("/checkallquestionattempt",{attemptid:this.attemptid,surveyid:this.id,token:this.recaptchaToken}).then(function(e){if("1"!=e.data&&"0"==t.surveyconfig.display&&0==t.havelogicjump)t.errormessagebox="Please answer all required question.";else if("1"!=t.surveyconfig.recaptcha)o.a.post("/finishattempt",{attemptid:t.attemptid,token:"token",mythankyou:t.mythankyou}).then(function(e){if(null!=e.data){t.messagebox="Submitted",t.debouncedclearmsg();var a=t.choosedQuestion,s=t.currentuser,i=t.errors;t.finalbuilderarray.filter(function(t){a.some(function(e){t.surveyid===e.survey&&t._id===e.question_Id&&o()({method:"POST",url:"/save_mandatoryweekfromitac",baseURL:"https://one.gpex.com.au/api",data:{userid:s,semesterid:e.semester,startdate:t.npsleft,enddate:t.npsright}}).then(function(t){console.log("one.gpex.com",t),alert(t)}).catch(function(t){console.log("one.gpex.com",t),i.push(t)})})}),1==t.surveyconfig.mode?Object(ss.setTimeout)(function(){t.startNewattempt()},1e3):location.href="/surveythankyou/"+t.attemptid}else t.errormessagebox="Unable to save Survey"});else{var a=t;o.a.post("/finishattempt",{attemptid:a.attemptid,token:t.recaptchaToken,mythankyou:t.mythankyou}).then(function(t){null!=t.data?(a.messagebox="Submitted",a.debouncedclearmsg(),1==a.surveyconfig.mode?Object(ss.setTimeout)(function(){a.startNewattempt()},1e3):location.href="/surveythankyou/"+a.attemptid):a.errormessagebox="Failed to validate submit request"})}})},clearmsg:function(){this.messagebox="",this.errormessagebox=""},changequestion:function(t){var e=this,a=this.currentquestiondata;if(this.currentquestion>t){if(this.singlequestionhistory.length>0)return this.singlequestionhistory.splice(this.singlequestionhistory.length-1,1),this.prevquestion=this.singlequestionhistory[this.singlequestionhistory.length-1],Object(ss.setTimeout)(function(){e.onlychangequestion(t)},100),0}else if("descriptionbox"==a.questiontype)return Object(ss.setTimeout)(function(){e.onlychangequestion(t)},100),0;this.validated?o.a.post("/getattemptanswer",{surveyid:this.id,userid:this.currentuser,questionid:this.currentquestiondata._id,attemptid:this.attemptid}).then(function(s){var i=s.data.data;if("1"==e.currentquestiondata.required){if(null==i)return void(e.errormessagebox="This question is required");var n="";if(i.answer&&(n=JSON.parse(i.answer)),0==n.length&&""!=i.otheranswer&&(n=i.otheranswer),0==n.length)e.messagebox="This question is required";else{if(!(e.jumptype1.indexOf(a.questiontype)>0||e.jumptype2.indexOf(a.questiontype)>0))return e.onlychangequestion(t),void(changed=1);o.a.post("/getalllogicjump",{questionid:a._id}).then(function(s){var i=s.data;if(i.length<0)return e.onlychangequestion(t),void(o=1);var o=0;return i.forEach(function(t){e.jumptype2.indexOf(a.questiontype)>0?""!=t.nextquestion&&""!=t.condition&&""!=t.answer&&0==t.goto&&(e.finalbuilderarray.forEach(function(a,s){if("<"==t.condition){if(a._id==t.nextquestion&&n<t.answer&&0==o)return e.onlychangequestion(s),void(o=1)}else if(">"==t.condition){if(a._id==t.nextquestion&&n>t.answer&&0==o)return e.onlychangequestion(s),void(o=1)}else if("="==t.condition){if(a._id==t.nextquestion&&n==t.answer&&0==o)return e.onlychangequestion(s),void(o=1)}else if("!="==t.condition&&a._id==t.nextquestion&&n!=t.answer&&0==o)return e.onlychangequestion(s),void(o=1)}),e.thankyounotes.forEach(function(a,s){if("<"==t.condition){if(a._id==t.nextquestion&&n<t.answer&&0==o)return e.mythankyou=a._id,e.finishSurvey(),void(o=1)}else if(">"==t.condition){if(a._id==t.nextquestion&&n>t.answer&&0==o)return e.mythankyou=a._id,e.finishSurvey(),void(o=1)}else if("="==t.condition){if(a._id==t.nextquestion&&n==t.answer&&0==o)return e.mythankyou=a._id,e.finishSurvey(),void(o=1)}else if("!="==t.condition&&a._id==t.nextquestion&&n!=t.answer&&0==o)return e.mythankyou=a._id,e.finishSurvey(),void(o=1)})):e.jumptype1.indexOf(a.questiontype)>0&&""!=t.nextquestion&&t.choiceid==n&&0==t.goto&&(e.finalbuilderarray.forEach(function(a,s){if(a._id==t.nextquestion&&0==o)return e.onlychangequestion(s),void(o=1)}),e.thankyounotes.forEach(function(a,s){if(a._id==t.nextquestion&&0==o)return e.mythankyou=a._id,e.finishSurvey(),void(o=1)}))}),0==o?(e.onlychangequestion(t),void(o=1)):void 0})}}else{if(null==i)return e.onlychangequestion(t),void(changed=1);n="";if(i.answer&&(n=JSON.parse(i.answer)),0==n.length&&""!=i.otheranswer&&(n=i.otheranswer),0==n.length)return e.onlychangequestion(t),void(changed=1);if(!(e.jumptype1.indexOf(a.questiontype)>0||e.jumptype2.indexOf(a.questiontype)>0))return e.onlychangequestion(t),void(changed=1);o.a.post("/getalllogicjump",{questionid:a._id}).then(function(s){var i=s.data;if(i.length<0)return e.onlychangequestion(t),void(o=1);var o=0;return i.forEach(function(t){e.jumptype2.indexOf(a.questiontype)>0?""!=t.nextquestion&&""!=t.condition&&""!=t.answer&&"0"==t.goto&&(e.finalbuilderarray.forEach(function(a,s){if("<"==t.nextquestion){if(a._id==t.nextquestion&&n<t.answer&&0==o)return e.onlychangequestion(s),void(o=1)}else if(">"==t.nextquestion){if(a._id==t.nextquestion&&n>t.answer&&0==o)return e.onlychangequestion(s),void(o=1)}else if("="==t.nextquestion){if(a._id==t.nextquestion&&n==t.answer&&0==o)return e.onlychangequestion(s),void(o=1)}else if("!="==t.nextquestion&&a._id==t.nextquestion&&n!=t.answer&&0==o)return e.onlychangequestion(s),void(o=1)}),e.thankyounotes.forEach(function(a,s){if("<"==t.nextquestion){if(a._id==t.nextquestion&&n<t.answer&&0==o)return e.mythankyou=a._id,e.finishSurvey(),void(o=1)}else if(">"==t.nextquestion){if(a._id==t.nextquestion&&n>t.answer&&0==o)return e.mythankyou=a._id,e.finishSurvey(),void(o=1)}else if("="==t.nextquestion){if(a._id==t.nextquestion&&n==t.answer&&0==o)return e.mythankyou=a._id,e.finishSurvey(),void(o=1)}else if("!="==t.nextquestion&&a._id==t.nextquestion&&n!=t.answer&&0==o)return e.mythankyou=a._id,e.finishSurvey(),void(o=1)})):e.jumptype1.indexOf(a.questiontype)>0&&""!=t.nextquestion&&t.choiceid==n&&0==t.goto&&(e.finalbuilderarray.forEach(function(a,s){if(a._id==t.nextquestion&&0==o)return o=1,e.onlychangequestion(s),0}),e.thankyounotes.forEach(function(a,s){if(a._id==t.nextquestion&&0==o)return e.mythankyou=a._id,e.finishSurvey(),void(o=1)}))}),0==o?(e.onlychangequestion(t),void(o=1)):void 0})}}).catch(function(t){}):this.errormessagebox="Invalid Answer"},onlychangequestion:function(t){var e=this;this.validated=!1,this.currentquestion<t&&(this.singlequestionhistory.push(this.currentquestion),this.prevquestion=this.currentquestion),0==t&&(this.prevquestion=-1),this.currentquestion=t;var a=this.finalbuilderarray[t];this.currentquestiondata=this.finalbuilderarray[t],"thankyoupage"==a.questiontype?(this.mythankyou=a._id,this.finishSurvey()):(this.currentquestiondata=a,this.nextquestion=t+1,this.readytodisplay=!1,Object(ss.setTimeout)(function(){e.readytodisplay=!0},500),this.getprogress())},getsurveyimage:function(t){return""==t||null==t?"https://source.unsplash.com/collection/4728778/1600x900/":t.indexOf("unsplash.com")>=0?t:window.publicfileurl+t},getquestionno:function(t){for(var e=0,a=0;a<this.finalbuilderarray.length&&!(a>=t);a++){var s=this.finalbuilderarray[a];"welcomepage"==s.questiontype||"thankyoupage"==s.questiontype||"sectionheading"==s.questiontype||"pagebreak"==s.questiontype||"descriptionbox"==s.questiontype||"qtypeslider"==s.questiontype||""!=s.questiontext&&(e+=1)}return e},totalquestion:function(){for(var t=0,e=0;e<this.finalbuilderarray.length;e++){var a=this.finalbuilderarray[e];"welcomepage"==a.questiontype||"thankyoupage"==a.questiontype||"sectionheading"==a.questiontype||"pagebreak"==a.questiontype||"descriptionbox"==a.questiontype||"qtypeslider"==a.questiontype||""!=a.questiontext&&(t+=1)}return t},getprogress:function(){this.debouncedgetprogress_interval()},getprogress_interval:function(){var t=this,e=this.totalquestion();o.a.post("/totalattempt",{attemptid:this.attemptid}).then(function(a){var s=a.data;window.at_total=e,window.at_attempted=e,t.progressdata='<div class="progress-bar_timeline" style="position: absolute; top: 0px; width: '+s/e*100+'%;"></div><span class="sr-only_timeline spcll " style="font-weight: 500;"> '+s+" out of "+e+" completed </span>"})},handleScroll:function(t){this.scrolled=window.scrollY},handleResize:function(t){window.innerWidth<=768?this.navstyle=1:this.navstyle=0},submit:function(t){this.recaptchaToken=t},executeRecaptcha:function(){this.$refs.recaptcha.execute()}},created:function(){var t=this;localStorage.setItem("attemptemail",""),localStorage.setItem("attemptuserid",""),this.sitekey=window.recaptch_sitekey,window.innerWidth<=768&&(this.navstyle=1),this.debouncedclearmsg=_.debounce(this.clearmsg,2e3),this.debouncedgetprogress_interval=_.debounce(this.getprogress_interval,2e3),this.debouncedgetprogress=_.debounce(this.getprogress,2e3),""==this.attemptid||void 0==this.attemptid?this.$router.push("/"):(o.a.post("/getattemptsurvey",{attemptid:this.attemptid}).then(function(e){null==e.data&&t.$router.push("/"),1==e.data.state&&t.$router.push("/surveythankyou/"+t.attemptid);var a=localStorage.getItem("loginuser");console.log("aaaa",a),a||(localStorage.setItem("loginuser",e.data.userid),o.a.defaults.headers.post.loginuser=localStorage.getItem("loginuser")),window.surveyattemptid=e.data,t.id=e.data.surveyid,o.a.post("/getalllogicjumpfromsurvey",{surveyid:t.id}).then(function(e){t.havelogicjump=e.data.length}),o.a.post("/getsurvey",{surveyid:e.data.surveyid}).then(function(e){t.surveydata=e.data}),o.a.post("/getallworkflow",{surveyid:e.data.surveyid}).then(function(e){t.workflows=e.data}),o.a.post("/getallwelcomethankyoudataforlogic",{surveyid:e.data.surveyid,datatype:"thankyoupage"}).then(function(e){null==e.data||(t.thankyounotes=e.data)}),o.a.post("/getsurveyconfig",{surveyid:t.id}).then(function(e){null==e.data||(t.surveyconfig=e.data.data,localStorage.setItem("sconfig_"+t.attemptid,j()(t.surveyconfig)),"1"!=t.surveyconfig.active&&t.$router.push("/swtl/"+t.id))}).catch(function(e){t.errors.push(e)}),t.currentuser=e.data.userid,o.a.post("/getuserbyid",{userid:t.currentuser}).then(function(e){0==e.data.status?window.surveyuser={_id:t.currentuser}:(window.surveyuser=e.data.user,t.currentuser=e.data.user._id);var a=[];o.a.post("/getquestions",{surveyid:t.id}).then(function(e){t.builderarray=e.data,o.a.post("/getquestionorder",{surveyid:t.id}).then(function(e){t.questionorder=e.data;var s=[],i=null;t.questionorder.forEach(function(e){t.builderarray.forEach(function(n){if(n.order=e.order,n._id==e.questionid){if(n.qtype&&n.qtype.length>10&&"dataTable"==n.questiontype&&!a.includes(n.qtype)){a.push(n.qtype);var o=t.finalbuilderarray.findIndex(function(t){return t._id==n.qtype});(i=t.builderarray.find(function(t){return t._id==n.qtype}))&&(i.extras=s,t.finalbuilderarray.push(i),s=[],i=null),o>=0&&t.builderarray.splice(o,1)}t.questiontypes.indexOf(n.questiontype)>=0||"descriptionbox"==n.questiontype&&"1"==n.required?""==n.questiontext&&"qtypeslider"!=n.questiontype||a.includes(n._id)?("descriptionbox"==n.questiontype&&"1"==n.required||"thankyoupage"==n.questiontype)&&(n.extras=s,t.finalbuilderarray.push(n)):("contactInfo"==n.questiontype&&a.push(n._id),n.extras=s,t.finalbuilderarray.push(n),s=[]):t.questiontomerge.indexOf(n.questiontype)>=0&&s.push(n)}})}),t.currentquestiondata=t.finalbuilderarray[t.currentquestion]})}).catch(function(e){t.errors.push(e)})})}).catch(function(e){t.errors.push(e)}),this.debouncedgetprogress())},watch:{currentquestiondata:function(t,e){return this.validated=!1,0==this.currentquestiondata.required&&(this.validated=!0),this.currentquestiondata},messagebox:function(t,e){""!=this.messagebox&&this.debouncedclearmsg()},errormessagebox:function(t,e){""!=this.errormessagebox&&this.debouncedclearmsg()},currentquestion:function(t,e){return this.debouncedgetprogress_interval(),this.currentquestion}},mounted:function(){var t=this;window.addEventListener("scroll",this.handleScroll),window.addEventListener("resize",this.handleResize),o.a.post("/getdatequestiontype").then(function(e){t.choosedQuestion=e.data.data}).catch(function(e){t.errors.push(e)})},updated:function(){this.debouncedgetprogress_interval()}}),Qo={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return 1==t.rerender&&t.surveydata?a("v-layout",{staticClass:"conatiner_responceform paddingbottom50",attrs:{wrap:""}},[""!=t.messagebox?a("div",{staticClass:"messagebox"},[t._v(t._s(t.messagebox))]):t._e(),t._v(" "),""!=t.errormessagebox?a("div",{staticClass:"messagebox error"},[t._v(t._s(t.errormessagebox))]):t._e(),t._v(" "),0==t.navstyle?a("v-flex",{attrs:{xs12:""}},[null!=t.surveyconfig?a("div",{staticClass:"surveybanner"},[a("img",{staticClass:"imginsheadonly",attrs:{src:t.getsurveyimage(t.surveyconfig.coverphoto)}}),t._v(" "),a("div",{staticClass:"overview"},["0"!=t.surveyconfig.display?a("div",{staticClass:"surveydata",on:{click:t.getprogress}},[a("h1",{staticClass:"surveyname"},[t._v(t._s(t.surveydata.surveyname))]),t._v(" "),a("div",{staticClass:"progress_timeline ",domProps:{innerHTML:t._s(t.progressdata)}})]):a("div",{staticClass:"surveydata new_placement_cover",on:{click:t.getprogress}},[a("h1",{staticClass:"surveyname"},[t._v(t._s(t.surveydata.surveyname))]),t._v(" "),a("div",{staticClass:"progress_timeline ",domProps:{innerHTML:t._s(t.progressdata)}})])])]):t._e()]):t._e(),t._v(" "),t.scrolled>=250||0!=t.navstyle?a("v-flex",{staticClass:"responseheadermobile"},[null!=t.surveyconfig?[a("img",{staticClass:"imginsheadonly",attrs:{src:t.getsurveyimage(t.surveyconfig.coverphoto)}}),t._v(" "),a("div",{staticClass:"surveybanner"},[a("div",{staticClass:"overview"},["0"!=t.surveyconfig.display?a("div",{staticClass:"surveydatamobile",on:{click:t.getprogress}},[a("h1",{staticClass:"surveyname"},[t._v(t._s(t.surveydata.surveyname))]),t._v(" "),a("div",{staticClass:"progress_timelinemobile",domProps:{innerHTML:t._s(t.progressdata)}})]):a("div",{staticClass:"surveydatamobile",on:{click:t.getprogress}},[a("h1",{staticClass:"surveyname"},[t._v(t._s(t.surveydata.surveyname))]),t._v(" "),a("div",{staticClass:"progress_timelinemobile ",domProps:{innerHTML:t._s(t.progressdata)}})])])])]:t._e()],2):t._e(),t._v(" "),t.surveyconfig?["0"==t.surveyconfig.display&&0==t.havelogicjump?a("v-container",{staticClass:"responceform",attrs:{id:"responceform"}},[a("div",{staticClass:"questionblock"},t._l(t.finalbuilderarray,function(e,s){return a("div",{key:"questionid_"+s},["sectionheading"===e.questiontype?a("displayheading",{attrs:{sectiondata:e}}):"pagebreak"===e.questiontype?a("v-divider"):"descriptionbox"==e.questiontype?a("div",{staticClass:"descriptionbox"},[a("v-layout",[a("v-flex",{staticClass:"finalquestionindex",attrs:{xs1:""}}),t._v(" "),a("v-flex",{attrs:{xs11:"",questionbox:""}},[a("div",{domProps:{innerHTML:t._s(e.description)}}),t._v(" "),""!=e.image&&"1"==e.haveimage?a("div",{staticClass:"questionimagepreview"},[a("img",{staticClass:"img-question",attrs:{src:t.questionfinalimage(e.image)}})]):t._e()])],1)],1):""!==e.questiontext||"qtypeslider"==e.questiontype?a("finalqestion",{attrs:{ciChangecount:t.ciChangecount,questiondata:e,qno:t.getquestionno(s)},on:{contactinfochnaged:function(e){t.ciChangecount++}}}):t._e()],1)}),0),t._v(" "),null!=t.surveydata?a("v-layout",[a("v-flex",{attrs:{xs1:""}}),t._v(" "),a("v-flex",{staticClass:"text-center",attrs:{xs11:""}},[1==t.surveyconfig.recaptcha?a("div",{staticClass:"recaptchavalidation"},[a("recaptcha",{ref:"recaptcha",on:{verify:t.submit}})],1):t._e(),t._v(" "),a("button",{staticClass:"btn-custom1",on:{click:t.finishSurvey}},[t._v("Submit")])])],1):t._e()],1):a("v-container",{staticClass:"responceform",attrs:{id:"responceform"}},[0==t.is_submitted&&null!=t.currentquestiondata&&1==t.readytodisplay?a("div",{staticClass:"questionblock"},[a("mobileresponse",{attrs:{ciChangecount:t.ciChangecount,question:t.currentquestiondata,qno:t.getquestionno(t.currentquestion)},on:{contactinfochnaged:function(e){t.ciChangecount++}}}),t._v(" "),a("div",{staticClass:"questio_nav_buttons"},[1==t.surveyconfig.recaptcha?a("div",{staticClass:"recaptchavalidation"},[a("recaptcha",{ref:"recaptcha",on:{verify:t.submit}})],1):t._e(),t._v(" "),-1!=t.prevquestion?a("button",{staticClass:"btn-custom1",on:{click:function(e){return t.changequestion(t.prevquestion)}}},[t._v("Previous")]):t._e(),t._v(" "),t.nextquestion!=t.finalbuilderarray.length?a("button",{staticClass:"btn-custom1",on:{click:function(e){return t.changequestion(t.nextquestion)}}},[t._v("Next")]):[a("button",{staticClass:"btn-custom1",on:{click:t.finishSurvey}},[t._v("Finish")])]],2)],1):t._e(),t._v(" "),1==t.is_submitted?a("div",{staticClass:"questionblock"},[a("h1",[t._v("Submitting Survey...")])]):t._e()])]:t._e()],2):t._e()},staticRenderFns:[]};var $o=a("VU/8")(Uo,Qo,!1,function(t){a("6gJB")},"data-v-2b466421",null).exports,Zo={props:["question","qno"],components:{finalqestion:To,displayheading:fo},data:function(){return{currentquestion:this.question,messagebox:""}},methods:{finishSurvey:function(){this.messagebox="Submitted",this.debouncedclearmsg()},clearmsg:function(){this.messagebox=""}},created:function(){this.debouncedclearmsg=_.debounce(this.clearmsg,2e3)},watch:{currentquestion:function(t,e){return console.log("changed"),this.currentquestion},question:function(t,e){return this.currentquestion=this.question,this.question}}},Ro={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"responceform",attrs:{id:"responceform"}},[a("div",{staticClass:"questionblock"},["sectionheading"===t.question.data.questiontype?a("displayheading",{attrs:{sectiondata:t.question.data}}):"pagebreak"===t.question.data.questiontype?a("v-divider"):"descriptionbox"==t.question.data.questiontype?a("div",{staticClass:"descriptionbox"},[a("v-layout",[a("v-flex",{staticClass:"finalquestionindex",attrs:{xs1:""}}),t._v(" "),a("v-flex",{attrs:{xs11:"",questionbox:""}},[a("div",{domProps:{innerHTML:t._s(t.question.data.description)}})])],1)],1):t._e(),t._v(" "),a("finalqestion",{attrs:{questiondata:t.question,qno:t.qno}})],1)])},staticRenderFns:[]},Po=a("VU/8")(Zo,Ro,!1,null,null,null).exports,Go=(localStorage.username,new Date,{components:{finalqestion:To,displayheading:fo,mobileresponse:zo,questionwithjump:Po},data:function(){return{id:null,attemptid:this.$route.params.id,semesterid:"staticsemesterid",currentuser:"0",builderarray:[],prevquestion:-1,currentquestion:0,nextquestion:1,currentquestiondata:null,messagebox:"",surveyconfig:null,surveydata:null,progressdata:"",prevq:null,currentq:0,currentqdata:null,nextq:null,cuerrentjump:null,questionflow:[]}},methods:{finishSurvey:function(){var t=this;this.messagebox="Submitted",this.debouncedclearmsg(),o.a.post("/finishattempt",{attemptid:this.attemptid}).then(function(e){t.$router.push("/surveythankyou/"+t.attemptid)})},clearmsg:function(){this.messagebox=""},changequestion:function(t){this.currentquestion=t,this.prevquestion=t-1,this.currentquestiondata=this.builderarray[t],this.nextquestion=t+1},getsurveyimage:function(t){return""==t||null==t?"https://source.unsplash.com/collection/4728778/1600x900/":t.indexOf("unsplash.com")>=0?t:window.publicfileurl+t},totalquestion:function(){for(var t=0,e=0;e<this.builderarray.length;e++){var a=this.builderarray[e];"welcomepage"==a.questiontype||"thankyoupage"==a.questiontype||"sectionheading"==a.questiontype||"pagebreak"==a.questiontype||"descriptionbox"==a.questiontype||""!=a.questiontext&&(t+=1)}return t},getprogress:function(){var t=this,e=this.totalquestion();o.a.post("/totalattempt",{attemptid:this.attemptid}).then(function(a){var s=a.data;window.at_total=e,window.at_attempted=e,t.progressdata='<div class="progress-bar_timeline" style="position: absolute; top: 0px; width: '+s/e*100+'%;"></div><span class="sr-only_timeline spcll " style="font-weight: 500;"> '+s+" out of "+e+" completed </span>"})}},created:function(){var t=this;this.debouncedclearmsg=_.debounce(this.clearmsg,2e3),this.debouncedgetprogress=_.debounce(this.getprogress,500),""==this.attemptid||void 0==this.attemptid?this.$router.push("/"):(o.a.post("/getattemptsurvey",{attemptid:this.attemptid}).then(function(e){console.log(e),null==e.data&&t.$router.push("/"),1==e.data.state&&t.$router.push("/surveythankyou/"+t.attemptid),window.surveyattemptid=e.data,t.id=e.data.surveyid,o.a.post("/getsurvey",{surveyid:e.data.surveyid}).then(function(e){t.surveydata=e.data}),o.a.post("/getsurveyconfig",{surveyid:t.id}).then(function(e){console.log("surveyconfig"),console.log(e),null==e.data||(t.surveyconfig=e.data.data,"1"!=t.surveyconfig.active&&t.$router.push("/swtl/"+t.id))}).catch(function(e){t.errors.push(e)}),t.currentuser=e.data.userid,o.a.post("/getuserbyid",{userid:t.currentuser}).then(function(e){console.log(e),0==e.data.status?window.surveyuser={_id:t.currentuser}:(window.surveyuser=e.data.user,t.currentuser=e.data.user._id),o.a.post("/getquestions",{surveyid:t.id}).then(function(e){t.builderarray=e.data,t.currentquestiondata=t.builderarray[t.currentquestion],t.currentqdata=t.builderarray[t.currentq],console.log("loop finish")}).catch(function(e){t.errors.push(e)})})}).catch(function(e){t.errors.push(e)}),this.debouncedgetprogress())},watch:{currentquestiondata:function(t,e){return this.currentquestiondata},currentquestion:function(t,e){return this.debouncedgetprogress(),this.currentquestion}}}),Jo={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{staticClass:"conatiner_responceform",attrs:{wrap:""}},[""!=t.messagebox?a("div",{staticClass:"messagebox"},[t._v(t._s(t.messagebox))]):t._e(),t._v(" "),a("v-flex",{attrs:{xs12:""}},[null!=t.surveyconfig?a("div",{staticClass:"surveybanner"},[a("img",{staticClass:"imginsheadonly",attrs:{src:t.getsurveyimage(t.surveyconfig.coverphoto)}}),t._v(" "),a("div",{staticClass:"overview"},["0"!=t.surveyconfig.display?a("div",{staticClass:"surveydata",on:{click:t.getprogress}},[a("h1",{staticClass:"surveyname"},[t._v(t._s(t.surveydata.surveyname))]),t._v(" "),a("div",{staticClass:"progress_timeline ",domProps:{innerHTML:t._s(t.progressdata)}})]):a("div",{staticClass:"surveydata new_placement_cover",on:{click:t.getprogress}},[a("h1",{staticClass:"surveyname"},[t._v(t._s(t.surveydata.surveyname))]),t._v(" "),a("div",{staticClass:"progress_timeline ",domProps:{innerHTML:t._s(t.progressdata)}})])])]):t._e()]),t._v(" "),a("v-container",{staticClass:"responceform",attrs:{id:"responceform"}},[a("div",{staticClass:"questionblock"},[t._v("\n        "+t._s(t.currentqdata)+"\n          "),null!=t.currentqdata?a("questionwithjump",{attrs:{question:t.currentqdata,qno:0}}):t._e()],1)])],1)},staticRenderFns:[]};var Wo=a("VU/8")(Go,Jo,!1,function(t){a("C7w/")},"data-v-6f4b960c",null).exports,Ho=localStorage.username,Bo=(new Date,{components:{},data:function(){return{id:this.$route.params.id,currentuser:null,surveydata:null,currentnotes:0,surveyconfig:null,welcomenotes:[],semesterid:"null"}},methods:{startNewattempt:function(){var t=this,e=localStorage.getItem("attemptuserid");e&&(this.currentuser=e),o.a.post("/attemptsurvey",{surveyid:this.id,userid:this.currentuser,semesterid:this.semesterid}).then(function(e){window.surveyattemptid=e.data.data,localStorage.setItem("attemptuserid",""),t.$router.push("/surveyresponse/"+e.data.data._id)})},nextNotes:function(t){this.currentnotes+=t},getsurveyimage:function(t){return""==t||null==t?"https://source.unsplash.com/collection/4728778/1600x900/":t.indexOf("unsplash.com")>=0?t:window.publicfileurl+t}},created:function(){var t=this;""==this.id||void 0==this.id?this.$router.push("/"):(o.a.post("/getcurrentuser",{username:Ho}).then(function(e){null==e.data&&t.$router.push("/"),window.surveyuser=e.data,t.currentuser=e.data._id}).catch(function(e){t.errors.push(e)}),o.a.post("/getsurvey",{surveyid:this.id}).then(function(e){null==e.data?t.$router.push("/"):t.surveydata=e.data}).catch(function(e){t.errors.push(e)}),o.a.post("/getsurveyconfig",{surveyid:this.id}).then(function(e){null==e.data||(t.surveyconfig=e.data.data,o.a.post("/getallwelcomethankyoudata",{surveyid:t.id,datatype:"welcomepage"}).then(function(e){null==e.data?1==t.surveyconfig.active&&t.startNewattempt():e.data.length<=0?1==t.surveyconfig.active&&t.startNewattempt():t.welcomenotes=e.data}))}).catch(function(e){t.errors.push(e)}))},watch:{surveyconfig:function(t,e){return t}}}),Vo={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return null!=t.surveydata&&null!=t.surveyconfig?a("v-layout",{staticClass:"conatiner_responceform paddingbottom50",attrs:{wrap:""}},[null!=t.surveyconfig?a("v-flex",{attrs:{xs12:""}},[null!=t.surveyconfig?a("div",{staticClass:"surveybanner"},[a("img",{staticClass:"imginsheadonly",attrs:{src:t.getsurveyimage(t.surveyconfig.coverphoto)}}),t._v(" "),a("div",{staticClass:"overview"},[a("div",{staticClass:"surveydata"},[a("h1",{staticClass:"surveyname"},[t._v(t._s(t.surveydata.surveyname))])])])]):t._e()]):t._e(),t._v(" "),"1"==t.surveyconfig.active?a("v-flex",[t.welcomenotes.length>0?a("v-flex",{attrs:{xs12:""}},[a("v-container",[a("div",{staticClass:"welcomenotes",domProps:{innerHTML:t._s(t.welcomenotes[t.currentnotes].description)}})])],1):t._e(),t._v(" "),a("v-flex",{staticClass:"text-center",attrs:{xs12:""}},[0!=t.currentnotes?a("button",{staticClass:"btn-custom1",on:{click:function(e){return t.nextNotes(-1)}}},[t._v("Prev")]):t._e(),t._v(" "),t.welcomenotes.length-1>t.currentnotes?a("button",{staticClass:"btn-custom1",on:{click:function(e){return t.nextNotes(1)}}},[t._v("Next")]):a("button",{staticClass:"btn-custom1",on:{click:t.startNewattempt}},[t._v("Start Now")])])],1):a("v-flex",{staticClass:"text-center"},[a("h2",[t._v("Survey is not Active")])]),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("br")],1):t._e()},staticRenderFns:[]};var Xo=a("VU/8")(Bo,Vo,!1,function(t){a("5Nqw")},"data-v-7efa8bae",null).exports,Ko=(new Date,{components:{},data:function(){return{id:this.$route.params.id,currentuser:null,attemptemail:null,currentnotes:0,surveydata:null,surveyconfig:null,welcomenotes:[],semesterid:"null"}},methods:{startNewattempt:function(){var t=this;this.attemptemail=localStorage.getItem("attemptemail"),o.a.post("/attemptsurvey",{surveyid:this.id,userid:this.currentuser,semesterid:this.semesterid,attemptemail:this.attemptemail}).then(function(e){window.surveyattemptid=e.data.data,localStorage.setItem("attemptemail",""),t.$router.push("/surveyresponse/"+e.data.data._id)})},nextNotes:function(t){this.currentnotes+=t},getsurveyimage:function(t){return""==t||null==t?"https://source.unsplash.com/collection/4728778/1600x900/":t.indexOf("unsplash.com")>=0?t:window.publicfileurl+t}},created:function(){var t=this;this.attemptemail=localStorage.getItem("attemptemail"),""==this.id||void 0==this.id?this.$router.push("/"):(o.a.post("/getsurvey",{surveyid:this.id}).then(function(e){null==e.data||(t.surveydata=e.data)}).catch(function(e){t.errors.push(e)}),o.a.post("/getsurveyconfig",{surveyid:this.id}).then(function(e){null==e.data||(t.surveyconfig=e.data.data,o.a.post("/getallwelcomethankyoudata",{surveyid:t.id,datatype:"welcomepage"}).then(function(e){null==e.data?1==t.surveyconfig.active&&t.startNewattempt():e.data.length<=0?1==t.surveyconfig.active&&t.startNewattempt():t.welcomenotes=e.data}))}).catch(function(e){t.errors.push(e)}))},watch:{surveyconfig:function(t,e){return t}}}),tr={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return null!=t.surveydata&&null!=t.surveyconfig?a("v-layout",{staticClass:"conatiner_responceform paddingbottom50",attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:""}},[null!=t.surveyconfig?a("div",{staticClass:"surveybanner"},[a("img",{staticClass:"imginsheadonly",attrs:{src:t.getsurveyimage(t.surveyconfig.coverphoto)}}),t._v(" "),a("div",{staticClass:"overview"},[a("div",{staticClass:"surveydata"},[a("h1",{staticClass:"surveyname"},[t._v(t._s(t.surveydata.surveyname))])])])]):t._e()]),t._v(" "),"1"==t.surveyconfig.active?a("v-flex",[t.welcomenotes.length>0?a("v-flex",{attrs:{xs12:""}},[a("v-container",[a("div",{staticClass:"welcomenotes",domProps:{innerHTML:t._s(t.welcomenotes[t.currentnotes].description)}})])],1):t._e(),t._v(" "),a("v-flex",{staticClass:"text-center",attrs:{xs12:""}},[0!=t.currentnotes?a("button",{staticClass:"btn-custom1",on:{click:function(e){return t.nextNotes(-1)}}},[t._v("Prev")]):t._e(),t._v(" "),t.welcomenotes.length-1>t.currentnotes?a("button",{staticClass:"btn-custom1",on:{click:function(e){return t.nextNotes(1)}}},[t._v("Next")]):a("button",{staticClass:"btn-custom1",on:{click:t.startNewattempt}},[t._v("Start Now")])])],1):a("v-flex",{staticClass:"text-center"},[a("h2",[t._v("Survey is not Active")])]),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("br")],1):t._e()},staticRenderFns:[]};var er=a("VU/8")(Ko,tr,!1,function(t){a("1qkd")},"data-v-a7efd794",null).exports,ar=(new Date,{components:{},data:function(){return{id:this.$route.params.id,currentuser:null,surveydata:null,surveyconfig:null,thankyoudata:null,thankyounotes:[],currentnotes:0,semesterid:"null"}},methods:{nextNotes:function(t){this.currentnotes+=t},finishAttempt:function(){},getsurveyimage:function(t){return""==t||null==t?"https://source.unsplash.com/collection/4728778/1600x900/":t.indexOf("unsplash.com")>=0?t:window.publicfileurl+t}},created:function(){var t=this;""==this.id||void 0==this.id?this.$router.push("/"):o.a.post("/getattemptsurvey",{attemptid:this.id}).then(function(e){null==e.data&&t.$router.push("/"),1!=e.data.state&&t.$router.push("/surveyresponse/"+t.id),o.a.post("/getsurvey",{surveyid:e.data.surveyid}).then(function(e){t.surveydata=e.data,o.a.post("/finalthankyoudata",{attemptid:t.id}).then(function(e){var a=e.data;1==a.status?t.thankyounotes=a.data:t.$toast.open({type:"error",position:"top",message:a.message})})}),o.a.post("/getsurveyconfig",{surveyid:e.data.surveyid}).then(function(e){null==e.data||(t.surveyconfig=e.data.data,"1"!=t.surveyconfig.active&&t.$router.push("/swtl/"+t.id))}).catch(function(e){t.errors.push(e)})})},watch:{surveyconfig:function(t,e){return t}}}),sr={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.surveydata?a("v-layout",{staticClass:"conatiner_responceform paddingbottom50",attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:""}},[null!=t.surveyconfig?a("div",{staticClass:"surveybanner"},[a("img",{staticClass:"imginsheadonly",attrs:{src:t.getsurveyimage(t.surveyconfig.coverphoto)}}),t._v(" "),a("div",{staticClass:"overview"},[a("div",{staticClass:"surveydata"},[a("h1",{staticClass:"surveyname"},[t._v(t._s(t.surveydata.surveyname))])])])]):t._e()]),t._v(" "),t.thankyounotes.length>0?a("v-flex",{attrs:{xs12:""}},[a("v-container",[a("div",{staticClass:"thankyounote",domProps:{innerHTML:t._s(t.thankyounotes[t.currentnotes].description)}}),t._v(" "),a("v-flex",{staticClass:"text-center",attrs:{xs12:""}},[0!=t.currentnotes&&t.currentnotes!=t.thankyounotes.length-1?a("button",{staticClass:"btn-custom1",on:{click:function(e){return t.nextNotes(-1)}}},[t._v("Prev")]):t._e(),t._v(" "),t.thankyounotes.length-1>t.currentnotes?a("button",{staticClass:"btn-custom1",on:{click:function(e){return t.nextNotes(1)}}},[t._v("Next")]):t._e()])],1)],1):a("v-flex",{attrs:{xs12:""}},[a("v-container",[a("div",{staticClass:"thankyounote text-center"},[a("h1",[t._v('Thankyou for submitting "'+t._s(t.surveydata.surveyname)+'"')])])])],1),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("br")],1):t._e()},staticRenderFns:[]};var ir=a("VU/8")(ar,sr,!1,function(t){a("bgkc")},"data-v-0f4cfbae",null).exports,nr=a("CqLJ"),or=a("NCci"),rr=localStorage.username,cr=(new Date,{components:{userdetailssnipt:wt,reportheader:Li,ModelListSelect:we.ModelListSelect},data:function(){return{id:this.$route.params.id,currentuser:null,surveydata:null,createddate:null,modifiedddate:null,surveyconfig:null,responselist:[],contactdata:[],noresponse:[],listid:null,contacts:[],semesterid:"null",averageresponsetime:0,search:"",pagination:{rowsPerPage:100},headers:[{text:"User",align:"left",value:"userdetails.firstname"},{text:"Date Started",value:"datestarted"},{text:"Date submitted",value:"datefinished"},{text:"IP",value:"createdip"},{text:"Details",sortable:!1},{text:"Edit",sortable:!1},{text:"",sortable:!1},{text:"",sortable:!1},{text:"",sortable:!1}],htmlcontents:"",pdf:null,margins:{top:90,bottom:40,left:40,right:40,width:520}}},methods:{startattempt:function(t,e){if(t){localStorage.setItem("attemptuserid",t);var a=window.siteurl+"swl/"+this.id,s="height="+window.screen.height+",top=0,left=0,width="+window.screen.width;popupWindow=window.open(a,i,s)}else{var i="Response page";localStorage.setItem("attemptemail",e);a=window.siteurl+"swtl/"+this.id,s="height="+window.screen.height+",top=0,left=0,width="+window.screen.width;popupWindow=window.open(a,i,s)}},pdfheader:function(){this.pdf.setFontSize(20),this.pdf.setTextColor(40),this.pdf.setFontStyle("normal"),this.pdf.text(this.surveydata.surveyname,this.margins.left,40),this.pdf.setLineCap(2),this.pdf.line(3,70,this.margins.width+43,70)},pdffooter:function(t,e){var a="Page "+t+" of "+e;this.pdf.setFontSize(10),this.pdf.text(a,this.margins.left,this.pdf.internal.pageSize.height-20)},headerFooterFormatting:function(t){for(var e=t;e>=1;e--)this.pdf.setPage(e),this.pdfheader(),this.pdffooter(e,t),this.pdf.page++},pdfexport:function(t){var e=this;console.log("data >>>>>>>> ",t.item.userdetails._id);var a=t.item._id;this.pdf=new Ti.a("p","pt","a4");var s="",i=this.$loading.show({loader:"dots"});o.a.post("/downlaodresponsexls",{respid:a,onlydata:!0}).then(function(t){if(i.hide(),t.data.data.length>0){var n=t.data.heading;s+='<div style="padding-bottom:50px;font-family: sans-serif;">',n.forEach(function(t){if(!(t.length<2)){var e=t[0],a=t[1];s+='<div style=" font-weight: 600; padding-bottom:5px;" >'+e.value+': <span style="color: gray;">'+a.value+"</span></div>"}}),s+="</div>",s+='<div style="padding-bottom:50px;"> </div>',t.data.data.forEach(function(t,e){var a="5px";0==e&&(a="40px");var i=t.answer1.toString(),n=t.comment1.toString();t.answer1=i.replace(/\n/g,"</div><div>"),t.comment1=n.replace(/\n/g,"</div><div>"),s+='<div style="margin-bottom:50px; padding: 5px; font-family: sans-serif;">',s+='<div style="font-weight: 600; color:#B0CA36; padding-top:'+a+'; padding-bottom:10px;" >Q'+t.qno+": "+t.question+" </div>",t.other1.length>0?(s+='<br/><div style="font-weight: 600; color:#B0CA36; padding-top:40px; padding-bottom:10px;word-break: break-all;" >'+t.othertext+" </div>",s+='<div style="padding-bottom: 10px;word-break: break-all;"><span style="">Other:</span> '+t.other1+"</div>"):s+='<div style="padding-bottom: 10px;word-break: break-all;"><span style="">Ans:</span> '+t.answer1+"</div><br/>",t.comment1.length>0&&(s+='<div style="font-weight: 600; padding-top:10px; padding-bottom:10px;word-break: break-all;" >'+t.commenttext+" </div>",s+='<div style="padding-bottom: 30px;word-break: break-all;"><span style="">Comments:</span> '+t.comment1+"</div>"),s+="</div>"}),e.pdf.fromHTML(s,e.margins.left,e.margins.top,{width:e.margins.width},function(t){console.log("dispose- ",t)},e.margins),e.headerFooterFormatting(e.pdf.internal.getNumberOfPages()),e.pdf.save("AllResponse_"+a+"_"+Date.now()+".pdf")}else e.$toast.open({message:"Failed to get data",position:"top",type:"error"})}).catch(function(t){i.hide(),console.log(t),e.$toast.open({message:"Failed to load content",position:"top",type:"error"})})},exportPDFAllresponse:function(){new Ti.a({orientation:"landscape"});this.$toast.open({message:"PDF Export is under process",position:"top",type:"info"})},getexportalllink:function(t,e){var a=this,s=this.$loading.show({loader:"dots"});o.a.post("/downlaodresponseuserxls",{surveyid:e},{responseType:"arraybuffer"}).then(function(t){t.headers["content-type"].indexOf("application/json")>=0?a.$toast.open({message:t.data.message,position:"top",type:"error"}):or.downloadfiles(t,"xlsx"),s.hide()}).catch(function(t){s.hide(),console.log("e- ",t)})},getexportalllresponseink:function(t,e){var a=this,s=this.$loading.show({loader:"dots"});o.a.post("/getallresponsedataexcel",{surveyid:e},{responseType:"arraybuffer"}).then(function(t){t.headers["content-type"].indexOf("application/json")>=0?a.$toast.open({message:t.data.message,position:"top",type:"error"}):or.downloadfiles(t,"xlsx"),s.hide()}).catch(function(t){s.hide(),console.log("e- ",t)})},downloadexcelreport:function(t){var e=this,a=this.$loading.show({loader:"dots"});o.a.post("/downlaodresponsexls",{respid:t},{responseType:"arraybuffer"}).then(function(t){t.headers["content-type"].indexOf("application/json")>=0?e.$toast.open({message:t.data.message,position:"top",type:"error"}):or.downloadfiles(t,"xlsx"),a.hide()}).catch(function(t){a.hide(),console.log("e- ",t)})},deleteresponse:function(t){var e=this;o.a.post("/deletesurveyresponse",{responseid:t}).then(function(t){1==t.data.n?(e.$toast.open({message:"Response deleted successfully",position:"top",type:"success"}),e.resetallresponse()):e.$toast.open({message:"Failed to delete Response.",position:"top",type:"error"})}).catch(function(t){e.$toast.open({message:"Failed to delete Response.",position:"top",type:"error"})})},getsurveyimage:function(t){return""==t||null==t?"https://source.unsplash.com/collection/4728778/1600x900/":t.indexOf("unsplash.com")>=0?t:window.publicfileurl+t},getexceptionreportlist:function(){var t=this;this.allresponsereport=[],this.noresponse=[],this.responselist=[],this.listid&&o.a.post("/getexceptionreportlist",{surveyid:this.id,contactd:this.listid}).then(function(e){t.noresponse=e.data.noresponse,e.data.allresponse.forEach(function(e){e.datestarted&&(e.datestarted=nr(e.datestarted,"yyyy-mm-dd hh:MM:ss TT")),e.datefinished&&(e.datefinished=nr(e.datefinished,"yyyy-mm-dd hh:MM:ss TT")),t.responselist.push(e)})}).catch(function(t){})},resetallresponse:function(){var t=this;this.listid=null,o.a.post("/allresponselist",{surveyid:this.id}).then(function(e){if(null==e.data)console.log();else{var a=[],s=0,i=0;e.data.forEach(function(t){var e="",n="";void 0!=t.createdip&&(n=t.createdip),0!=t.datefinished&&(e=nr(t.datefinished,"yyyy-mm-dd hh:MM:ss TT"),s+=(t.datefinished-t.datestarted)/1e3,i++),a.push({_id:t._id,userid:t.userid,surveyid:t.surveyid,semesterid:t.semesterid,state:t.state,anonymous:t.anonymous,useremail:t.useremail,userdetails:t.userdetails,createdip:n,datestarted:nr(t.datestarted,"yyyy-mm-dd hh:MM:ss TT"),datefinished:e})}),t.responselist=a,t.averageresponsetime=or.secondtoStringtime(s/i)}})},contactlistid:function(){var t=this;setTimeout(function(){o.a.post("/getcontactsdata",{listid:t.listid}).then(function(e){t.contactdata=["selected"],e.data.forEach(function(e){""!=e.userid?t.contactdata.push(e.userid):e.email&&t.contactdata.push(e.email)})}).catch(function(t){})},100)}},computed:{firstresponse:function(){return this.responselist.length>0?this.responselist[0].datestarted:"No response"},lastresponse:function(){return this.responselist.length>0?this.responselist[this.responselist.length-1].datestarted:"No response"},surveycreated:function(){return void 0!=this.surveydata.createddate?"fdjglkdjgl":"bbbbbbb"},surveymodified:function(){return void 0!=this.surveydata.modifiedddate?"cccccccccc":"ddddddddddd"}},created:function(){var t=this;""==this.id||void 0==this.id?this.$router.push("/"):(o.a.post("/getcurrentuser",{username:rr}).then(function(e){null==e.data&&t.$router.push("/"),window.surveyuser=e.data,t.currentuser=e.data._id}).catch(function(e){t.errors.push(e)}),o.a.post("/getsurvey",{surveyid:this.id}).then(function(e){null==e.data?t.$router.push("/"):(t.resetallresponse(),t.surveydata=e.data,t.modifiedddate=nr(t.surveydata.modifiedddate,"yyyy-mm-dd hh:MM:ss TT"),t.createddate=nr(parseInt(t.surveydata.createddate),"yyyy-mm-dd hh:MM:ss TT"))}).catch(function(e){t.errors.push(e)}),o.a.post("/getsharedsurveytolist",{surveyid:this.id}).then(function(e){t.contacts=e.data}).catch(function(t){}),o.a.post("/getsurveyconfig",{surveyid:this.id}).then(function(e){null==e.data||(t.surveyconfig=e.data.data)}).catch(function(e){t.errors.push(e)}))},watch:{surveyconfig:function(t,e){return t},listid:function(t,e){this.getexceptionreportlist()}}}),dr={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-layout",{staticClass:"conatiner_responceform",attrs:{wrap:""}},[s("reportheader",{attrs:{surveyid:t.id,active:"3"}}),t._v(" "),s("v-flex",{attrs:{xs12:""}},[null!=t.surveydata?s("v-container",{staticClass:"conatiner_dashboard"},[s("div",{staticClass:"surveydetails"},[s("v-layout",{staticClass:"surveysect"},[s("v-flex",{attrs:{xs12:""}},[s("div",{},[t._v("Individual report")]),t._v(" "),s("h2",[t._v(t._s(t.surveydata.surveyname))])])],1),t._v(" "),s("v-layout",{staticClass:"surveyressect"},[s("v-flex",{attrs:{xs12:"",sm6:""}},[s("div",[t._v("Total Response : "+t._s(t.responselist.length))]),t._v(" "),s("div",[t._v("Average Time : "+t._s(t.averageresponsetime))]),t._v(" "),s("div",[t._v("First response : "+t._s(t.firstresponse))]),t._v(" "),s("div",[t._v("Last response : "+t._s(t.lastresponse))]),t._v(" "),s("div",[t._v("Active : "),"1"==t.surveyconfig.active?s("span",[t._v("Yes")]):s("span",[t._v("No")])]),t._v(" "),s("v-layout",[s("v-flex",{attrs:{xs6:"","d-flex":""}},[s("model-list-select",{attrs:{list:t.contacts,"option-value":"contactid","option-text":"contactname",placeholder:"Select Contact list"},on:{input:t.contactlistid},model:{value:t.listid,callback:function(e){t.listid=e},expression:"listid"}})],1),s("v-flex",{attrs:{xs6:"","d-flex":""}},[s("div",{},[s("br"),t._v(" "),s("button",{staticClass:"exportbutton",on:{click:t.resetallresponse}},[t._v("Reset")])])])],1)],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm6:""}},[s("div",[t._v("Editor : "),t._l(t.surveyconfig.editor,function(t){return s("userdetailssnipt",{key:t,attrs:{utype:"span_nameonly",uid:t}})})],2),t._v(" "),s("div",[t._v("Reviewer : "),t._l(t.surveyconfig.reviewer,function(t){return s("userdetailssnipt",{key:t,attrs:{utype:"span_nameonly",uid:t}})})],2),t._v(" "),s("div",[t._v("Created : "+t._s(t.createddate))]),t._v(" "),s("div",[t._v("Modified : "+t._s(t.modifiedddate))])])],1),t._v(" "),s("v-layout",{staticClass:"surveyressect"},[s("v-flex",{attrs:{xs12:"",sm6:""}},[s("div",[s("span",{staticClass:"exportbutton",on:{click:function(e){return t.getexportalllink("csv",t.id)}}},[t._v("CSV Export")]),t._v(" "),s("span",{staticClass:"exportbutton",on:{click:function(e){return t.getexportalllresponseink("csv",t.id)}}},[t._v("CSV Export All Response")])])])],1)],1)]):t._e(),t._v(" "),s("v-container",{staticClass:"conatiner_dashboard"},[s("v-card",[s("v-card-title",[t._v("Individual Report"),s("v-spacer"),s("v-text-field",{staticClass:"datatable_search",attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),s("v-data-table",{attrs:{headers:t.headers,items:t.responselist,search:t.search,"rows-per-page-items":[50,100,150],pagination:t.pagination},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[e.item.anonymous?s("td",{staticClass:"text-xs-left"},[t._v("Anonymous")]):s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.userdetails.firstname)+" "+t._s(e.item.userdetails.lastname)+" ")]),t._v(" "),e.item.datestarted?s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.datestarted)+" ")]):s("td",{staticClass:"text-xs-left"},[t._v("Not Started")]),t._v(" "),e.item.datefinished?s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.datefinished))]):s("td",{staticClass:"text-xs-left"},[t._v("Not Finished")]),t._v(" "),e.item.anonymous?s("td",{staticClass:"text-xs-left"},[t._v("Anonymous")]):s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.createdip))]),t._v(" "),s("td",[e.item._id?s("a",{attrs:{href:"/responsedetails/"+e.item._id}},[t._v("details "),s("img",{staticClass:"deletequestion",attrs:{src:a("ylEs")}})]):t._e()]),t._v(" "),s("td",[e.item._id?s("a",{attrs:{href:"/editresponsedetails/"+e.item._id}},[t._v("Edit "),s("img",{staticClass:"deletequestion",attrs:{src:a("ylEs")}})]):t._e()]),t._v(" "),e.item._id?[s("td",[s("v-btn",{staticClass:"btn-extrasmall",on:{click:function(a){return t.deleteresponse(e.item._id)}}},[s("img",{staticClass:"deletequestion",attrs:{src:a("yJyA")}})])],1),t._v(" "),s("td",[s("span",{staticClass:"exportbutton",on:{click:function(a){return t.downloadexcelreport(e.item._id)}}},[t._v("CSV Export")])]),t._v(" "),s("td",[s("a",{staticClass:"exportbutton",attrs:{target:"_blank"},on:{click:function(a){return t.pdfexport(e)}}},[t._v("PDF Export")])])]:[s("td",[s("span",{staticClass:"exportbutton",on:{click:function(a){return t.startattempt(e.item.userdetails.userid,e.item.userdetails.email)}}},[t._v("Submit survey")])]),t._v(" "),s("td"),t._v(" "),s("td")]]}}])})],1)],1),t._v(" "),""!=t.htmlcontents?s("v-container",[s("div",{staticClass:"table-responsive",domProps:{innerHTML:t._s(t.htmlcontents)}})]):t._e()],1)],1)},staticRenderFns:[]};var lr=a("VU/8")(cr,dr,!1,function(t){a("XVJO")},"data-v-098dcd58",null).exports,ur=a("CqLJ"),pr=a("NCci"),vr=localStorage.username,hr=(localStorage.userrole,new Date,{components:{userdetailssnipt:wt,reportheader:Li,ModelListSelect:we.ModelListSelect},data:function(){return{id:this.$route.params.id,currentuser:null,surveydata:null,createddate:null,modifiedddate:null,surveyconfig:null,responselist:[],userrole:[],contacts:[],allwordflow:[],listid:null,contactdata:[],semesterid:"null",averagetime:0,have_editorapproval:!1,have_reviewerapproval:!1,have_complete:!1}},methods:{getexportalllink:function(t,e){var a=this,s=this.$loading.show({loader:"dots"});o.a.post("/downlaodresponseuserxls",{surveyid:e},{responseType:"arraybuffer"}).then(function(t){t.headers["content-type"].indexOf("application/json")>=0?a.$toast.open({message:t.data.message,position:"top",type:"error"}):pr.downloadfiles(t,"xlsx"),s.hide()}).catch(function(t){s.hide(),console.log("e- ",t)})},getdatestring:function(t){return t&&0!=t?ur(t,"yyyy-mm-dd "):""},deleteresponse:function(t,e){var a=this;o.a.post("/deletesurveyresponse",{responseid:e}).then(function(e){1==e.data.n?(a.responselist.splice(t,1),a.$toast.open({message:"Response deleted successfully.",position:"top",type:"error"})):a.$toast.open({message:"Failed to delete Response.",position:"top",type:"error"})}).catch(function(t){a.errors.push(t)}),console.log("tobe deleted")},getsurveyimage:function(t){return""==t||null==t?"https://source.unsplash.com/collection/4728778/1600x900/":t.indexOf("unsplash.com")>=0?t:window.publicfileurl+t},contactlistid:function(){var t=this;setTimeout(function(){o.a.post("/getcontactsdata",{listid:t.listid}).then(function(e){t.contactdata=["selected"],e.data.forEach(function(e){""!=e.userid&&t.contactdata.push(e.userid)})}).catch(function(t){})},100)},changeatemptstate:function(t,e){var a=this,s=this.responselist[e],i=this.currentuser;s._id;console.log("check",t),console.log("index",e),console.log("obj",s);var n=Date.now();0===t?("1"==s.approvededi&&(n=""),o.a.post("/approvebyeditor",{attemptid:s._id,status:s.approvededi,userid:i}).then(function(t){a.responselist[e].approvedbyedidate=n})):1===t?("1"==s.approvedrev&&(n=""),o.a.post("/approvebyviewer",{attemptid:s._id,status:s.approvedrev,userid:i}).then(function(t){a.responselist[e].approvedbyrevdate=n})):2===t&&("1"==s.completed&&(n=""),o.a.post("/attemptcompleted",{attemptid:s._id,status:s.completed,userid:i}).then(function(t){a.responselist[e].completeddate=n}))}},computed:{firstresponse:function(){return this.responselist.length>0?this.responselist[0].datestarted:"No response"},lastresponse:function(){return this.responselist.length>0?this.responselist[this.responselist.length-1].datestarted:"No response"},averageresponsetime:function(){return"Calculating..."},surveycreated:function(){return void 0!=this.surveydata.createddate?"fdjglkdjgl":"bbbbbbb"},surveymodified:function(){return void 0!=this.surveydata.modifiedddate?"cccccccccc":"ddddddddddd"}},created:function(){var t=this;""==this.id||void 0==this.id?this.$router.push("/"):(o.a.post("/getcurrentuser",{username:vr}).then(function(e){null==e.data&&t.$router.push("/"),window.surveyuser=e.data,t.currentuser=e.data._id,pr.is_roleassigned(e.data.roles,"1")&&t.userrole.push("1"),pr.is_roleassigned(e.data.roles,"2")&&t.userrole.push("2"),pr.is_roleassigned(e.data.roles,"3")&&t.userrole.push("3")}).catch(function(e){t.errors.push(e)}),o.a.post("/getsurvey",{surveyid:this.id}).then(function(e){null==e.data?t.$router.push("/"):(t.surveydata=e.data,t.modifiedddate=ur(t.surveydata.modifiedddate,"yyyy-mm-dd "),t.createddate=ur(parseInt(t.surveydata.createddate),"yyyy-mm-dd "),o.a.post("/getallworkflow",{surveyid:t.id}).then(function(e){var a=e.data;t.allwordflow=a,a.filter(function(t){return"1"==t.action&&"2"==t.role&&""!=t.notifyrole}).length>0&&(t.have_reviewerapproval=!0),a.filter(function(t){return"1"==t.action&&"1"==t.role&&""!=t.notifyrole}).length>0&&(t.have_editorapproval=!0),a.filter(function(t){return"2"==t.action&&""!=t.role&&""!=t.notifyrole}).length>0&&(t.have_complete=!0)}))}).catch(function(e){t.errors.push(e)}),o.a.post("/getsharedsurveytolist",{surveyid:this.id}).then(function(e){t.contacts=e.data}),o.a.post("/allresponselist",{surveyid:this.id}).then(function(e){if(null==e.data)console.log();else{e.data.forEach(function(e){e.approvedrev&&(e.approvedrev=e.approvedrev.toString()),e.approvededi&&(e.approvededi=e.approvededi.toString()),e.completed&&(e.completed=e.completed.toString()),t.responselist.push(e)})}}),o.a.post("/getsurveyconfig",{surveyid:this.id}).then(function(e){null==e.data||(t.surveyconfig=e.data.data)}).catch(function(e){t.errors.push(e)}))},watch:{surveyconfig:function(t,e){return t}}}),mr={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-layout",{staticClass:"conatiner_responceform",attrs:{wrap:""}},[s("reportheader",{attrs:{surveyid:t.id,active:"4"}}),t._v(" "),s("v-flex",{attrs:{xs12:""}},[null!=t.surveydata?s("v-container",{staticClass:"conatiner_dashboard"},[s("div",{staticClass:"surveydetails"},[s("v-layout",{staticClass:"surveysect"},[s("v-flex",{attrs:{xs12:""}},[s("div",{},[t._v("Approval report")]),t._v(" "),s("h2",[t._v(t._s(t.surveydata.surveyname))])])],1),t._v(" "),s("v-layout",{staticClass:"surveyressect"},[s("v-flex",{attrs:{xs12:"",sm6:""}},[s("div",[t._v("Total Response : "+t._s(t.responselist.length))]),t._v(" "),s("div",[t._v("Average Time : "+t._s(t.averageresponsetime))]),t._v(" "),s("div",[t._v("First response : "+t._s(t.firstresponse))]),t._v(" "),s("div",[t._v("Last response : "+t._s(t.lastresponse))]),t._v(" "),s("div",[t._v("Active : "),"1"==t.surveyconfig.active?s("span",[t._v("Yes")]):s("span",[t._v("No")])]),t._v(" "),s("div",[s("v-flex",{attrs:{xs6:"","d-flex":""}},[s("model-list-select",{attrs:{list:t.contacts,"option-value":"contactid","option-text":"contactname",placeholder:"Select Contact list"},on:{input:t.contactlistid},model:{value:t.listid,callback:function(e){t.listid=e},expression:"listid"}})],1),s("v-flex",{attrs:{xs6:"","d-flex":""}})],1)]),t._v(" "),s("v-flex",{attrs:{xs12:"",sm6:""}},[s("div",[t._v("Editor : "),t._l(t.surveyconfig.editor,function(t){return s("userdetailssnipt",{key:t,attrs:{utype:"span_nameonly",uid:t}})})],2),t._v(" "),s("div",[t._v("Reviewer : "),t._l(t.surveyconfig.reviewer,function(t){return s("userdetailssnipt",{key:t,attrs:{utype:"span_nameonly",uid:t}})})],2),t._v(" "),s("div",[t._v("Created : "+t._s(t.createddate))]),t._v(" "),s("div",[t._v("Modified : "+t._s(t.modifiedddate))])])],1),t._v(" "),s("v-layout",{staticClass:"surveyressect"},[s("v-flex",{attrs:{xs12:"",sm6:""}},[s("div",[s("span",{staticClass:"exportbutton",on:{click:function(e){return t.getexportalllink("csv",t.id)}}},[t._v("CSV Export")])])])],1)],1)]):t._e(),t._v(" "),s("v-container",{staticClass:"conatiner_dashboard"},[s("div",{staticClass:"allresponselist"},[s("table",{staticClass:"table  table-left"},[s("tr",[s("td",[t._v("Response no.")]),t._v(" "),s("td",[t._v("User")]),t._v(" "),s("td",[t._v("Date submitted")]),t._v(" "),t.have_editorapproval?[s("td",[t._v("Approved by editor")]),t._v(" "),s("td",[t._v("Date Approved")])]:t._e(),t._v(" "),t.have_reviewerapproval?[s("td",[t._v("Approved by reviewer")]),t._v(" "),s("td",[t._v("Date Approved")])]:t._e(),t._v(" "),t.have_complete?[s("td",[t._v("Completed")]),t._v(" "),s("td",[t._v("Date Completed")])]:t._e(),t._v(" "),s("td",[t._v("Details")]),t._v(" "),s("td")],2),t._v(" "),t._l(t.responselist,function(e,i){return s("tr",{key:"questionid_"+i},[s("td",[t._v(t._s(i+1))]),t._v(" "),e.anonymous?s("td",[t._v("Anonymous")]):s("td",[t._v("\n                      "+t._s(e.userdetails.firstname)+" "+t._s(e.userdetails.lastname)+" \n                    ")]),t._v(" "),s("td",[t._v(t._s(t.getdatestring(e.datestarted)))]),t._v(" "),t.have_editorapproval?[s("td",[-1!=t.surveyconfig.editor.indexOf(t.currentuser)||t.userrole.indexOf("1")>=0?s("v-checkbox",{attrs:{value:"1"},on:{change:function(e){return t.changeatemptstate(0,i)}},model:{value:e.approvededi,callback:function(a){t.$set(e,"approvededi",a)},expression:"attempet.approvededi"}}):s("v-checkbox",{attrs:{value:"1",disabled:""},model:{value:e.approvededi,callback:function(a){t.$set(e,"approvededi",a)},expression:"attempet.approvededi"}})],1),t._v(" "),s("td",[t._v("\n                        "+t._s(t.getdatestring(e.approvedbyedidate))+"\n                      ")])]:t._e(),t._v(" "),t.have_reviewerapproval?[s("td",[-1!=t.surveyconfig.reviewer.indexOf(t.currentuser)&&1==e.approvededi||t.userrole.indexOf("1")>=0||0==t.have_editorapproval?s("v-checkbox",{attrs:{value:"1"},on:{change:function(e){return t.changeatemptstate(1,i)}},model:{value:e.approvedrev,callback:function(a){t.$set(e,"approvedrev",a)},expression:"attempet.approvedrev"}}):s("v-checkbox",{attrs:{value:"1",disabled:""},model:{value:e.approvedrev,callback:function(a){t.$set(e,"approvedrev",a)},expression:"attempet.approvedrev"}})],1),t._v(" "),s("td",[t._v(" \n                        "+t._s(t.getdatestring(e.approvedbyrevdate))+"\n                      ")])]:t._e(),t._v(" "),t.have_complete?[s("td",[(-1!=t.surveyconfig.reviewer.indexOf(t.currentuser)||-1!=t.surveyconfig.editor.indexOf(t.currentuser))&&1==e.approvedrev&&1==e.approvededi||t.userrole.indexOf("1")>=0||0==t.have_editorapproval||0==t.have_editorapproval?s("v-checkbox",{attrs:{value:"1"},on:{change:function(e){return t.changeatemptstate(2,i)}},model:{value:e.completed,callback:function(a){t.$set(e,"completed",a)},expression:"attempet.completed"}}):s("v-checkbox",{attrs:{value:"1",disabled:""},model:{value:e.completed,callback:function(a){t.$set(e,"completed",a)},expression:"attempet.completed"}})],1),t._v(" "),s("td",[t._v(" "+t._s(t.getdatestring(e.completeddate)))])]:t._e(),t._v(" "),s("td",[s("a",{attrs:{href:"/responsedetails/"+e._id}},[t._v("details"),s("img",{staticClass:"deletequestion",attrs:{src:a("ylEs")}})])]),t._v(" "),s("td",[s("v-btn",{staticClass:"btn-extrasmall",on:{click:function(a){return t.deleteresponse(i,e._id)}}},[s("img",{staticClass:"deletequestion",attrs:{src:a("yJyA")}})])],1)],2)})],2)])])],1)],1)},staticRenderFns:[]};var fr=a("VU/8")(hr,mr,!1,function(t){a("+CIV")},"data-v-a8a9466e",null).exports,gr={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"question"},[e("div",{staticClass:"question_text",domProps:{innerHTML:this._s(this.questiontext)}})])},staticRenderFns:[]};var yr=a("VU/8")({props:["questiontext","qno"]},gr,!1,function(t){a("WMqo")},null,null).exports,_r={props:["question"],data:function(){return{choicetexts:this.choicetext,answer:[],extrafield:!1,otheranswer:""}},methods:{},watch:{},created:function(){var t=this,e=window.surveyattemptid;axios.post("/getattemptanswer",{questionid:this.question._id,attemptid:e._id}).then(function(e){1==e.data.status&&null!=e.data.data&&(e.data.data.otheranswer?(t.extrafield=!0,t.otheranswer=e.data.data.otheranswer):t.answer=JSON.parse(e.data.data.answer))}).catch(function(e){t.errors.push(e)})}},xr={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"checkboxtop"},[t._l(t.question.choice,function(e,s){return a("div",{key:s,staticClass:"checkin"},[a("v-checkbox",{attrs:{disabled:"",label:e.choicetext,value:e._id},model:{value:t.answer,callback:function(e){t.answer=e},expression:"answer"}})],1)}),t._v(" "),t.question.other?a("div",{staticClass:"checkin"},[a("v-checkbox",{attrs:{readonly:"",disabled:"",label:"Other"},model:{value:t.extrafield,callback:function(e){t.extrafield=e},expression:"extrafield"}})],1):t._e(),t._v(" "),t.extrafield?a("div",{staticClass:"extraoption"},[a("v-text-field",{attrs:{readonly:"",disabled:"",label:"Please Specify"},model:{value:t.otheranswer,callback:function(e){t.otheranswer=e},expression:"otheranswer"}})],1):t._e()],2)},staticRenderFns:[]};var br=a("VU/8")(_r,xr,!1,function(t){a("fd4k")},null,null).exports,qr={props:["question","ansno","qno"],data:function(){return{choicetext1:this.choicetext,ansno1:this.ansno,qno1:this.qno,answer:"",extrafield:!1,otheranswer:""}},methods:{},watch:{},created:function(){var t=this,e=(window.surveyuser,window.surveyattemptid);axios.post("/getattemptanswer",{questionid:this.question._id,attemptid:e._id}).then(function(e){1==e.data.status&&null!=e.data.data&&(""!=e.data.data.otheranswer?(t.extrafield=!0,t.otheranswer=e.data.data.otheranswer):t.answer=JSON.parse(e.data.data.answer))}).catch(function(e){t.errors.push(e)})}},wr={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-radio-group",{model:{value:t.answer,callback:function(e){t.answer=e},expression:"answer"}},t._l(t.question.choice,function(e,s){return a("div",{key:s},[a("v-container",{staticClass:"radiobutton"},[a("v-radio",{key:t.qno,attrs:{label:e.choicetext,value:e._id,disabled:""}})],1)],1)}),0),t._v(" "),t.question.other?a("div",{staticClass:"singlechoicecheck"},[a("v-checkbox",{attrs:{disabled:"",readonly:"",label:"Other"},model:{value:t.extrafield,callback:function(e){t.extrafield=e},expression:"extrafield"}})],1):t._e(),t._v(" "),t.extrafield?a("div",{staticClass:"extraoption"},[a("v-text-field",{attrs:{disabled:"",readonly:"",label:"Please Specify"},model:{value:t.otheranswer,callback:function(e){t.otheranswer=e},expression:"otheranswer"}})],1):t._e()],1)},staticRenderFns:[]};var Cr=a("VU/8")(qr,wr,!1,function(t){a("3BcA")},"data-v-6e27dc92",null).exports,Mr={props:["allchoice","question"],data:function(){return{choices:this.allchoice,answer:null,extrafield:!1,otheranswer:""}},methods:{},watch:{},created:function(){var t=this,e=window.surveyattemptid;axios.post("/getattemptanswer",{questionid:this.question._id,attemptid:e._id}).then(function(e){1==e.data.status&&null!=e.data.data&&(e.data.data.otheranswer?(t.extrafield=!0,t.otheranswer=e.data.data.otheranswer):t.answer=JSON.parse(e.data.data.answer))}).catch(function(e){t.errors.push(e)})}},Ir={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("div",{staticClass:"dropdown-btn"},[a("v-flex",{attrs:{xs12:"",sm4:""}},[a("v-select",{attrs:{disabled:"",items:t.choices,label:"Select","item-text":"choicetext","item-value":"_id"},model:{value:t.answer,callback:function(e){t.answer=e},expression:"answer"}})],1)],1),t._v(" "),t.question.other?a("div",{staticClass:"checkin"},[a("v-checkbox",{attrs:{disabled:"",readonly:"",label:"Other"},model:{value:t.extrafield,callback:function(e){t.extrafield=e},expression:"extrafield"}})],1):t._e(),t._v(" "),t.extrafield?a("div",{staticClass:"extraoption"},[a("v-text-field",{attrs:{readonly:"",id:"answer1"+t.question._id,label:"Please Specify"},model:{value:t.otheranswer,callback:function(e){t.otheranswer=e},expression:"otheranswer"}})],1):t._e()])},staticRenderFns:[]};var kr=a("VU/8")(Mr,Ir,!1,function(t){a("CF2y")},"data-v-d8167f74",null).exports,jr={props:["textinput"],data:function(){return{answer:""}},methods:{},watch:{},created:function(){var t=this,e=window.surveyattemptid;axios.post("/getattemptanswer",{questionid:this.textinput._id,attemptid:e._id}).then(function(e){1==e.data.status&&null!=e.data.data&&(t.answer=JSON.parse(e.data.data.answer))}).catch(function(e){t.errors.push(e)})}},Nr={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"textinput"},[e("p",[e("strong",[this._v("Answer:")]),this._v(" "+this._s(this.answer))])])},staticRenderFns:[]};var Dr=a("VU/8")(jr,Nr,!1,function(t){a("MfQB")},"data-v-64043b5a",null).exports,Lr={components:{question:yr},props:["alltextinput","question"],data:function(){return{allinput:this.alltextinput,questionno:this.qno,answer:[]}},methods:{setoldanswer:function(t){var e="";return this.answer.forEach(function(a){a.id==t&&(e=a.answer)}),e}},watch:{},created:function(){var t=this,e=window.surveyattemptid;axios.post("/getattemptanswer",{questionid:this.question._id,attemptid:e._id}).then(function(e){1==e.data.status&&null!=e.data.data&&(t.answer=JSON.parse(e.data.data.answer))}).catch(function(e){t.errors.push(e)})}},Ar={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"multitextinput"},t._l(t.question.choice,function(e,s){return a("div",{key:s,staticClass:"textinput"},[""!=e.choicetext?a("p",[a("strong",[t._v(t._s(e.choicetext))]),t._v(" "),a("br"),t._v(" "+t._s(t.setoldanswer(e._id)))]):t._e(),t._v(" "),""==e.choicetext?a("p",[a("strong",[t._v("Answer:")]),t._v(" "+t._s(t.setoldanswer(e._id)))]):t._e()])}),0)},staticRenderFns:[]};var Tr=a("VU/8")(Lr,Ar,!1,function(t){a("Vhee")},"data-v-1442386b",null).exports,Sr={props:["ratingdata"],data:function(){return{ratingq:this.ratingdata,rating:0}},methods:{},created:function(){var t=this,e=window.surveyattemptid;axios.post("/getattemptanswer",{questionid:this.ratingq._id,attemptid:e._id}).then(function(e){1==e.data.status&&null!=e.data.data&&(t.rating=JSON.parse(e.data.data.answer))}).catch(function(e){t.errors.push(e)})}},Er={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"scalerating"},[a("v-subheader",{staticClass:"pl-0"},[t._v("Rated:-  "+t._s(t.rating))]),t._v(" "),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",[a("v-slider",{attrs:{label:"0",max:t.ratingq.length,"thumb-label":"",disabled:""},model:{value:t.rating,callback:function(e){t.rating=e},expression:"rating"}})],1),t._v(" "),a("v-flex",{staticStyle:{width:"60px"},attrs:{shrink:""}},[a("v-card-text",[t._v(t._s(t.ratingq.length))])],1)],1)],1)},staticRenderFns:[]};var zr=a("VU/8")(Sr,Er,!1,function(t){a("zM+v")},null,null).exports,Or={props:["textinput"],data:function(){return{answer:""}},methods:{},watch:{},created:function(){var t=this,e=window.surveyattemptid;axios.post("/getattemptanswer",{questionid:this.textinput._id,attemptid:e._id}).then(function(e){1==e.data.status&&null!=e.data.data&&(t.answer=JSON.parse(e.data.data.answer))}).catch(function(e){t.errors.push(e)})}},Yr={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-center":""}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.answer,expression:"answer"}],staticClass:"xs12textarea",attrs:{disabled:"",rows:"8"},domProps:{value:t.answer},on:{input:function(e){e.target.composing||(t.answer=e.target.value)}}})])},staticRenderFns:[]};var Fr=a("VU/8")(Or,Yr,!1,function(t){a("Q/aQ")},"data-v-5fe243f0",null).exports,Ur={props:["maskformat","question"],computed:{maskedinput:function(){var t="",e=0;for(e=0;e<this.maskformat;e++)t+="#";return t}},data:function(){return{answer:""}},methods:{},watch:{},created:function(){var t=this,e=window.surveyattemptid;axios.post("/getattemptanswer",{questionid:this.question._id,attemptid:e._id}).then(function(e){1==e.data.status&&null!=e.data.data&&(t.answer=JSON.parse(e.data.data.answer))}).catch(function(e){t.errors.push(e)})}},Qr={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"maskedinput"},[a("v-layout",{attrs:{"align-center":""}},[a("v-text-field",{attrs:{disabled:"",label:"Answer",mask:t.maskedinput},model:{value:t.answer,callback:function(e){t.answer=e},expression:"answer"}})],1)],1)},staticRenderFns:[]};var $r=a("VU/8")(Ur,Qr,!1,function(t){a("4M9y")},"data-v-3f275422",null).exports,Zr={props:["ratingdata"],components:{StarRating:ee.a},data:function(){return{question:this.ratingdata,maxrating:this.ratingdata.maxrate,rating:0}},methods:{},created:function(){var t=this,e=window.surveyattemptid;axios.post("/getattemptanswer",{questionid:this.ratingdata._id,attemptid:e._id}).then(function(e){1==e.data.status&&null!=e.data.data&&(t.rating=JSON.parse(e.data.data.answer))}).catch(function(e){t.errors.push(e)})},computed:{cmaxrate:function(){return parseInt(this.ratingdata.maxrate)}}},Rr={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"starrating"},[e("star-rating",{attrs:{"read-only":"",rating:this.rating,"max-rating":this.cmaxrate,"star-size":"30"}})],1)},staticRenderFns:[]};var Pr=a("VU/8")(Zr,Rr,!1,function(t){a("1gnm")},null,null).exports,Gr={props:["question"],data:function(){return{rules:{email:function(t){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)||"Invalid e-mail."}},answer:""}},methods:{},watch:{},created:function(){var t=this,e=window.surveyattemptid;axios.post("/getattemptanswer",{questionid:this.question._id,attemptid:e._id}).then(function(e){1==e.data.status&&null!=e.data.data&&(t.answer=JSON.parse(e.data.data.answer))}).catch(function(e){t.errors.push(e)})}},Jr={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"emailinput"},[a("v-text-field",{attrs:{label:"Email: ",disabled:""},model:{value:t.answer,callback:function(e){t.answer=e},expression:"answer"}})],1)},staticRenderFns:[]};var Wr=a("VU/8")(Gr,Jr,!1,function(t){a("El6f")},"data-v-b0552466",null).exports,Hr={props:["questiondata"],data:function(){return{selecteddate:"",menu:!1,dates:[]}},created:function(){var t=this,e=window.surveyattemptid;axios.post("/getattemptanswer",{questionid:this.questiondata._id,attemptid:e._id}).then(function(e){if(1==e.data.status&&null!=e.data.data){t.selecteddate=e.data.data.answer;var a=e.data.data.answer,s=new Array,i=[];s=a.split("to"),i.push(s[0]),i.push(s[1]),t.dates.push(JSON.parse(i))}}).catch(function(e){t.errors.push(e)})}},Br={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"dateinput"},[e("v-card",{staticClass:"mx-auto",attrs:{"max-width":"344",outlined:""}},[e("v-list-item-title",[e("h3",[this._v("selected Date")])]),this._v(" "),e("v-list-item-subtitle",[this._v(this._s(this.selecteddate))])],1)],1)},staticRenderFns:[]},Vr=a("VU/8")(Hr,Br,!1,null,null,null).exports,Xr={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text_contact qtype"},[e("v-flex",{attrs:{xs12:""}},[e("v-text-field",{attrs:{label:"First Name"}})],1),this._v(" "),e("v-flex",{attrs:{xs12:""}},[e("v-text-field",{attrs:{label:"Last Name"}})],1),this._v(" "),e("v-flex",{attrs:{xs12:""}},[e("v-text-field",{attrs:{label:"Email"}})],1),this._v(" "),e("v-flex",{attrs:{xs12:""}},[e("v-text-field",{attrs:{label:"Phone"}})],1),this._v(" "),e("v-flex",{attrs:{xs12:""}},[e("v-text-field",{attrs:{label:"Address..."}})],1)],1)},staticRenderFns:[]},Kr=a("VU/8")({props:["contactform"],data:function(){return{questiontext:this.contactform.questiontext}}},Xr,!1,null,null,null).exports,tc={props:["matrixdata"],data:function(){return{allrows:this.matrixdata.allrows,allcols:this.matrixdata.allcols,ansno1:this.ansno,answer:0,radioans:[]}},methods:{generateoption:function(){console.log(this.allrows);var t=this.matrixdata.qtype;console.log("qtypedata"+t);var e=this.matrixdata.allrows;console.log(e),e.forEach(function(a,s){"0"==t?e[s].radioans="":e[s].checkans=[],console.log(s)}),this.matrixdata.allrows=e,console.log(e)}},created:function(){var t=this,e=window.surveyattemptid;axios.post("/getattemptanswer",{questionid:this.matrixdata._id,attemptid:e._id}).then(function(e){1==e.data.status&&null!=e.data.data&&(t.answer=JSON.parse(e.data.data.answer),t.allrows.forEach(function(e,a){t.answer.forEach(function(s){"0"==t.matrixdata.qtype?e._id==s.rowid&&(t.allrows[a].radioans=s.selected):e._id==s.rowid&&(t.allrows[a].checkboxans=s.selected)})}))}).catch(function(t){})}},ec={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"matrizquestion"},[a("table",{staticClass:"table",staticStyle:{"background-color":"transparent"}},[a("tr",[a("td"),t._v(" "),t._l(t.matrixdata.allcols,function(e,s){return a("td",{key:"header"+s,staticClass:"text-center"},[t._v(t._s(e.option))])})],2),t._v(" "),t._l(t.allrows,function(e,s){return a("tr",{key:"qq"+s},[a("th",[t._v(t._s(e.option))]),t._v(" "),t._l(t.matrixdata.allcols,function(i,n){return a("td",{key:"question"+s+n,staticClass:"text-center"},["0"==t.matrixdata.qtype?a("v-radio-group",{staticClass:"matrix_radio",model:{value:e.radioans,callback:function(a){t.$set(e,"radioans",a)},expression:"row.radioans"}},[a("v-radio",{attrs:{disabled:"",value:i._id}})],1):a("v-checkbox",{attrs:{disabled:"",value:i._id},model:{value:e.checkans,callback:function(a){t.$set(e,"checkans",a)},expression:"row.checkans"}})],1)})],2)})],2)])},staticRenderFns:[]},ac=a("VU/8")(tc,ec,!1,null,null,null).exports,sc={props:["customformdata","question"],data:function(){return{formdata:this.customformdata,rules:{email:function(t){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)||"Invalid e-mail."}},answer:[]}},methods:{getorigwidth:function(t){var e="xs12";switch(t){case"8.3%":e="xs1";break;case"16.6%":e="xs2";break;case"25%":e="xs3";break;case"33.3%":e="xs4";break;case"41.6%":e="xs5";break;case"50%":e="xs6";break;case"58.3%":e="xs7";break;case"66.6%":e="xs8";break;case"75%":e="xs9";break;case"83.3%":e="xs10";break;case"91.6%":e="xs11";break;case"100%":e="xs12"}return e},setoldanswer:function(t){var e="";return this.answer.forEach(function(a){a.id==t&&(e=a.answer)}),e}},created:function(){var t=this,e=window.surveyattemptid;axios.post("/getattemptanswer",{questionid:this.question._id,attemptid:e._id}).then(function(e){1==e.data.status&&null!=e.data.data&&(t.answer=JSON.parse(e.data.data.answer))}).catch(function(e){t.errors.push(e)})}},ic={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"customform"},[a("v-layout",{attrs:{row:"",wrap:""}},t._l(t.question.customformdata,function(e,s){return a("div",{key:"element"+s,class:"flex "+t.getorigwidth(e.width)},[a("div",{staticClass:"Custom_element"},["Number"==e.type?a("v-text-field",{attrs:{disabled:"",value:t.setoldanswer(e._id),"data-id":e._id,label:e.title,mask:"###############"}}):t._e(),t._v(" "),"Text"==e.type?a("v-text-field",{attrs:{disabled:"",value:t.setoldanswer(e._id),"data-id":e._id,label:e.title}}):t._e(),t._v(" "),"Textarea"==e.type?a("v-text-field",{attrs:{disabled:"",value:t.setoldanswer(e._id),"data-id":e._id,label:e.title}}):t._e(),t._v(" "),"Phone"==e.type?a("v-text-field",{attrs:{disabled:"",value:t.setoldanswer(e._id),"data-id":e._id,label:e.title}}):t._e(),t._v(" "),"Time"==e.type?a("v-text-field",{attrs:{disabled:"",value:t.setoldanswer(e._id),"data-id":e._id,label:e.title,mask:"time"}}):t._e(),t._v(" "),"Email"==e.type?a("v-text-field",{attrs:{disabled:"",value:t.setoldanswer(e._id),"data-id":e._id,rules:[t.rules.email],label:e.title}}):t._e(),t._v(" "),"textarea"==e.type?a("textarea",{staticClass:"xs12textarea",attrs:{disabled:"","data-id":e._id,placeholder:""+e.title,rows:"8"},domProps:{value:t.setoldanswer(e._id)}}):t._e()],1)])}),0)],1)},staticRenderFns:[]};var nc=a("VU/8")(sc,ic,!1,function(t){a("5v/D")},"data-v-2947729c",null).exports,oc={props:["questiondata"],data:function(){return{selectedfile:"",menu:!1}},methods:{},watch:{},created:function(){var t=this,e=window.surveyattemptid;axios.post("/getattemptanswer",{questionid:this.questiondata._id,attemptid:e._id}).then(function(e){1==e.data.status&&null!=e.data.data&&(t.selectedfile=JSON.parse(e.data.data.answer))}).catch(function(e){t.errors.push(e)})},computed:{questionfinalimage:function(){return"<a target='_blink' href='"+window.publicfileurl+this.selectedfile+"'>"+this.selectedfile.substring(this.selectedfile.indexOf("_")+1)+"</a>"}}},rc={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"fileuplad_component"},[""!=t.selectedfile?a("div",{staticClass:"uploadedfile"},[a("div",{staticClass:"uploadfilebutton"},[a("v-icon",[t._v("attach_file")]),t._v(" "),a("div",{domProps:{innerHTML:t._s(t.questionfinalimage)}})],1)]):t._e(),t._v(" "),t._m(0)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"fileupload"},[e("form",{staticClass:"form_dropzone",attrs:{enctype:"multipart/form-data"}},[e("div",{staticClass:"dropzone cursor_pointer"},[e("div",[e("p",{staticClass:"call-to-action"},[this._v("Drag your file here")])])])])])}]},cc=a("VU/8")(oc,rc,!1,null,null,null).exports,dc={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"preview_slider"},[e("v-spacer"),this._v(" "),e("v-carousel",this._l(this.items,function(t,a){return e("v-carousel-item",{key:a,attrs:{src:t.src}})}),1)],1)},staticRenderFns:[]};var lc=a("VU/8")({props:["sliderdata"],data:function(){return{questiontext:this.sliderdata.questiontext,items:this.sliderdata.links}}},dc,!1,function(t){a("E3Ob")},"data-v-e01fb174",null).exports,uc={props:["allchoice","question"],data:function(){return{choices:[],answer:null,allrank:[],selectedanswer:[]}},methods:{},created:function(){var t=this,e=1;this.allrank.push("");var a=window.surveyattemptid;axios.post("/getattemptanswer",{questionid:this.question._id,attemptid:a._id}).then(function(a){1==a.data.status&&(a.data.data&&(t.selectedanswer=JSON.parse(a.data.data.answer)),t.allchoice.forEach(function(a){t.allrank.push(e),e++;var s=t.selectedanswer.find(function(t){return t.option==a._id}),i="";s&&(i=parseInt(s.rank)),t.choices.push({_id:a._id,questionid:a.questionid,choicestate:a.choicestate,choicetext:a.choicetext,answer:i})}))}).catch(function(t){console.log("e- ",t)})}},pc={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Ranking-options"},[t._l(t.choices,function(e,s){return[a("v-layout",{key:s,staticClass:"rating-row",attrs:{id:"subanswer"+e._id}},[a("v-flex",{attrs:{xs1:""}},[a("v-select",{staticClass:"rankselector",attrs:{disabled:"",readonly:"",items:t.allrank,label:""},model:{value:e.answer,callback:function(a){t.$set(e,"answer",a)},expression:"choice.answer"}})],1),t._v(" "),a("v-flex",{attrs:{xs11:""}},[t._v("\n                "+t._s(e.choicetext)+"\n            ")])],1)]})],2)},staticRenderFns:[]},vc=a("VU/8")(uc,pc,!1,null,null,null).exports,hc={props:["pindex","practice"],data:function(){return{isnewemail:!0,isnewphone:!0,isnewfax:!0,isnewwebsite:!0,newemail:[],newphone:[],newfax:[],newwebsite:[],practicedata:null,contactAnswer:"",finalContactData:[],contactData:[],isnewaddress:!1,autocompleteOptions:{componentRestrictions:{country:"au"}},fromregion:"",addressformat:{name:"",state:"",country:"",address:"",mmm:"",gpdivision:"",telephone1:"",addresstype:"",suburb:"",facilitytype:"",trainingprgm:"",emailaddress1:"",postcode:"",addressline1:"",addressline2:"",addressline3:"",rideidentifier:""}}},computed:{google:Ce.gmapApi},methods:{},created:function(){this.practicedata=this.practice,this.newemail=this.practicedata.email,this.newphone=this.practicedata.phone,this.newfax=this.practicedata.fax,this.newwebsite=this.practicedata.website}},mc={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"practiceform"},[null!=t.practicedata?[a("v-layout",{staticClass:"practicename"},[a("v-flex",{attrs:{xs12:""}},[a("h2",[t._v(t._s(t.practicedata.name))])])],1),t._v(" "),t.isnewemail?a("div",{staticClass:"practicefield"},[t.practicedata.email.length>0?t._l(t.practicedata.email,function(e,s){return a("v-layout",{key:s},[a("v-flex",{attrs:{xs3:""}},[0==s?a("strong",[t._v("Email")]):t._e()]),t._v(" "),a("v-flex",{attrs:{xs5:""}},[a("v-text-field",{attrs:{readonly:""},model:{value:t.newemail[s],callback:function(e){t.$set(t.newemail,s,e)},expression:"newemail[index]"}})],1),t._v(" "),a("v-flex",{attrs:{xs3:""}})],1)}):[a("v-layout",[a("v-flex",{attrs:{xs3:""}},[a("strong",[t._v("Email")])]),t._v(" "),a("v-flex",{attrs:{xs5:""}}),t._v(" "),a("v-flex",{attrs:{xs3:""}})],1)]],2):t._e(),t._v(" "),t.isnewphone?a("div",{staticClass:"practicefield"},[t.practicedata.phone.length>0?t._l(t.practicedata.phone,function(e,s){return a("v-layout",{key:s},[a("v-flex",{attrs:{xs3:""}},[0==s?a("strong",[t._v("Phone")]):t._e()]),t._v(" "),a("v-flex",{attrs:{xs5:""}},[a("v-text-field",{attrs:{readonly:""},model:{value:t.newphone[s],callback:function(e){t.$set(t.newphone,s,e)},expression:"newphone[index]"}})],1),t._v(" "),a("v-flex",{attrs:{xs3:""}})],1)}):[a("v-layout",[a("v-flex",{attrs:{xs3:""}},[a("strong",[t._v("Phone")])]),t._v(" "),a("v-flex",{attrs:{xs5:""}}),t._v(" "),a("v-flex",{attrs:{xs3:""}})],1)]],2):t._e(),t._v(" "),t.isnewfax?a("div",{staticClass:"practicefield"},[t.practicedata.fax.length>0?t._l(t.practicedata.fax,function(e,s){return a("v-layout",{key:s},[a("v-flex",{attrs:{xs3:""}},[0==s?a("strong",[t._v("Fax")]):t._e()]),t._v(" "),a("v-flex",{attrs:{xs5:""}},[a("v-text-field",{attrs:{readonly:""},model:{value:t.newfax[s],callback:function(e){t.$set(t.newfax,s,e)},expression:"newfax[index]"}})],1),t._v(" "),a("v-flex",{attrs:{xs3:""}})],1)}):[a("v-layout",[a("v-flex",{attrs:{xs3:""}},[a("strong",[t._v("Fax")])]),t._v(" "),a("v-flex",{attrs:{xs5:""}}),t._v(" "),a("v-flex",{attrs:{xs3:""}})],1)]],2):t._e(),t._v(" "),t.isnewwebsite?a("div",{staticClass:"practicefield"},[t.practicedata.website.length>0?t._l(t.practicedata.website,function(e,s){return a("v-layout",{key:s},[a("v-flex",{attrs:{xs3:""}},[0==s?a("strong",[t._v("Website")]):t._e()]),t._v(" "),a("v-flex",{attrs:{xs5:""}},[a("v-text-field",{attrs:{readonly:""},model:{value:t.newwebsite[s],callback:function(e){t.$set(t.newwebsite,s,e)},expression:"newwebsite[index]"}})],1),t._v(" "),a("v-flex",{attrs:{xs3:""}})],1)}):[a("v-layout",[a("v-flex",{attrs:{xs3:""}},[a("strong",[t._v("Website")])]),t._v(" "),a("v-flex",{attrs:{xs5:""}}),t._v(" "),a("v-flex",{attrs:{xs3:""}})],1)]],2):t._e(),t._v(" "),a("div",{staticClass:"practicefield"},[t.practicedata.address.length>0?t._l(t.practicedata.address,function(e,s){return a("v-layout",{key:s,staticClass:"addressfiled"},[a("v-flex",{attrs:{xs3:""}},[a("strong",[t._v("Address"+t._s(s+1))])]),t._v(" "),a("v-flex",{attrs:{xs5:""}},[e.addressline1?a("v-text-field",{attrs:{readonly:""},model:{value:e.addressline1,callback:function(a){t.$set(e,"addressline1",a)},expression:"item.addressline1"}}):t._e(),t._v(" "),e.addressline2?a("v-text-field",{attrs:{readonly:""},model:{value:e.addressline2,callback:function(a){t.$set(e,"addressline2",a)},expression:"item.addressline2"}}):t._e(),t._v(" "),e.addressline3?a("v-text-field",{attrs:{readonly:""},model:{value:e.addressline3,callback:function(a){t.$set(e,"addressline3",a)},expression:"item.addressline3"}}):t._e(),t._v(" "),e.suburb?a("v-text-field",{attrs:{readonly:""},model:{value:e.suburb,callback:function(a){t.$set(e,"suburb",a)},expression:"item.suburb"}}):t._e(),t._v(" "),e.state?a("v-text-field",{attrs:{readonly:""},model:{value:e.state,callback:function(a){t.$set(e,"state",a)},expression:"item.state"}}):t._e(),t._v(" "),e.country?a("v-text-field",{attrs:{readonly:""},model:{value:e.country,callback:function(a){t.$set(e,"country",a)},expression:"item.country"}}):t._e(),t._v(" "),e.postcode?a("v-text-field",{attrs:{readonly:""},model:{value:e.postcode,callback:function(a){t.$set(e,"postcode",a)},expression:"item.postcode"}}):t._e()],1),t._v(" "),a("v-flex",{attrs:{xs3:""}})],1)}):t._e(),t._v(" "),1==t.isnewaddress||0==t.practicedata.address.length?[a("v-layout",[a("v-flex",{attrs:{xs3:""}},[a("strong",[t._v("Address")])]),t._v(" "),a("v-flex",{attrs:{xs5:""}}),t._v(" "),a("v-flex",{attrs:{xs3:""}})],1)]:t._e()],2),t._v(" "),a("div",{staticClass:"practicefield"},[a("v-layout",[a("v-flex",{attrs:{xs3:""}},[a("strong",[t._v("Accreditation")])]),t._v(" "),a("v-flex",{attrs:{xs4:""}},[t._v("Start Date: "),t.practicedata.accreditian?[t._v(t._s(t.practicedata.accreditian.gpex_accreditationdatefrom))]:t._e()],2),t._v(" "),a("v-flex",{attrs:{xs4:""}},[t._v("End Date: "),t.practicedata.accreditian?[t._v(t._s(t.practicedata.accreditian.gpex_accreditationdateto))]:t._e()],2)],1)],1)]:t._e()],2)},staticRenderFns:[]},fc=a("VU/8")(hc,mc,!1,null,null,null).exports,gc={props:["question"],components:{ModelListSelect:we.ModelListSelect,practice:fc},data:function(){return{thisquestion:this.question,contactInfoData:[],contactAnswer:"",finalContactData:[],contactData:[],showCard:!1,questionpotres:"",finalAnswer:[],addressformat:{name:"",state:"",country:"",address:"",mmm:"",gpdivision:"",telephone1:"",addresstype:"",suburb:"",facilitytype:"",trainingprgm:"",emailaddress1:"",postcode:"",addressline1:"",addressline2:"",addressline3:"",rideidentifier:""}}},methods:{updateserveranswer:function(){},practiceupdated:function(t){this.contactData[t.index]=t.data,this.updateserveranswer()},removepractice:function(t){this.contactData.splice(t,1),this.updateserveranswer()},changequestionselection:function(){var t=this;return Tt()(Lt.a.mark(function e(){var a,s;return Lt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.contactInfoData.findIndex(function(e){return e.id==t.contactAnswer}),e.next=3,t.contactInfoData[a];case 3:(s=e.sent).email=[s.emailaddress1],s.fax=[],s.website=[],s.phone=t.getallphone(s.addressdata,[]),s.address=t.getalladdress(s.addressdata,[]),s.employee=[],console.log(s),t.contactData.push(s),t.updateserveranswer();case 13:case"end":return e.stop()}},e,t)}))()},getallphone:function(t,e){return Array.isArray(t)&&t.forEach(function(t){t.telephone1&&!e.includes(t.telephone1)&&e.push(t.telephone1)}),e},getalladdress:function(t,e){var a=this;return Array.isArray(t)&&t.forEach(function(t){t.name&&(a.addressformat.name=t.name),a.addressformat.state=a.getgpexname(t.state),a.addressformat.address=a.getgpexname(t.address),a.addressformat.country=a.getgpexname(t.country),a.addressformat.mmm=t.gpex_mmm,a.addressformat.gpdivision=a.getgpexname(t.gpdivision),a.addressformat.telephone1=t.telephone1,a.addressformat.addresstype=a.getgpexname(t.addresstype),a.addressformat.suburb=t.gpex_suburb,a.addressformat.facilitytype=a.getgpexname(t.facilitytype),a.addressformat.trainingprgm=a.getgpexname(t.trainingprgm),a.addressformat.emailaddress1=t.emailaddress1,a.addressformat.postcode=t.gpex_postcode,a.addressformat.addressline1=t.gpex_addressline1,a.addressformat.addressline2=t.gpex_addressline2,a.addressformat.addressline3=t.gpex_addressline3,a.addressformat.rideidentifier=t.gpex_rideidentifier,e.push(a.addressformat),a.resetaddress()}),e},getgpexname:function(t){var e=[];return t.length>0&&t.forEach(function(t){e.push(t.gpex_name)}),e.join(", ")},removeElement:function(t){this.contactData.splice(t,1)},resetaddress:function(){this.addressformat={name:"",state:"",country:"",address:"",mmm:"",gpdivision:"",telephone1:"",addresstype:"",suburb:"",facilitytype:"",trainingprgm:"",emailaddress1:"",postcode:"",addressline1:"",addressline2:"",addressline3:"",rideidentifier:""}}},created:function(){var t=this,e=window.surveyattemptid;axios.post("/contactinfo").then(function(e){t.contactInfoData=JSON.parse(e.data.data)}).catch(function(t){console.log("ERROR >>> ",t)}),axios.post("/getattemptanswer",{questionid:this.question._id,attemptid:e._id}).then(function(e){e.data.data?e.data.data.answer&&(t.contactData=JSON.parse(e.data.data.answer)):console.log("no attempted answers found")}).catch(function(e){t.errors.push(e)})}},yc={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("model-list-select",{attrs:{list:t.contactInfoData,"option-value":"id","option-text":"name",isDisabled:!0,placeholder:"select"},on:{input:t.changequestionselection},model:{value:t.contactAnswer,callback:function(e){t.contactAnswer=e},expression:"contactAnswer"}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.questionpotres,expression:"questionpotres"}],attrs:{type:"hidden"},domProps:{value:t.questionpotres},on:{input:function(e){e.target.composing||(t.questionpotres=e.target.value)}}}),t._v(" "),t._l(t.contactData,function(e,s){return[a("practice",{key:"cinfo"+s,attrs:{pindex:s,practice:e},on:{datachanged:t.practiceupdated,removepractice:t.removepractice}})]})],2)},staticRenderFns:[]},_c=a("VU/8")(gc,yc,!1,null,null,null).exports,xc={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"datatablequestion"},[a("h2",{staticClass:"practicename"},[t._v(t._s(t.answer.practicename))]),t._v(" "),a("table",{staticClass:"dtable table",staticStyle:{"background-color":"transparent"}},[a("tr",{staticClass:"tableheader"},t._l(t.dataCol.allcols,function(e,s){return a("th",{key:"header"+s,staticClass:"text-center"},[t._v(t._s(e.option))])}),0),t._v(" "),t.finalAnswer.length>0?[t._l(t.finalAnswer,function(e,s){return[a("tr",{key:"datarow"+s,staticClass:"tabledata"},t._l(t.dataCol.allcols,function(s,i){return a("td",{key:i,staticClass:"text-center"},[t._v(t._s(e[s._id]))])}),0)]})]:t._e()],2),t._v(" "),a("div",{staticClass:"my-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.questionpotres,expression:"questionpotres"}],attrs:{type:"hidden"},domProps:{value:t.questionpotres},on:{input:function(e){e.target.composing||(t.questionpotres=e.target.value)}}})])])},staticRenderFns:[]},bc={components:{dtable:a("VU/8")({props:["dataCol","practices","answer","tindex"],data:function(){return{allAnswers:[],selected:-1,finalAnswer:this.answer.finalAnswer,dialog:!1,questionpotres:"",errors:[]}},methods:{},created:function(){}},xc,!1,null,null,null).exports},props:["question"],data:function(){return{allAnswers:[],allpractice:[],finalAnswer:[],dialog:!1,questionpotres:"",infoconnected:this.question.qtype.length>10?1:0,errors:[],currentanswer:[]}},methods:{getallPractice:function(){var t=this,e=window.surveyattemptid;axios.post("/getattemptanswer",{questionid:this.question.qtype,attemptid:e._id}).then(function(e){e.data.data?e.data.data.answer&&(t.allpractice=JSON.parse(e.data.data.answer),t.getcurrentquestionanswer()):(t.allpractice=[],t.getcurrentquestionanswer())}).catch(function(e){t.errors.push(e)})},getcurrentquestionanswer:function(){var t=this,e=window.surveyattemptid;axios.post("/getattemptanswer",{questionid:this.question._id,attemptid:e._id}).then(function(e){e.data.data&&e.data.data.answer?t.currentanswer=JSON.parse(e.data.data.answer):t.currentanswer=[],t.mergeallanswer()}).catch(function(e){t.errors.push(e)})},mergeallanswer:function(){var t=this;console.log("mergeallanswer- ",this.infoconnected);var e=[];1==this.infoconnected?this.allpractice.forEach(function(a){var s=t.currentanswer.find(function(t){return t.practice==a.id});s?e.push(s):e.push({practice:a.id,practicename:a.name,finalAnswer:[]})}):(console.log("currentanswer- ",this.currentanswer),this.currentanswer.length>0?e[0]=this.currentanswer[0]:e[0]={practice:"",practicename:"",finalAnswer:[]},console.log("allAnswers- ",this.allAnswers)),this.allAnswers=e},tableupdated:function(t){var e=this.allAnswers[t.index];e.finalAnswer=t.data,this.allAnswers[t.index]=e,this.updateserveranswer()},updateserveranswer:function(){}},watch:{allAnswers:function(t,e){console.log("watch allAnswers",this.allAnswers)}},created:function(){this.getallPractice()}},qc={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"datatable"},[1==t.infoconnected?[t._l(t.allAnswers,function(e,s){return[a("dtable",{key:"dtable"+s,attrs:{tindex:s,dataCol:t.question,practices:t.allpractice,answer:e},on:{datachanged:t.tableupdated}})]})]:t.allAnswers.length>0?[a("dtable",{attrs:{dataCol:t.question,tindex:0,practices:t.allpractice,answer:t.allAnswers[0]},on:{datachanged:t.tableupdated}})]:t._e()],2)},staticRenderFns:[]},wc=a("VU/8")(bc,qc,!1,null,null,null).exports,Cc={props:["questiondata","qno"],components:{question:yr,multichoice:br,singlechoice:Cr,dropdown:kr,textinput:Dr,multitextinput:Tr,ratescale:zr,vtextarea:Fr,numberinput:$r,ratingstars:Pr,emailtextbox:Wr,dateinput:Vr,contactform:Kr,slider:lc,matrixquestion:ac,customform:nc,fileupload:cc,ranking:vc,ModelListSelect:we.ModelListSelect,contactInfo:_c,dataTable:wc},data:function(){return{question:null,questionno:this.qno,commenttext:""}},watch:{questionno:function(t,e){},questiondata:function(t,e){return this.questiondata}},methods:{sendImageFile:function(){var t=this;return Tt()(Lt.a.mark(function e(){var a,s,i,n,o;return Lt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.$refs.file.files[0],(s=new FormData).append("file",a),e.prev=3,e.next=6,axios.post("/upload",s);case 6:i=e.sent,n=window.surveyuser,o=window.surveyattemptid,axios.post("/updateattemptanswer",{surveyid:t.questiondata.surveyid,userid:n._id,questionid:t.questiondata._id,attemptid:o._id,answer:i.data.file}).then(function(e){console.log(e),t.fileuploaded=a}).catch(function(t){console.log(t)}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.log(e.t0);case 15:case"end":return e.stop()}},e,t,[[3,12]])}))()}},created:function(){var t=this;axios.post("/getquestion",{questionid:this.questiondata._id}).then(function(e){var a=window.surveyattemptid;t.question=e.data.data,axios.post("/getquestioncomments",{questionid:t.questiondata._id,attemptid:a._id}).then(function(e){e.data&&(t.commenttext=e.data.comment)})})},computed:{questionfinalimage:function(){return this.questiondata.image.indexOf("://")>0?this.questiondata.image:window.publicfileurl+this.questiondata.image}}},Mc={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"finalquestion"},[null!=t.question?a("v-layout",[a("v-flex",{staticClass:"finalquestionindex",attrs:{xs1:""}},["qtypeslider"!=t.question.questiontype?a("span",[t._v("\n                "+t._s(t.questionno+1)+".\n            ")]):t._e()]),t._v(" "),a("v-flex",{attrs:{xs11:"",questionbox:""}},[a("question",{attrs:{questiontext:t.question.questiontext,qno:t.questionno}}),t._v(" "),t.question.imagefirst?[""!=t.question.image&&"1"==t.question.haveimage?a("div",{staticClass:"finalquestionimage"},[a("img",{staticClass:"img-question",attrs:{src:t.questionfinalimage}})]):t._e(),t._v(" "),"1"==t.question.havedescription?a("div",{staticClass:"finalquestiondescription",domProps:{innerHTML:t._s(t.question.description)}}):t._e()]:["1"==t.question.havedescription?a("div",{staticClass:"finalquestiondescription",domProps:{innerHTML:t._s(t.question.description)}}):t._e(),t._v(" "),""!=t.question.image&&"1"==t.question.haveimage?a("div",{staticClass:"finalquestionimage"},[a("img",{staticClass:"img-question",attrs:{src:t.questionfinalimage}})]):t._e()],t._v(" "),"multic"==t.question.questiontype?a("div",{staticClass:"multichoice"},[a("multichoice",{attrs:{question:t.question}})],1):t._e(),t._v(" "),"singlec"==t.question.questiontype?a("div",{staticClass:"singlechoice"},[a("singlechoice",{attrs:{question:t.question}})],1):t._e(),t._v(" "),"dropdown"==t.question.questiontype?a("div",{staticClass:"drop-down"},[a("dropdown",{attrs:{allchoice:t.question.choice,question:t.question,qno:t.questionno}})],1):t._e(),t._v(" "),"ranking"==t.question.questiontype?a("div",{staticClass:"ranking"},[a("ranking",{attrs:{allchoice:t.question.choice,question:t.question}})],1):t._e(),t._v(" "),"multipletext"==t.question.questiontype?a("div",{staticClass:"multipletext"},[a("multitextinput",{attrs:{alltextinput:t.question.choice,question:t.question,qno:t.questionno}})],1):t._e(),t._v(" "),"singletext"==t.question.questiontype?a("div",{staticClass:"singletext"},[a("textinput",{attrs:{textinput:t.question,qno:t.questionno}})],1):t._e(),t._v(" "),"commenttext"==t.question.questiontype?a("div",{staticClass:"commenttext"},[a("vtextarea",{attrs:{textinput:t.question,qno:t.questionno}})],1):t._e(),t._v(" "),"numbertext"==t.question.questiontype?a("div",{staticClass:"numbertext"},[a("numberinput",{attrs:{maskformat:t.question.maskformat,question:t.question,qno:t.questionno}})],1):t._e(),t._v(" "),"ratescal"==t.question.questiontype?a("div",{staticClass:"ratescal"},[a("ratescale",{attrs:{ratingdata:t.question}})],1):t._e(),t._v(" "),"ratestars"==t.question.questiontype?a("div",{staticClass:"ratestars"},[a("ratingstars",{attrs:{ratingdata:t.question}})],1):t._e(),t._v(" "),"emailtext"==t.question.questiontype?a("div",{staticClass:"ratestars"},[a("emailtextbox",{attrs:{question:t.question,qno:t.questionno}})],1):t._e(),t._v(" "),"qtypedatetime"==t.question.questiontype?a("div",{staticClass:"qtypedatetime"},[a("dateinput",{attrs:{questiondata:t.question}})],1):t._e(),t._v(" "),"contacttext"==t.question.questiontype?a("div",{staticClass:"contacttext"},[a("contactform",{attrs:{contactform:t.question}})],1):t._e(),t._v(" "),"qtypeslider"==t.question.questiontype?a("div",{staticClass:"qtypeslider"},[a("slider",{attrs:{sliderdata:t.question}})],1):t._e(),t._v(" "),"matrixquestion"==t.question.questiontype?a("div",{staticClass:"matrixquestion"},[a("matrixquestion",{attrs:{matrixdata:t.question}})],1):t._e(),t._v(" "),"customform"==t.question.questiontype?a("div",{staticClass:"customform"},[a("customform",{attrs:{customformdata:t.question.customformdata,question:t.question}})],1):t._e(),t._v(" "),"fileupload"==t.question.questiontype?a("div",{staticClass:"fileuploadtype"},[a("fileupload",{attrs:{questiondata:t.question}})],1):t._e(),t._v(" "),"contactInfo"==t.question.questiontype?a("div",{staticClass:"fileuploadtype"},[a("contactInfo",{attrs:{question:t.question}})],1):t._e(),t._v(" "),"dataTable"==t.question.questiontype?a("div",{staticClass:"fileuploadtype"},[a("dataTable",{attrs:{question:t.question}})],1):t._e(),t._v(" "),1==t.question.havecomment?a("div",[a("div",{},[""!=t.question.commenttext?a("label",[t._v(t._s(t.question.commenttext))]):a("label",[t._v("Enter comment here")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.commenttext,expression:"commenttext"}],staticClass:"xs12textarea resize",attrs:{disabled:"",readonly:""},domProps:{value:t.commenttext},on:{input:function(e){e.target.composing||(t.commenttext=e.target.value)}}})])]):t._e()],2)],1):t._e()],1)},staticRenderFns:[]};var Ic=a("VU/8")(Cc,Mc,!1,function(t){a("AlXu")},null,null).exports,kc={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-layout",[e("v-flex",{staticClass:"finalquestionindex",attrs:{xs1:""}}),this._v(" "),e("v-flex",{attrs:{xs11:"",questionbox:""}},[e("h2",{staticClass:"section-heading"},[this._v(this._s(this.sectiondata.questiontext))])])],1)},staticRenderFns:[]};var jc=a("VU/8")({props:["sectiondata"]},kc,!1,function(t){a("V0B/")},"data-v-0f112488",null).exports,Nc=a("CqLJ"),Dc=localStorage.username,Lc=a("NCci"),Ac=(new Date,{components:{finalqestion:Ic,displayheading:jc,userdetailssnipt:wt,reportheader:Li},data:function(){return{id:null,attemptid:this.$route.params.id,prevnext:!0,semesterid:"staticsemesterid",currentuser:"0",builderarray:[],currentquestion:1,messagebox:"",surveyconfig:null,surveydata:null,attemptdata:null,questionorder:[],datestarted:"",datefinished:"",modifiedddate:"",createddate:"",userrole:[],have_editorapproval:!1,have_reviewerapproval:!1,have_complete:!1,allresponse:[],pdf:null,margins:{top:90,bottom:40,left:40,width:550}}},methods:{downloadexcelreport:function(t){var e=this,a=this.$loading.show({loader:"dots"});o.a.post("/downlaodresponsexls",{respid:t},{responseType:"arraybuffer"}).then(function(t){t.headers["content-type"].indexOf("application/json")>=0?e.$toast.open.open({message:t.data.message,position:"top",type:"error"}):Lc.downloadfiles(t,"xlsx"),a.hide()}).catch(function(t){a.hide(),console.log("e- ",t)})},haveaccesstonav:function(){return this.userrole.indexOf(1)>=0||this.userrole.indexOf(2)>=0||this.userrole.indexOf(3)>=0},pdfheader:function(){this.pdf.setFontSize(20),this.pdf.setTextColor(40),this.pdf.setFontStyle("normal"),this.pdf.text(this.surveydata.surveyname,this.margins.left,40),this.pdf.setLineCap(2),this.pdf.line(3,70,this.margins.width+43,70)},pdffooter:function(t,e){var a="Page "+t+" of "+e;this.pdf.setFontSize(10),this.pdf.text(a,this.margins.left,this.pdf.internal.pageSize.height-20),this.pdf.line(3,800,this.margins.width+43,800)},headerFooterFormatting:function(t){for(var e=t;e>=1;e--)this.pdf.setPage(e),1==e&&this.pdfheader(),this.pdffooter(e,t),this.pdf.page++},exportPDFAllresponse:function(){var t=this;this.pdf=new Ti.a("p","pt","a4");var e="";o.a.post("/downlaodresponsexls",{respid:this.attemptid,onlydata:!0}).then(function(a){if(console.log("this.pdf- ",t.pdf),a.data.data.length>0){var s=a.data.heading;e+='<div style="padding-bottom:50px;font-family: sans-serif;">',s.forEach(function(t){if(!(t.length<2)){var a=t[0],s=t[1];e+='<div style=" font-weight: 600; padding-bottom:5px;" >'+a.value+': <span style="color: gray;">'+s.value+"</span></div>"}}),e+="</div>",e+='<div style="padding-bottom:50px;"> </div>',a.data.data.forEach(function(t,a){var s="5px";0==a&&(s="40px");var i=t.answer1.toString(),n=t.comment1.toString();t.answer1=i.replace(/\n/g,"</div><div>"),t.comment1=n.replace(/\n/g,"</div><div>"),e+='<div style="margin-bottom:50px; padding: 5px; font-family: sans-serif;">',e+='<div style="font-weight: 600; color:gray; padding-top:'+s+'; padding-bottom:10px;" >Q'+t.qno+": "+t.question+" </div>",t.other1.length>0?(e+='<div style="font-weight: 600; color:gray; padding-top:40px; padding-bottom:10px;word-break: break-all;" >'+t.othertext+" </div>",e+='<div style="padding-bottom: 10px;word-break: break-all;"><span style="">Other:</span> '+t.other1+"</div>"):e+='<div style="padding-bottom: 10px;word-break: break-all; font-size:12px;"><span style="">Ans:</span> '+t.answer1+"</div>",t.comment1.length>0&&(e+='<div style="font-weight: 600; padding-top:10px; padding-bottom:10px;word-break: break-all;" >'+t.commenttext+" </div>",e+='<div style="padding-bottom: 30px;word-break: break-all;"><span style="">Comments:</span> '+t.comment1+"</div>"),e+="</div>"}),console.log(e),e=e.replace(/<[^/>][^>]*><\/[^>]+>/gim,""),t.pdf.fromHTML(e,t.margins.left,t.margins.top,{width:t.margins.width},function(t){},t.margins),t.headerFooterFormatting(t.pdf.internal.getNumberOfPages()),t.pdf.save("AllResponse_"+t.attemptid+"_"+Date.now()+".pdf")}else alert("Failed to load content")}).catch(function(t){console.log("cache error",t)})},getexportlink:function(t,e){var a="#";return"csv"==t&&(a=o.a.defaults.baseURL+"/downlaodresponsexls?respid="+e),a},changeatemptstate:function(t){var e=this,a=this.attemptdata,s=this.currentuser,i=(a._id,Date.now());0===t?("1"==a.approvededi&&(i=""),o.a.post("/approvebyeditor",{attemptid:a._id,status:a.approvededi,userid:s}).then(function(t){e.attemptdata.approvedbyedidate=i})):1===t?("1"==a.approvedrev&&(i=""),o.a.post("/approvebyviewer",{attemptid:a._id,status:a.approvedrev,userid:s}).then(function(t){e.attemptdata.approvedbyrevdate=i})):2===t&&("1"==a.completed&&(i=""),o.a.post("/attemptcompleted",{attemptid:a._id,status:a.completed,userid:s}).then(function(t){e.attemptdata.completeddate=i}))},getquestionno:function(t){for(var e=0,a=0;a<this.builderarray.length&&!(a>=t);a++){var s=this.builderarray[a];"qtypeslider"==s.questiontype||"welcomepage"==s.questiontype||"thankyoupage"==s.questiontype||"sectionheading"==s.questiontype||"pagebreak"==s.questiontype||"descriptionbox"==s.questiontype||""!=s.questiontext&&(e+=1)}return e},getsurveyimage:function(t){return""==t||null==t?"https://source.unsplash.com/collection/4728778/1600x900/":t.indexOf("unsplash.com")>=0?t:window.publicfileurl+t},changeResponse:function(t){var e=this.allresponse.indexOf(this.attemptid)+t;this.allresponse.length>e&&e<this.allresponse.length?location.href="/responsedetails/"+this.allresponse[e]:this.$toast.open({message:"No attempt available",position:"top",type:"error"})}},computed:{totalquestionno:function(){for(var t=0,e=0;e<this.builderarray.length;e++){var a=this.builderarray[e];"qtypeslider"==a.questiontype||"welcomepage"==a.questiontype||"thankyoupage"==a.questiontype||"sectionheading"==a.questiontype||"pagebreak"==a.questiontype||"descriptionbox"==a.questiontype||""!=a.questiontext&&(t+=1)}return t},nextattempt:function(){var t=this.allresponse.indexOf(this.attemptid);return t<this.allresponse.length-1&&this.allresponse[t+1]},prevattempt:function(){var t=this.allresponse.indexOf(this.attemptid);return t>0&&this.allresponse[t]}},created:function(){var t=this;""==this.attemptid||void 0==this.attemptid?this.$router.push("/"):(console.log("username-",Dc),o.a.post("/getcurrentuser",{username:Dc}).then(function(e){null==e.data&&t.$router.push("/"),t.currentuser=e.data._id,Lc.is_roleassigned(e.data.roles,"1")&&t.userrole.push("1"),Lc.is_roleassigned(e.data.roles,"2")&&t.userrole.push("2"),Lc.is_roleassigned(e.data.roles,"3")&&t.userrole.push("3")}).catch(function(e){t.errors.push(e)}),o.a.post("/getattemptsurvey",{attemptid:this.attemptid}).then(function(e){null==e.data&&t.$router.push("/"),t.attemptdata=e.data,t.id=t.attemptdata.surveyid,o.a.post("/allresponselist",{surveyid:t.id}).then(function(e){e.data&&e.data.forEach(function(e){t.allresponse.push(e._id)})}),o.a.post("/getallworkflow",{surveyid:t.attemptdata.surveyid}).then(function(e){var a=e.data;t.allwordflow=a,a.filter(function(t){return"1"==t.action&&"2"==t.role&&""!=t.notifyrole}).length>0&&(t.have_reviewerapproval=!0),a.filter(function(t){return"1"==t.action&&"1"==t.role&&""!=t.notifyrole}).length>0&&(t.have_editorapproval=!0),a.filter(function(t){return"2"==t.action&&""!=t.role&&""!=t.notifyrole}).length>0&&(t.have_complete=!0)}),0!=t.attemptdata.datestarted&&(t.datestarted=Nc(t.attemptdata.datestarted,"yyyy-mm-dd ")),0!=t.attemptdata.datefinished&&(t.datefinished=Nc(t.attemptdata.datefinished,"yyyy-mm-dd ")),t.attemptdata.approvedrev&&(t.attemptdata.approvedrev=t.attemptdata.approvedrev.toString()),t.attemptdata.approvededi&&(t.attemptdata.approvededi=t.attemptdata.approvededi.toString()),t.attemptdata.completed&&(t.attemptdata.completed=t.attemptdata.completed.toString()),window.surveyattemptid=e.data,t.id=e.data.surveyid,o.a.post("/getsurvey",{surveyid:e.data.surveyid}).then(function(e){t.surveydata=e.data,t.modifiedddate=Nc(t.surveydata.modifiedddate,"yyyy-mm-dd "),t.createddate=Nc(parseInt(t.surveydata.createddate),"yyyy-mm-dd ")}),o.a.post("/getsurveyconfig",{surveyid:t.id}).then(function(e){null==e.data||(t.surveyconfig=e.data.data)}).catch(function(e){t.errors.push(e)});var a=[];o.a.post("/getquestions",{surveyid:t.id}).then(function(e){var s=e.data;o.a.post("/getquestionorder",{surveyid:t.id}).then(function(e){t.questionorder=e.data,t.questionorder.forEach(function(e){s.forEach(function(i){i.order=e.order;var n=null;if(i.qtype&&i.qtype.length>10&&"dataTable"==i.questiontype&&!a.includes(i.qtype)){a.push(i.qtype);var o=s.findIndex(function(t){return t._id==i.qtype});(n=s.find(function(t){return t._id==i.qtype}))&&(t.builderarray.push(n),n=null),o>=0&&s.splice(o,1)}i._id!=e.questionid||a.includes(i._id)||(a.push(i._id),t.builderarray.push(i))})})}).catch(function(t){console.log(t)})})}))},watch:{surveyconfig:function(t,e){return t}}}),Tc={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{staticClass:"conatiner_responceform",attrs:{wrap:""}},[t.id&&(t.userrole.indexOf("1")>=0||t.userrole.indexOf("2")>=0||t.userrole.indexOf("3")>=0)?a("reportheader",{attrs:{surveyid:t.id,active:"88",prevnext:t.prevnext,attemptid:t.attemptid}}):t._e(),t._v(" "),null!=t.surveydata&&null!=t.surveyconfig?a("v-container",{staticClass:"conatiner_dashboard"},[a("div",{staticClass:"surveydetails"},[a("v-layout",{staticClass:"surveysect"},[a("v-flex",{attrs:{xs8:""}},[a("div",{},[t._v("Individual report")]),t._v(" "),a("h2",[t._v(t._s(t.surveydata.surveyname))])])],1),t._v(" "),a("v-layout",{staticClass:"surveyressect"},[a("v-flex",{attrs:{xs12:"",sm6:""}},[a("div",[t._v("Total Question : "+t._s(t.totalquestionno))]),t._v(" "),a("div",[t._v("Question skipped : -------")]),t._v(" "),a("div",[t._v("Start time : "+t._s(t.datestarted))]),t._v(" "),a("div",[t._v("Finish time : "+t._s(t.datefinished))]),t._v(" "),t.attemptdata.anonymous?a("div",[t._v("User : Anonymous")]):a("div",[t._v("User : "),t.attemptdata.userid.includes("_nologin")?a("span",[t._v("Without login")]):a("userdetailssnipt",{attrs:{utype:"span_nameonly",uid:t.attemptdata.userid}})],1)]),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("div",[t._v("Editor : "),t._l(t.surveyconfig.editor,function(t){return a("userdetailssnipt",{key:t,attrs:{utype:"span_nameonly",uid:t}})})],2),t._v(" "),a("div",[t._v("Reviewer : "),t._l(t.surveyconfig.reviewer,function(t){return a("userdetailssnipt",{key:t,attrs:{utype:"span_nameonly",uid:t}})})],2),t._v(" "),a("div",[t._v("Created : "+t._s(t.createddate))]),t._v(" "),a("div",[t._v("Modified : "+t._s(t.modifiedddate))]),t._v(" "),a("div",[t._v("Active : "),"1"==t.surveyconfig.active?a("span",[t._v("Yes")]):a("span",[t._v("No")])])])],1),t._v(" "),a("v-layout",{staticClass:"surveyressect"},[a("v-flex",{attrs:{xs12:"",sm6:""}},[a("div",[t._v("\n            Export:-  "),a("a",{on:{click:function(e){return t.downloadexcelreport(t.attemptid)}}},[a("span",{staticClass:"exportbutton"},[t._v("CSV Export")])]),t._v(" "),a("a",{on:{click:t.exportPDFAllresponse}},[a("span",{staticClass:"exportbutton"},[t._v("PDF Export")])])])])],1)],1)]):t._e(),t._v(" "),a("v-container",{staticClass:"responceform conatiner_dashboard",attrs:{id:"responceform"}},[a("div",{staticClass:"questionblock"},t._l(t.builderarray,function(e,s){return a("div",{key:"questionid_"+s},["sectionheading"===e.questiontype?a("displayheading",{attrs:{sectiondata:e}}):"pagebreak"===e.type?a("v-divider"):"welcomepage"==e.questiontype?a("div",{staticClass:"welcomepage"},[a("v-layout",[a("v-flex",{staticClass:"finalquestionindex",attrs:{xs1:""}}),t._v(" "),a("v-flex",{attrs:{xs11:"",questionbox:""}},[a("div",{domProps:{innerHTML:t._s(e.welcomenote)}})])],1)],1):"descriptionbox"==e.questiontype?a("div",{staticClass:"descriptionbox"},[a("v-layout",[a("v-flex",{staticClass:"finalquestionindex",attrs:{xs1:""}}),t._v(" "),a("v-flex",{attrs:{xs11:"",questionbox:""}},[a("div",{domProps:{innerHTML:t._s(e.description)}})])],1)],1):"thankyoupage"==e.questiontype?a("div",{staticClass:"thankyoupage"},[a("v-layout",[a("v-flex",{staticClass:"finalquestionindex",attrs:{xs1:""}}),t._v(" "),a("v-flex",{attrs:{xs11:"",questionbox:""}},[a("div",{domProps:{innerHTML:t._s(e.thankyounote)}})])],1)],1):""!==e.questiontext?a("finalqestion",{attrs:{questiondata:e,qno:t.getquestionno(s)}}):t._e()],1)}),0)]),t._v(" "),null!=t.surveyconfig?a("div",{staticClass:"floatcontainer bottom right"},[a("div",{staticClass:"signlepageapproval"},[(-1!=t.surveyconfig.editor.indexOf(t.currentuser)||t.userrole.indexOf("1")>=0)&&t.have_editorapproval?a("v-checkbox",{attrs:{label:"Approve E",value:"1"},on:{change:function(e){return t.changeatemptstate(0)}},model:{value:t.attemptdata.approvededi,callback:function(e){t.$set(t.attemptdata,"approvededi",e)},expression:"attemptdata.approvededi"}}):t._e(),t._v(" "),!(-1!=t.surveyconfig.reviewer.indexOf(t.currentuser)&&1==t.attemptdata.approvededi&&t.have_reviewerapproval||t.userrole.indexOf("1")>=0&&t.have_reviewerapproval)||!t.have_reviewerapproval&&t.have_editorapproval?-1!=t.surveyconfig.reviewer.indexOf(t.currentuser)&&t.have_reviewerapproval||t.have_reviewerapproval&&!t.have_editorapproval?a("v-checkbox",{attrs:{label:"Editor Approval Pending",readonly:"",value:"1",disabled:""},model:{value:t.attemptdata.approvedrev,callback:function(e){t.$set(t.attemptdata,"approvedrev",e)},expression:"attemptdata.approvedrev"}}):t._e():a("v-checkbox",{attrs:{label:"Approve R",value:"1"},on:{change:function(e){return t.changeatemptstate(1)}},model:{value:t.attemptdata.approvedrev,callback:function(e){t.$set(t.attemptdata,"approvedrev",e)},expression:"attemptdata.approvedrev"}}),t._v(" "),(-1!=t.surveyconfig.reviewer.indexOf(t.currentuser)||-1!=t.surveyconfig.editor.indexOf(t.currentuser))&&"1"==t.attemptdata.approvedrev&&"1"==t.attemptdata.approvededi||t.userrole.indexOf("1")>=0&&t.have_complete||t.have_complete&&(!t.have_reviewerapproval||!t.have_editorapproval)?a("v-checkbox",{attrs:{label:"Complete",value:"1"},on:{change:function(e){return t.changeatemptstate(2)}},model:{value:t.attemptdata.completed,callback:function(e){t.$set(t.attemptdata,"completed",e)},expression:"attemptdata.completed"}}):t._e()],1)]):t._e()],1)},staticRenderFns:[]},Sc=a("VU/8")(Ac,Tc,!1,null,null,null).exports,Ec=a("CqLJ"),zc=localStorage.username,Oc=a("NCci"),Yc=(new Date,{components:{finalqestion:To,displayheading:jc,userdetailssnipt:wt,reportheader:Li},data:function(){return{id:null,attemptid:this.$route.params.id,prevnext:!1,activetab:111,semesterid:"staticsemesterid",currentuser:"0",ciChangecount:0,builderarray:[],currentquestion:1,messagebox:"",surveyconfig:null,surveydata:null,attemptdata:null,questionorder:[],datestarted:"",datefinished:"",modifiedddate:"",createddate:"",userrole:[],have_editorapproval:!1,have_reviewerapproval:!1,have_complete:!1,allresponse:[],pdf:null,margins:{top:90,bottom:40,left:40,width:550}}},methods:{finishSurvey:function(){var t=this;o.a.post("/finishattempt",{attemptid:this.attemptid,token:"token"}).then(function(e){null!=e.data?t.$toast.open({message:"Submitted",position:"top",type:"success"}):t.$toast.open({message:"Unable to save Survey",position:"top",type:"error"})})},validatedform:function(){},gotoresponselist:function(t){0==t&&this.$router.push("/responselist/"+this.id)},haveaccesstonav:function(){return this.userrole.indexOf(1)>=0||this.userrole.indexOf(2)>=0||this.userrole.indexOf(3)>=0},pdfheader:function(){this.pdf.setFontSize(20),this.pdf.setTextColor(40),this.pdf.setFontStyle("normal"),this.pdf.text(this.surveydata.surveyname,this.margins.left,40),this.pdf.setLineCap(2),this.pdf.line(3,70,this.margins.width+43,70)},pdffooter:function(t,e){var a="Page "+t+" of "+e;this.pdf.setFontSize(10),this.pdf.text(a,this.margins.left,this.pdf.internal.pageSize.height-20),this.pdf.line(3,800,this.margins.width+43,800)},headerFooterFormatting:function(t){for(var e=t;e>=1;e--)this.pdf.setPage(e),1==e&&this.pdfheader(),this.pdffooter(e,t),this.pdf.page++},exportPDFAllresponse:function(){var t=this;this.pdf=new Ti.a("p","pt","a4");var e="";o.a.get("/downlaodresponsexls?respid="+this.attemptid+"&onlydata=true",{}).then(function(a){if(console.log("this.pdf- ",t.pdf),a.data.data.length>0){var s=a.data.heading;e+='<div style="padding-bottom:50px;font-family: sans-serif;">',s.forEach(function(t){if(!(t.length<2)){var a=t[0],s=t[1];e+='<div style=" font-weight: 600; padding-bottom:5px;" >'+a.value+': <span style="color: gray;">'+s.value+"</span></div>"}}),e+="</div>",e+='<div style="padding-bottom:50px;"> </div>',a.data.data.forEach(function(t,a){var s="5px";0==a&&(s="40px");var i=t.answer1.toString(),n=t.comment1.toString();t.answer1=i.replace(/\n/g,"</div><div>"),t.comment1=n.replace(/\n/g,"</div><div>"),e+='<div style="margin-bottom:50px; padding: 5px; font-family: sans-serif;">',e+='<div style="font-weight: 600; color:gray; padding-top:'+s+'; padding-bottom:10px;" >Q'+t.qno+": "+t.question+" </div>",t.other1.length>0?(e+='<div style="font-weight: 600; color:gray; padding-top:40px; padding-bottom:10px;word-break: break-all;" >'+t.othertext+" </div>",e+='<div style="padding-bottom: 10px;word-break: break-all;"><span style="">Other:</span> '+t.other1+"</div>"):e+='<div style="padding-bottom: 10px;word-break: break-all; font-size:12px;"><span style="">Ans:</span> '+t.answer1+"</div>",t.comment1.length>0&&(e+='<div style="font-weight: 600; padding-top:10px; padding-bottom:10px;word-break: break-all;" >'+t.commenttext+" </div>",e+='<div style="padding-bottom: 30px;word-break: break-all;"><span style="">Comments:</span> '+t.comment1+"</div>"),e+="</div>"}),console.log(e),e=e.replace(/<[^/>][^>]*><\/[^>]+>/gim,""),t.pdf.fromHTML(e,t.margins.left,t.margins.top,{width:t.margins.width},function(t){},t.margins),t.headerFooterFormatting(t.pdf.internal.getNumberOfPages()),t.pdf.save("AllResponse_"+t.attemptid+"_"+Date.now()+".pdf")}else alert("Failed to load content")}).catch(function(t){console.log("cache error",t)})},getexportlink:function(t,e){var a="#";return"csv"==t&&(a=o.a.defaults.baseURL+"/downlaodresponsexls?respid="+e),a},changeatemptstate:function(t){var e=this,a=this.attemptdata,s=this.currentuser,i=(a._id,Date.now());0===t?("1"==a.approvededi&&(i=""),o.a.post("/approvebyeditor",{attemptid:a._id,status:a.approvededi,userid:s}).then(function(t){e.attemptdata.approvedbyedidate=i})):1===t?("1"==a.approvedrev&&(i=""),o.a.post("/approvebyviewer",{attemptid:a._id,status:a.approvedrev,userid:s}).then(function(t){e.attemptdata.approvedbyrevdate=i})):2===t&&("1"==a.completed&&(i=""),o.a.post("/attemptcompleted",{attemptid:a._id,status:a.completed,userid:s}).then(function(t){e.attemptdata.completeddate=i}))},getquestionno:function(t){for(var e=0,a=0;a<this.builderarray.length&&!(a>=t);a++){var s=this.builderarray[a];"qtypeslider"==s.questiontype||"welcomepage"==s.questiontype||"thankyoupage"==s.questiontype||"sectionheading"==s.questiontype||"pagebreak"==s.questiontype||"descriptionbox"==s.questiontype||""!=s.questiontext&&(e+=1)}return e},getsurveyimage:function(t){return""==t||null==t?"https://source.unsplash.com/collection/4728778/1600x900/":t.indexOf("unsplash.com")>=0?t:window.publicfileurl+t},changeResponse:function(t){var e=this.allresponse.indexOf(this.attemptid)+t;this.allresponse.length>e&&e<this.allresponse.length?location.href="/responsedetails/"+this.allresponse[e]:this.$toast.open({message:"No attempt available",position:"top",type:"error"})}},computed:{totalquestionno:function(){for(var t=0,e=0;e<this.builderarray.length;e++){var a=this.builderarray[e];"qtypeslider"==a.questiontype||"welcomepage"==a.questiontype||"thankyoupage"==a.questiontype||"sectionheading"==a.questiontype||"pagebreak"==a.questiontype||"descriptionbox"==a.questiontype||""!=a.questiontext&&(t+=1)}return t},nextattempt:function(){var t=this.allresponse.indexOf(this.attemptid);return t<this.allresponse.length-1&&this.allresponse[t+1]},prevattempt:function(){var t=this.allresponse.indexOf(this.attemptid);return t>0&&this.allresponse[t]}},created:function(){var t=this;""==this.attemptid||void 0==this.attemptid?this.$router.push("/"):(console.log("username-",zc),o.a.post("/getcurrentuser",{username:zc}).then(function(e){null==e.data&&t.$router.push("/"),t.currentuser=e.data._id,Oc.is_roleassigned(e.data.roles,"1")&&t.userrole.push("1"),Oc.is_roleassigned(e.data.roles,"2")&&t.userrole.push("2"),Oc.is_roleassigned(e.data.roles,"3")&&t.userrole.push("3")}).catch(function(e){t.errors.push(e)}),o.a.post("/getattemptsurvey",{attemptid:this.attemptid}).then(function(e){null==e.data&&t.$router.push("/"),t.attemptdata=e.data,t.id=t.attemptdata.surveyid,window.surveyuser={_id:t.attemptdata.userid},window.surveyattemptid=e.data,o.a.post("/allresponselist",{surveyid:t.id}).then(function(e){e.data&&e.data.forEach(function(e){t.allresponse.push(e._id)})}),o.a.post("/getallworkflow",{surveyid:t.attemptdata.surveyid}).then(function(e){var a=e.data;t.allwordflow=a,a.filter(function(t){return"1"==t.action&&"2"==t.role&&""!=t.notifyrole}).length>0&&(t.have_reviewerapproval=!0),a.filter(function(t){return"1"==t.action&&"1"==t.role&&""!=t.notifyrole}).length>0&&(t.have_editorapproval=!0),a.filter(function(t){return"2"==t.action&&""!=t.role&&""!=t.notifyrole}).length>0&&(t.have_complete=!0)}),0!=t.attemptdata.datestarted&&(t.datestarted=Ec(t.attemptdata.datestarted,"yyyy-mm-dd ")),0!=t.attemptdata.datefinished&&(t.datefinished=Ec(t.attemptdata.datefinished,"yyyy-mm-dd ")),t.attemptdata.approvedrev&&(t.attemptdata.approvedrev=t.attemptdata.approvedrev.toString()),t.attemptdata.approvededi&&(t.attemptdata.approvededi=t.attemptdata.approvededi.toString()),t.attemptdata.completed&&(t.attemptdata.completed=t.attemptdata.completed.toString()),window.surveyattemptid=e.data,t.id=e.data.surveyid,o.a.post("/getsurvey",{surveyid:e.data.surveyid}).then(function(e){t.surveydata=e.data,t.modifiedddate=Ec(t.surveydata.modifiedddate,"yyyy-mm-dd "),t.createddate=Ec(parseInt(t.surveydata.createddate),"yyyy-mm-dd ")}),o.a.post("/getsurveyconfig",{surveyid:t.id}).then(function(e){null==e.data||(t.surveyconfig=e.data.data,localStorage.setItem("sconfig_"+t.attemptid,j()(t.surveyconfig)))}).catch(function(e){t.errors.push(e)});var a=[];o.a.post("/getquestions",{surveyid:t.id}).then(function(e){var s=e.data;o.a.post("/getquestionorder",{surveyid:t.id}).then(function(e){t.questionorder=e.data,t.questionorder.forEach(function(e){s.forEach(function(i){i.order=e.order;var n=null;if(i.qtype&&i.qtype.length>10&&"dataTable"==i.questiontype&&!a.includes(i.qtype)){a.push(i.qtype);var o=s.findIndex(function(t){return t._id==i.qtype});(n=s.find(function(t){return t._id==i.qtype}))&&(t.builderarray.push(n),n=null),o>=0&&s.splice(o,1)}i._id!=e.questionid||a.includes(i._id)||(a.push(i._id),t.builderarray.push(i))})})}).catch(function(t){console.log(t)})})}))},watch:{surveyconfig:function(t,e){return t}}}),Fc={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.id&&(t.userrole.indexOf("1")>=0||t.userrole.indexOf("2")>=0||t.userrole.indexOf("3")>=0)?s("v-layout",{staticClass:"conatiner_responceform",attrs:{wrap:""}},[s("div",{staticClass:"reportheader tabnodesign"},[s("v-tabs",{staticClass:"header_navbar",attrs:{centered:""},model:{value:t.activetab,callback:function(e){t.activetab=e},expression:"activetab"}},[s("v-tab",{key:"0",on:{click:function(e){return t.gotoresponselist(0)}}},[s("img",{staticClass:"iconinsidebtn",attrs:{title:"Edit Survey",src:a("JFX1")}}),t._v("\n            Back\n        ")])],1)],1),t._v(" "),null!=t.surveydata&&null!=t.surveyconfig?s("v-container",{staticClass:"conatiner_dashboard"},[s("div",{staticClass:"surveydetails"},[s("v-layout",{staticClass:"surveysect"},[s("v-flex",{attrs:{xs8:""}},[s("div",{},[t._v("Individual report")]),t._v(" "),s("h2",[t._v(t._s(t.surveydata.surveyname))])])],1),t._v(" "),s("v-layout",{staticClass:"surveyressect"},[s("v-flex",{attrs:{xs12:"",sm6:""}},[s("div",[t._v("Total Question : "+t._s(t.totalquestionno))]),t._v(" "),s("div",[t._v("Question skipped : -------")]),t._v(" "),s("div",[t._v("Start time : "+t._s(t.datestarted))]),t._v(" "),s("div",[t._v("Finish time : "+t._s(t.datefinished))]),t._v(" "),t.attemptdata.anonymous?s("div",[t._v("User : Anonymous")]):s("div",[t._v("User : "),t.attemptdata.userid.includes("_nologin")?s("span",[t._v("Without login")]):s("userdetailssnipt",{attrs:{utype:"span_nameonly",uid:t.attemptdata.userid}})],1)]),t._v(" "),s("v-flex",{attrs:{xs12:"",sm6:""}},[s("div",[t._v("Editor : "),t._l(t.surveyconfig.editor,function(t){return s("userdetailssnipt",{key:t,attrs:{utype:"span_nameonly",uid:t}})})],2),t._v(" "),s("div",[t._v("Reviewer : "),t._l(t.surveyconfig.reviewer,function(t){return s("userdetailssnipt",{key:t,attrs:{utype:"span_nameonly",uid:t}})})],2),t._v(" "),s("div",[t._v("Created : "+t._s(t.createddate))]),t._v(" "),s("div",[t._v("Modified : "+t._s(t.modifiedddate))]),t._v(" "),s("div",[t._v("Active : "),"1"==t.surveyconfig.active?s("span",[t._v("Yes")]):s("span",[t._v("No")])])])],1),t._v(" "),s("v-layout",{staticClass:"surveyressect"},[s("v-flex",{attrs:{xs12:"",sm6:""}},[s("div",[t._v("\n            Export:-  "),s("a",{attrs:{target:"_blank",href:t.getexportlink("csv",t.attemptid)}},[s("span",{staticClass:"exportbutton"},[t._v("CSV Export")])]),t._v(" "),s("a",{attrs:{target:"_blank"},on:{click:t.exportPDFAllresponse}},[s("span",{staticClass:"exportbutton"},[t._v("PDF Export")])])])])],1)],1)]):t._e(),t._v(" "),s("v-container",{staticClass:"responceform conatiner_dashboard",attrs:{id:"responceform"}},[s("div",{staticClass:"questionblock"},t._l(t.builderarray,function(e,a){return s("div",{key:"questionid_"+a},["sectionheading"===e.questiontype?s("displayheading",{attrs:{sectiondata:e}}):"pagebreak"===e.type?s("v-divider"):"welcomepage"==e.questiontype?s("div",{staticClass:"welcomepage"},[s("v-layout",[s("v-flex",{staticClass:"finalquestionindex",attrs:{xs1:""}}),t._v(" "),s("v-flex",{attrs:{xs11:"",questionbox:""}},[s("div",{domProps:{innerHTML:t._s(e.welcomenote)}})])],1)],1):"descriptionbox"==e.questiontype?s("div",{staticClass:"descriptionbox"},[s("v-layout",[s("v-flex",{staticClass:"finalquestionindex",attrs:{xs1:""}}),t._v(" "),s("v-flex",{attrs:{xs11:"",questionbox:""}},[s("div",{domProps:{innerHTML:t._s(e.description)}})])],1)],1):"thankyoupage"==e.questiontype?s("div",{staticClass:"thankyoupage"},[s("v-layout",[s("v-flex",{staticClass:"finalquestionindex",attrs:{xs1:""}}),t._v(" "),s("v-flex",{attrs:{xs11:"",questionbox:""}},[s("div",{domProps:{innerHTML:t._s(e.thankyounote)}})])],1)],1):""!==e.questiontext||"qtypeslider"==e.questiontype?s("finalqestion",{attrs:{ciChangecount:t.ciChangecount,questiondata:e,qno:t.getquestionno(a)},on:{contactinfochnaged:function(e){t.ciChangecount++}}}):t._e()],1)}),0)]),t._v(" "),s("v-container",[s("button",{staticClass:"btn-custom1",on:{click:t.finishSurvey}},[t._v("Save")])])],1):t._e()},staticRenderFns:[]},Uc=a("VU/8")(Yc,Fc,!1,null,null,null).exports,Qc={props:["answer","sq"],data:function(){return{answerq:this.answer,answerfor:null,givenanswer:null}},created:function(){var t=this;axios.post("/getcustiomquestionsubs",{id:this.answer.id}).then(function(e){t.answerfor=e.data})}},$c={render:function(){var t=this.$createElement,e=this._self._c||t;return null!=this.answerfor?e("td",[this._v(this._s(this.answerfor.title)+" ")]):e("td")},staticRenderFns:[]},Zc=a("VU/8")(Qc,$c,!1,null,null,null).exports,Rc={props:["answer","sq"],data:function(){return{answerq:this.answer,answerfor:null,givenanswer:null}},watch:{questionno:function(t,e){},questiondata:function(t,e){return this.questiondata}},methods:{},created:function(){var t=this;axios.post("/getmultitextsubs",{id:this.answer.id}).then(function(e){t.answerfor=e.data})}},Pc={render:function(){var t=this.$createElement,e=this._self._c||t;return null!=this.answerfor?e("td",[this._v(this._s(this.answerfor.choicetext))]):e("td")},staticRenderFns:[]},Gc=a("VU/8")(Rc,Pc,!1,null,null,null).exports,Jc={props:["answer"],data:function(){return{practicedata:this.answer,email:null,phone:null,fax:null,website:null,address:null,startdate:null,enddate:null}},methods:{manipulateaddress:function(t){var e=["addressline1","addressline2","addressline3","suburb","state","country","postcode"],a=[];return t.forEach(function(t){var s=[];e.forEach(function(e){t[e]&&s.push(t[e])}),a.push(s.join(", "))}),a.join("/")}},created:function(){this.practicedata=this.answer,this.practicedata.email&&Array.isArray(this.practicedata.email)&&(this.email=this.practicedata.email.join(",")),this.practicedata.phone&&Array.isArray(this.practicedata.phone)&&(this.phone=this.practicedata.phone.join(",")),this.practicedata.fax&&Array.isArray(this.practicedata.fax)&&(this.fax=this.practicedata.fax.join(",")),this.practicedata.website&&Array.isArray(this.practicedata.website)&&(this.website=this.practicedata.website.join(",")),this.practicedata.address&&Array.isArray(this.practicedata.address)&&(this.website=this.manipulateaddress(this.practicedata.address)),this.practicedata.accreditian&&(this.practicedata.accreditian.gpex_accreditationdatefrom&&(this.startdate=this.practicedata.accreditian.gpex_accreditationdatefrom),this.practicedata.accreditian.gpex_accreditationdateto&&(this.enddate=this.practicedata.accreditian.gpex_accreditationdateto))}},Wc={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.practicedata?a("tr",{staticClass:"tabledata"},[a("td",{staticClass:"text-center"},[t._v(t._s(t.practicedata.name))]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(t.email))]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(t.phone))]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(t.fax))]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(t.website))]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(t.address))]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(t.startdate))]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(t.enddate))])]):t._e()},staticRenderFns:[]},Hc=a("VU/8")(Jc,Wc,!1,null,null,null).exports,Bc=(a("CqLJ"),localStorage.username),Vc=(new Date,{components:{question:yr,displayheading:jc,displaycustomform:Zc,displaymultianswer:Gc,reportheader:Li,contactinfotr:Hc},data:function(){return{id:this.$route.params.id,currentuser:null,surveyid:null,surveydata:null,surveyconfig:null,allanswers:[],question:null,semesterid:"null"}},methods:{getquestionno:function(t){for(var e=0,a=0;a<this.allanswers.length&&!(a>=t);a++){var s=this.allanswers[a];"welcomepage"==s.type||"thankyoupage"==s.type||"sectionheading"==s.type||"pagebreak"==s.type||"descriptionbox"==s.type||""!=s.data.questiontext&&(e+=1)}return e},getsurveyimage:function(t){return"<a target='_blink' href='"+window.publicfileurl+t+"'>"+t.substring(t.indexOf("_")+1)+"</a>"},getseelctedchoice:function(t){if("string"==typeof t){var e="";return this.question.choice.forEach(function(a){if(a._id==t)return e=a.choicetext}),e}return"object"==(void 0===t?"undefined":Hi()(t))?t.choicetext:""},getseelctedrow:function(t){var e="";return this.question.allrows.forEach(function(a){if(a._id==t)return e=a.option}),e},getselectedchoice:function(t){if(this.question.choice){var e=this.question.choice.find(function(e){return e._id==t});if(e)return e.choicetext}return""},getseelctedcol:function(t){var e=this,a="";if("object"==(void 0===t?"undefined":Hi()(t))){console.log(t);var s=[];t.forEach(function(t){e.question.allcols.forEach(function(e){if(e._id==t)return s.push(e.option),a})}),a=s.join(" , ")}else this.question.allcols.forEach(function(e){if(e._id==t)return a=e.option});return a}},created:function(){var t=this;""==this.id||void 0==this.id?this.$router.push("/"):(o.a.post("/getcurrentuser",{username:Bc}).then(function(e){null==e.data&&t.$router.push("/"),window.surveyuser=e.data,t.currentuser=e.data._id}).catch(function(e){t.errors.push(e)}),o.a.post("/getquestion",{questionid:this.id}).then(function(e){t.question=e.data.data,t.surveyid=t.question.surveyid}).catch(function(t){console.log(t)}),o.a.post("/allanswers",{questionid:this.id}).then(function(e){if(null==e.data);else{var a=[];e.data.forEach(function(t){t.answer=JSON.parse(t.answer),(t.answer||""!=t.otheranswer)&&a.push(t)}),t.allanswers=a}}))},watch:{surveyconfig:function(t,e){return t}},computed:{}}),Xc={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{staticClass:"conatiner_responceform",attrs:{wrap:""}},[t.surveyid?a("reportheader",{attrs:{surveyid:t.surveyid,active:"9999"}}):t._e(),t._v(" "),a("v-flex",{attrs:{xs12:""}},[null!=t.question?a("v-container",{staticClass:"conatiner_dashboard"},[a("div",{staticClass:"allanswer_conatiner"},[a("question",{attrs:{questiontext:t.question.questiontext}}),t._v(" "),"multipletext"==t.question.questiontype?a("div",{staticClass:"allresponselist"},[a("table",{staticClass:"table  table-left"},[a("tr",[a("td",[t._v("Slno")]),t._v(" "),a("td",[t._v("User")]),t._v(" "),t._l(t.question.choice,function(e,s){return a("td",{key:"choice"+s},[t._v(t._s(e.choicetext))])})],2),t._v(" "),t._l(t.allanswers,function(e,s){return[a("tr",{key:"answerid_"+s},[a("td",[t._v("response "+t._s(s+1))]),t._v(" "),a("td",[t._v(t._s(e.userdata.firstname)+" "+t._s(e.userdata.lastname))]),t._v(" "),t._l(e.answer,function(e,s){return a("td",{key:"answerid_"+s},[t._v(t._s(e.answer))])})],2)]})],2)]):"customform"==t.question.questiontype?a("div",{staticClass:"allresponselist"},[a("table",{staticClass:"table  table-left"},[a("tr",[a("td",[t._v("Slno")]),t._v(" "),a("td",[t._v("User")]),t._v(" "),t._l(t.question.customformdata,function(e,s){return a("td",{key:"choice"+s},[t._v(t._s(e.title))])})],2),t._v(" "),t._l(t.allanswers,function(e,s){return[a("tr",{key:"answerid_"+s},[a("td",[t._v("response "+t._s(s+1))]),t._v(" "),a("td",[t._v(t._s(e.userdata.firstname)+" "+t._s(e.userdata.lastname))]),t._v(" "),t._l(e.answer,function(e,s){return a("td",{key:"answerid_"+s},[t._v(t._s(e.answer))])})],2)]})],2)]):"multic"==t.question.questiontype?a("div",[0!=t.allanswers.length?a("div",{staticClass:"answers"},t._l(t.allanswers,function(e,s){return a("div",{key:"answerid_"+s,staticClass:"answerset"},[""!=e.otheranswer?a("div",{staticClass:"allresponselist"},[a("table",{staticClass:"table  table-left"},[a("tr",[a("td",[t._v("Slno")]),t._v(" "),a("td",[t._v("user")]),t._v(" "),a("td",[t._v("Answer")])]),t._v(" "),a("tr",[a("td",[t._v("1")]),t._v(" "),a("td",[t._v(t._s(e.userdata.firstname)+" "+t._s(e.userdata.lastname))]),t._v(" "),a("td",[t._v(t._s(e.otheranswer))])])])]):0!=e.answer.length?a("div",{staticClass:"allresponselist"},[a("table",{staticClass:"table  table-left"},[a("tr",[a("td",[t._v("Slno")]),t._v(" "),a("td",[t._v("User")]),t._v(" "),a("td",[t._v("Answer")])]),t._v(" "),t._l(e.answer,function(s,i){return a("tr",{key:"answerid_"+i},[a("td",[t._v(t._s(i+1))]),t._v(" "),a("td",[t._v(t._s(e.userdata.firstname)+" "+t._s(e.userdata.lastname))]),t._v(" "),a("td",[t._v(t._s(t.getseelctedchoice(s)))])])})],2)]):t._e()])}),0):a("div",{staticClass:"answers"},[a("h1",[t._v("No answer")])])]):"fileupload"==t.question.questiontype?a("div",[0!=t.allanswers.length?a("div",{staticClass:"answers"},[a("div",{staticClass:"allresponselist"},[a("table",{staticClass:"table  table-left"},[a("tr",[a("td",[t._v("Slno")]),t._v(" "),a("td",[t._v("User")]),t._v(" "),a("td",[t._v("Answer")])]),t._v(" "),t._l(t.allanswers,function(e,s){return a("tr",{key:"answerid_"+s},[a("td",[t._v(t._s(s+1))]),t._v(" "),a("td",[t._v(t._s(e.userdata.firstname)+" "+t._s(e.userdata.lastname))]),t._v(" "),a("td",{domProps:{innerHTML:t._s(t.getsurveyimage(e.answer))}})])})],2)])]):a("div",{staticClass:"answers"},[a("h1",[t._v("No answer")])])]):"singletext"==t.question.questiontype||"qtypedatetime"==t.question.questiontype||"commenttext"==t.question.questiontype||"emailtext"==t.question.questiontype||"ratescal"==t.question.questiontype||"ratestars"==t.question.questiontype||"numbertext"==t.question.questiontype||"nps"==t.question.questiontype?a("div",[0!=t.allanswers.length?a("div",{staticClass:"answers"},[a("div",{staticClass:"allresponselist"},[a("table",{staticClass:"table  table-left"},[a("tr",[a("td",[t._v("Slno")]),t._v(" "),a("td",[t._v("User")]),t._v(" "),a("td",[t._v("Answer")])]),t._v(" "),t._l(t.allanswers,function(e,s){return a("tr",{key:"answerid_"+s},[a("td",[t._v(t._s(s+1))]),t._v(" "),a("td",[t._v(t._s(e.userdata.firstname)+" "+t._s(e.userdata.lastname))]),t._v(" "),a("td",[t._v(t._s(e.answer))])])})],2)])]):a("div",{staticClass:"answers"},[a("h1",[t._v("No answer")])])]):"dropdown"==t.question.questiontype||"singlec"==t.question.questiontype?a("div",[0!=t.allanswers.length?a("div",{staticClass:"answers"},[a("div",{staticClass:"allresponselist"},[a("table",{staticClass:"table  table-left"},[a("tr",[a("td",[t._v("Slno")]),t._v(" "),a("td",[t._v("User")]),t._v(" "),a("td",[t._v("Answer")])]),t._v(" "),t._l(t.allanswers,function(e,s){return a("tr",{key:"answerid_"+s},[a("td",[t._v(t._s(s+1))]),t._v(" "),a("td",[t._v(t._s(e.userdata.firstname)+" "+t._s(e.userdata.lastname))]),t._v(" "),""==e.otheranswer?a("td",[t._v(t._s(t.getseelctedchoice(e.answer)))]):a("td",[t._v(t._s(e.otheranswer))])])})],2)])]):a("div",{staticClass:"answers"},[a("h1",[t._v("No answer")])])]):"matrixquestion"==t.question.questiontype?a("div",[0!=t.allanswers.length?a("div",{staticClass:"answers"},t._l(t.allanswers,function(e,s){return a("div",{key:"answerid_"+s,staticClass:"answerset"},[a("div",{staticClass:"allresponselist"},[a("table",{staticClass:"table  table-left"},[null!=e.answer?[a("tr",[a("td",[t._v("Slno")]),t._v(" "),a("td",[t._v("User")]),t._v(" "),a("td",[t._v("SubQuestion")]),t._v(" "),a("td",[t._v("Selected Answer")])]),t._v(" "),t._l(e.answer,function(e,s){return a("tr",{key:"answerid_"+s},[a("td",[t._v(t._s(s+1))]),t._v(" "),a("td",[t._v(t._s(t.answer.userdata.firstname)+" "+t._s(t.answer.userdata.lastname))]),t._v(" "),a("td",[t._v(t._s(t.getseelctedrow(e.rowid)))]),t._v(" "),a("td",[t._v(t._s(t.getseelctedcol(e.selected)))])])})]:t._e()],2)])])}),0):a("div",{staticClass:"answers"},[a("h1",[t._v("No answer")])])]):"ranking"==t.question.questiontype?a("div",{staticClass:"allresponselist"},[a("table",{staticClass:"table  table-left"},[a("tr",[a("td",[t._v("Slno")]),t._v(" "),a("td",[t._v("User")]),t._v(" "),t._l(t.question.choice,function(e,s){return a("td",{key:"choice"+s},[t._v(t._s(e.choicetext))])})],2),t._v(" "),t._l(t.allanswers,function(e,s){return[a("tr",{key:"answerid_"+s},[a("td",[t._v("response "+t._s(s+1))]),t._v(" "),a("td",[t._v(t._s(e.userdata.firstname)+" "+t._s(e.userdata.lastname))]),t._v(" "),t._l(e.answer,function(e,s){return a("td",{key:"answerid_"+s},[t._v(t._s(e.rank))])})],2)]})],2)]):"dataTable"==t.question.questiontype?a("div",[0!=t.allanswers.length?[t._l(t.allanswers,function(e,s){return[a("div",{key:"answerid_"+s,staticClass:"answerset"},[t._l(e.answer,function(e,s){return[e?a("div",{key:"sans"+s,staticClass:"datatablequestion"},[e.practicename?a("h3",{staticClass:"practicename"},[t._v(t._s(e.practicename))]):t._e(),t._v(" "),e.finalAnswer?a("table",{staticClass:"dtable table",staticStyle:{"background-color":"transparent"}},[a("tr",{staticClass:"tableheader"},t._l(t.question.allcols,function(e,s){return a("th",{key:"header"+s,staticClass:"text-center"},[t._v(t._s(e.option))])}),0),t._v(" "),e.finalAnswer.length>0?[t._l(e.finalAnswer,function(e,s){return[a("tr",{key:"datarow"+s,staticClass:"tabledata"},t._l(t.question.allcols,function(s,i){return a("td",{key:i,staticClass:"text-center"},[t._v(t._s(e[s._id]))])}),0)]})]:t._e()],2):t._e()]):t._e()]})],2)]})]:[a("h1",[t._v("No answer")])]],2):"contactInfo"==t.question.questiontype?a("div",[0!=t.allanswers.length?[t._l(t.allanswers,function(e,s){return[a("div",{key:"answerid_"+s,staticClass:"answerset"},[a("table",{staticClass:"dtable table",staticStyle:{"background-color":"transparent"}},[a("tr",{staticClass:"tableheader"},[a("th",{staticClass:"text-center",attrs:{rowspan:"2"}},[t._v("Practice Name")]),t._v(" "),a("th",{staticClass:"text-center",attrs:{rowspan:"2"}},[t._v("Email")]),t._v(" "),a("th",{staticClass:"text-center",attrs:{rowspan:"2"}},[t._v("Phone")]),t._v(" "),a("th",{staticClass:"text-center",attrs:{rowspan:"2"}},[t._v("Fax")]),t._v(" "),a("th",{staticClass:"text-center",attrs:{rowspan:"2"}},[t._v("Website")]),t._v(" "),a("th",{staticClass:"text-center",attrs:{rowspan:"2"}},[t._v("Address")]),t._v(" "),a("th",{staticClass:"text-center",attrs:{colspan:"2"}},[t._v("Accreditation")])]),t._v(" "),a("tr",{staticClass:"tableheader"},[a("th",{staticClass:"text-center"},[t._v("Start Date")]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("End Date")])]),t._v(" "),t._l(e.answer,function(t,e){return[a("contactinfotr",{key:"sans"+e,attrs:{answer:t}})]})],2),t._v(" "),a("hr")])]})]:t._e()],2):t._e()],1)]):t._e()],1)],1)},staticRenderFns:[]},Kc=a("VU/8")(Vc,Xc,!1,null,null,null).exports,td=(new Date,localStorage.username,{data:function(){return{projects:[],users:[],search:"",pagination:{rowsPerPage:100},headers:[{text:"Slno.",sortable:!1},{text:"Projectname",align:"left",value:"projectname"},{text:"",sortable:!1},{text:"",sortable:!1}],errors:[]}},methods:{deleteproject:function(t){var e=this;o.a.post("/deleteproject",{projectid:t}).then(function(t){var a=t.data,s="",i="";s=a.message,0==a.status?i="warning":1==a.status?i="error":2==a.status?(i="success",e.getprojects()):(i="info",s="Invalid response"),e.$toast.open({message:s,position:"top",type:i})}).catch(function(t){console.log(t),e.$toast.open({message:"error deleting project",position:"top",type:"error"})})},getprojects:function(){var t=this;o.a.get("/getprojects").then(function(e){console.log(e),t.projects=e.data}).catch(function(e){t.errors.push(e)})}},created:function(){this.getprojects()}}),ed={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("h2",[t._v(" Project List")])])],1),t._v(" "),a("v-layout",[a("v-container",[a("v-card",[a("v-card-title",[t._v("Project list"),a("v-spacer"),a("v-text-field",{staticClass:"datatable_search",attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{attrs:{headers:t.headers,items:t.projects,search:t.search,"rows-per-page-items":[50,100,150],pagination:t.pagination},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.index+1))]),t._v(" "),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.projectname)+" ")]),t._v(" "),a("td",[a("a",{attrs:{href:"/editproject/"+e.item._id}},[t._v("edit")])]),t._v(" "),a("td",[a("a",{on:{click:function(a){return t.deleteproject(e.item._id)}}},[t._v("Delete")])])]}}])})],1)],1)],1)],1)},staticRenderFns:[]},ad=a("VU/8")(td,ed,!1,null,null,null).exports,sd=(new Date,localStorage.username,{data:function(){return{id:this.$route.params.id,editprojects:null,groups:[],allowgroups:[],errors:[]}},methods:{updateProject:function(){var t=this;o.a.post("/editproject",{projectid:this.id,projectname:this.editprojects.projectname,allowgroups:this.allowgroups}).then(function(e){null==e.data?console.log():(t.editprojects=e.data,t.$router.push("/projectlist/"),console.log("tesfdf"))})},cancleUpdateProject:function(){this.$router.push("/projectlist/")}},created:function(){var t=this;o.a.post("/getoneproject",{projectid:this.id}).then(function(e){console.log(e),null==e.data||(t.editprojects=e.data,null!=e.data.allowgroups&&(t.allowgroups=e.data.allowgroups.split(",")))}),o.a.get("/getgroups").then(function(e){t.groups=e.data}).catch(function(e){t.errors.push(e)})}}),id={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("h2",[t._v("Edit Project")])])],1),t._v(" "),a("form",[a("v-layout",[a("v-text-field",{attrs:{label:"Project Name",required:""},model:{value:t.editprojects.projectname,callback:function(e){t.$set(t.editprojects,"projectname",e)},expression:"editprojects.projectname"}})],1),t._v(" "),a("v-layout",[a("v-select",{attrs:{items:t.groups,name:"group",label:"Select a Group","item-text":"groupname","item-value":"_id",multiple:""},model:{value:t.allowgroups,callback:function(e){t.allowgroups=e},expression:"allowgroups"}})],1),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("v-layout",[a("v-btn",{on:{click:t.updateProject}},[t._v("Update")]),t._v(" "),a("v-btn",{on:{click:t.cancleUpdateProject}},[t._v("Cancel")])],1)],1)],1)},staticRenderFns:[]},nd=a("VU/8")(sd,id,!1,null,null,null).exports,od=(new Date,localStorage.username),rd=a("NCci"),cd={data:function(){return{currentuser:null,srchusername:"",users:[],pagination:{rowsPerPage:100},search:"",headers:[{text:"Username",align:"left",value:"username"},{text:"Fullname",value:"firstname"},{text:"Email",value:"email"},{text:"Role",value:"roles"},{text:"",sortable:!1}],errors:[]}},methods:{},created:function(){var t=this;o.a.post("/getcurrentuser",{username:od}).then(function(e){console.log(e.data),t.currentuser=e.data._id,rd.is_roleassigned(e.data.roles,"1")?console.log("have access"):(console.log("don't have access"),t.$router.push("/"))}),o.a.get("/getuserswithrole").then(function(e){t.users=e.data}).catch(function(e){t.errors.push(e)})}},dd={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs6:""}},[a("h2",[t._v(" Users List")])]),t._v(" "),a("v-flex",{attrs:{xs6:""}})],1),t._v(" "),a("v-layout",[a("v-container",[a("v-card",[a("v-card-title",[t._v("User list"),a("v-spacer"),a("v-text-field",{staticClass:"datatable_search",attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{attrs:{headers:t.headers,items:t.users,search:t.search,"rows-per-page-items":[50,100,150],pagination:t.pagination},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.username)+" ")]),t._v(" "),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.firstname)+" "+t._s(e.item.lastname)+" ")]),t._v(" "),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.email)+" ")]),t._v(" "),a("td",[t._l(e.item.roles,function(s,i){return[a("span",{key:"role"+i},[t._v(t._s(s.roletitle)),e.item.roles.length>i+1?a("i",[t._v(", ")]):t._e()])]})],2),t._v(" "),a("td",[a("a",{attrs:{href:"/edituser/"+e.item._id}},[t._v("edit")])])]}}])})],1)],1)],1)],1)},staticRenderFns:[]},ld=a("VU/8")(cd,dd,!1,null,null,null).exports,ud=(new Date,localStorage.username),pd=a("NCci"),vd={data:function(){return{id:this.$route.params.id,currentuser:null,edituser:null,errors:[],roles:[]}},methods:{updateUsers:function(){var t=this;o.a.post("/updateUser",{user:this.edituser}).then(function(e){null==e.data||t.$router.push("/userlist/")})},cancleUpdateUser:function(){this.$router.push("/userlist/")}},created:function(){var t=this;o.a.post("/getcurrentuser",{username:ud}).then(function(e){console.log(e.data),t.currentuser=e.data._id,pd.is_roleassigned(e.data.roles,"1")?console.log("have access"):(console.log("don't have access"),t.$router.push("/"))}),o.a.get("/getroles").then(function(e){t.roles=e.data,o.a.post("/getuserbyid",{userid:t.id}).then(function(e){if(null==e.data)t.$router.push("/userlist/");else{void 0==e.data.user.role&&(e.data.user.role=""),e.data.user.role=e.data.user.role.split(","),t.edituser=e.data.user;var a=[];e.data.user.role.forEach(function(e){t.roles.find(function(t){return t._id===e})&&a.push(e)}),t.edituser.role=a}})}).catch(function(e){t.errors.push(e)})}},hd={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[null!=t.edituser?a("div",{staticClass:"edituserform"},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("h2",[t._v("Edit User")])])],1),t._v(" "),a("v-layout",[a("v-text-field",{attrs:{label:"First Name",required:""},model:{value:t.edituser.firstname,callback:function(e){t.$set(t.edituser,"firstname",e)},expression:"edituser.firstname"}})],1),t._v(" "),a("v-layout",[a("v-text-field",{attrs:{label:"Last Name",required:""},model:{value:t.edituser.lastname,callback:function(e){t.$set(t.edituser,"lastname",e)},expression:"edituser.lastname"}})],1),t._v(" "),a("v-layout",[a("v-text-field",{attrs:{label:"Email",required:""},model:{value:t.edituser.email,callback:function(e){t.$set(t.edituser,"email",e)},expression:"edituser.email"}})],1),t._v(" "),a("v-layout",[a("v-select",{attrs:{items:t.roles,name:"role",label:"Select Role","item-value":"_id","item-text":"roletitle",multiple:""},model:{value:t.edituser.role,callback:function(e){t.$set(t.edituser,"role",e)},expression:"edituser.role"}})],1),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("v-layout",[a("v-btn",{on:{click:t.updateUsers}},[t._v("Update")]),t._v(" "),a("v-btn",{on:{click:t.cancleUpdateUser}},[t._v("Cancel")])],1)],1):a("div",{staticClass:"edituserform"},[a("h1",[t._v("Loading...")])])])},staticRenderFns:[]},md=a("VU/8")(vd,hd,!1,null,null,null).exports,fd=(new Date,localStorage.username),gd=a("NCci"),yd={data:function(){var t;return t={fname:"",lname:"",username:""},x()(t,"fname",""),x()(t,"email",""),x()(t,"password","dsfjk567&^%dkjfsd"),x()(t,"role",[]),x()(t,"errors",[]),x()(t,"currentuser",null),x()(t,"roles",[]),t},methods:{createUser:function(){var t=this;this.validatesignupform()&&o.a.post("/Signup",{fname:this.fname,lname:this.lname,username:this.username,email:this.email,role:this.role,password:this.password}).then(function(e){200==e.data.code?(t.$toast.open({message:e.data.message,type:"success",position:"top-right"}),t.$router.push("/userlist/")):t.$toast.open({message:e.data.message,type:"error",position:"top-right"})}).catch(function(t){console.log(t)})},cancleCreateUser:function(){this.$router.push("/userlist/")},validatesignupform:function(){var t="",e="error";return""==this.fname&&(t="First name Required",this.$toast.open({message:t,type:e,position:"bottom"})),""==this.lname&&(t="Last name Required",this.$toast.open({message:t,type:e,position:"bottom"})),""==this.username&&(t="Username Required",this.$toast.open({message:t,type:e,position:"bottom"})),""==this.email&&(t="Email Required",this.$toast.open({message:t,type:e,position:"bottom"})),0==this.role.length&&(t="Role Required",this.$toast.open({message:t,type:e,position:"bottom"})),!t}},created:function(){var t=this;o.a.post("/getcurrentuser",{username:fd}).then(function(e){console.log(e.data),t.currentuser=e.data._id,gd.is_roleassigned(e.data.roles,"1")?console.log("have access"):(console.log("don't have access"),t.$router.push("/"))}),o.a.get("/getroles").then(function(e){t.roles=e.data}).catch(function(e){t.errors.push(e)})}},_d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("div",{staticClass:"edituserform"},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("h2",[t._v("Create User")])])],1),t._v(" "),a("v-layout",[a("v-flex",[a("v-text-field",{attrs:{"prepend-icon":"person",label:"First Name",type:"text"},model:{value:t.fname,callback:function(e){t.fname=e},expression:"fname"}}),t._v(" "),a("v-text-field",{attrs:{"prepend-icon":"person",label:"Last Name",type:"text"},model:{value:t.lname,callback:function(e){t.lname=e},expression:"lname"}}),t._v(" "),a("v-text-field",{attrs:{"prepend-icon":"person",label:"Username",type:"text"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),t._v(" "),a("v-text-field",{attrs:{"prepend-icon":"email",label:"Email",type:"email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t._v(" "),a("v-select",{attrs:{"prepend-icon":"person",items:t.roles,name:"role",multiple:"",label:"Select Role","item-value":"_id","item-text":"roletitle"},model:{value:t.role,callback:function(e){t.role=e},expression:"role"}})],1)],1),t._v(" "),a("v-layout",[a("v-btn",{on:{click:t.createUser}},[t._v("Create")]),t._v(" "),a("v-btn",{on:{click:t.cancleCreateUser}},[t._v("Cancel")])],1)],1)])},staticRenderFns:[]},xd=a("VU/8")(yd,_d,!1,null,null,null).exports,bd=localStorage.username,qd=new Date,wd={components:{userdetailssnipt:wt},data:function(){return{id:this.$route.params.id,registrars:[],errors:[],currentuser:null,groupname:null,registrar:null,editgroup:null,headers:[{text:"Dessert (100g serving)",align:"left",sortable:!1,value:"groupname"},{text:"Fat (g)",value:"groupmemmbers"},{text:"Carbs (g)",value:"createdby"},{text:"Protein (g)",value:"createddate"}],groups:[]}},methods:{saveGroup:function(){var t=this;o.a.post("/updategroup",{groupid:this.editgroup._id,groupname:this.editgroup.groupname,members:this.registrar,createdby:this.currentuser,createddate:qd}).then(function(e){console.log(e),void 0==e.data._id?alert("Duplicate group name"):(alert("Saved Successfully"),t.$router.push("/addgroup"))}).catch(function(e){t.errors.push(e)})},clear:function(){this.projectname="",this.groups=[],this.$router.push("/")}},created:function(){var t=this;o.a.get("/getusers").then(function(e){t.registrars=e.data}).catch(function(e){t.errors.push(e)}),o.a.get("/getgroups").then(function(e){t.groups=e.data}).catch(function(e){t.errors.push(e)}),o.a.post("/getcurrentuser",{username:bd}).then(function(e){t.currentuser=e.data._id}).catch(function(e){t.errors.push(e)}),o.a.post("/getgroupbyid",{groupid:this.id}).then(function(e){null==e.data||(t.editgroup=e.data.group,null!=e.data.group.groupmemmbers&&(t.registrar=e.data.group.groupmemmbers.split(",")))})}},Cd={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("h2",[t._v("Create Group")])])],1),t._v(" "),a("v-layout",[a("v-text-field",{attrs:{label:"Group Name",required:""},model:{value:t.editgroup.groupname,callback:function(e){t.$set(t.editgroup,"groupname",e)},expression:"editgroup.groupname"}})],1),t._v(" "),a("v-layout",[a("v-select",{attrs:{items:t.registrars,name:"registrar",label:"Select a username","item-text":"firstname","item-value":"_id",multiple:""},model:{value:t.registrar,callback:function(e){t.registrar=e},expression:"registrar"}})],1),t._v(" "),a("v-layout",[a("v-btn",{on:{click:t.saveGroup}},[t._v("Add")]),t._v(" "),a("v-btn",{on:{click:t.clear}},[t._v("Cancel")])],1),t._v(" "),a("div",{staticClass:"allresponselist"},[a("table",{staticClass:"table"},[a("tr",[a("td",[t._v("S No.")]),t._v(" "),a("td",[t._v("Group Name")]),t._v(" "),a("td",[t._v("Members")]),t._v(" "),a("td")]),t._v(" "),t._l(t.groups,function(e,s){return a("tr",{key:"groupid_"+s},[a("td",[t._v(t._s(s+1))]),t._v(" "),a("td",[t._v(t._s(e.groupname))]),t._v(" "),a("td",[null!=e.groupmemmbers?t._l(e.groupmemmbers.split(","),function(t){return a("userdetailssnipt",{key:t,attrs:{utype:"span_nameonly",uid:t}})}):t._e()],2),t._v(" "),a("td",[a("a",{attrs:{href:"/editgroup/"+e._id}},[t._v("edit")])])])})],2)])],1)},staticRenderFns:[]},Md=a("VU/8")(wd,Cd,!1,null,null,null).exports,Id={props:["contact","loginuser","dialogstate","allcontact"],data:function(){return{dialog:this.dialogstate,allorganization:[],formmodel:{createfor:"0",listname:"",listid:"",filepath:""},fileseelcted:""}},methods:{contactresonchanges:function(){this.formmodel.listid="",this.formmodel.listname=""},removeModel:function(){this.dialog=!1,this.$emit("removeModel",this.dialog)},sendImageFile:function(){var t=this;return Tt()(Lt.a.mark(function e(){var a,s,i,n;return Lt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.$refs.file.files[0],console.log(a),a.type.includes("application/vnd.ms-excel")){e.next=6;break}return s="Only CSV Allowed",t.$toast.open({message:s,type:"error",position:"top"}),e.abrupt("return");case 6:return(i=new FormData).append("file",a),e.next=10,axios.post("/upload",i);case 10:n=e.sent,t.formmodel.filepath=n.data.file;case 12:case"end":return e.stop()}},e,t)}))()},importContact:function(){var t=this,e=this.formmodel,a=[];"2"==e.createfor&&""==e.listid&&a.push("Please select Contact list"),"1"==e.createfor&&""==e.listname&&a.push("Contact list name is required"),""==this.formmodel.filepath&&a.push("Select csv file"),a.length>0?a.forEach(function(e){t.$toast.open({message:e,type:"error",position:"top"})}):axios.post("/importnewcontact",this.formmodel).then(function(e){1==e.data.status?(t.formmodel={createfor:"0",listname:"",listid:"",filepath:""},t.$toast.open({message:"Contact imported successfully",position:"top",type:"success"})):t.$toast.open({message:e.data.message,position:"top",type:"error"})}).catch(function(e){t.$toast.open({message:"Failed",position:"top",type:"error"})})}},created:function(){var t=this;axios.post("/getorg",{}).then(function(e){t.allorganization=e.data.data}).catch(function(e){t.errors.push(e)})},watch:{dialog:function(t,e){return this.$emit("removeModel",this.dialog),this.dialog}}},kd={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-xs-center shareSurvey_"},[a("v-dialog",{attrs:{width:"600"},on:{click:t.removeModel},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[t._v("Import Contact")]),t._v(" "),a("v-card-text",[a("h3",[t._v("Contact list")]),t._v(" "),a("v-radio-group",{attrs:{row:""},model:{value:t.formmodel.createfor,callback:function(e){t.$set(t.formmodel,"createfor",e)},expression:"formmodel.createfor"}},[a("v-radio",{key:"conatctfor0",attrs:{label:"None",value:"0"},on:{click:t.contactresonchanges}}),t._v(" "),a("v-radio",{key:"conatctfor1",attrs:{label:"New",value:"1"},on:{click:t.contactresonchanges}}),t._v(" "),a("v-radio",{key:"conatctfor2",attrs:{label:"Existing",value:"2"},on:{click:t.contactresonchanges}})],1),t._v(" "),"1"==t.formmodel.createfor?a("v-text-field",{attrs:{"prepend-icon":"person",label:"Contact List Name",type:"text"},model:{value:t.formmodel.listname,callback:function(e){t.$set(t.formmodel,"listname",e)},expression:"formmodel.listname"}}):t._e(),t._v(" "),"2"==t.formmodel.createfor?a("v-select",{attrs:{"prepend-icon":"person",items:t.allcontact,"item-text":"listname","item-value":"_id",label:"Contact List"},model:{value:t.formmodel.listid,callback:function(e){t.$set(t.formmodel,"listid",e)},expression:"formmodel.listid"}}):t._e()],1),t._v(" "),a("v-divider"),t._v(" "),a("v-card-text",[a("form",{staticClass:"form_dropzone",attrs:{enctype:"multipart/form-data"}},[a("div",{staticClass:"dropzone"},[a("div",[a("input",{ref:"file",staticClass:"file-upload-input",attrs:{type:"file",accept:".csv"},on:{change:t.sendImageFile}}),t._v(" "),a("p",{staticClass:"call-to-action"},[t._v("Drag your file here")])])])])]),t._v(" "),a("v-divider"),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:t.importContact}},[t._v("Import")]),t._v(" "),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:t.removeModel}},[t._v("Cancel")])],1)],1)],1)],1)},staticRenderFns:[]},jd=a("VU/8")(Id,kd,!1,null,null,null).exports,Nd={components:{ModelListSelect:we.ModelListSelect},props:["contact","loginuser","dialogstate","allcontact"],data:function(){return{dialog:this.dialogstate,searchorg:"",userid:"",allorganization:[],formmodel:{createfor:"0",listname:"",listid:"",firstname:"",lastname:"",email:"",organization:[],position:"",phone:"",address:""}}},methods:{addneworganization:function(){var t=this;axios.post("/createorg",{name:this.searchorg,created:this.userid}).then(function(e){1==e.data.status?(t.allorganization.push(e.data.data),t.formmodel.organization.push(e.data.data._id),t.searchorg=""):t.$toast.open({message:e.data.message,type:"error",position:"top"})}).catch(function(e){t.errors.push(e)})},removeorg:function(t){this.formmodel.organization.splice(t,1)},addorganization:function(t){this.formmodel.organization.push(t),this.searchorg=""},contactresonchanges:function(){this.formmodel.listid="",this.formmodel.listname=""},removeModel:function(){this.dialog=!1,this.$emit("removeModel",this.dialog)},saveContact:function(){var t=this,e=this.formmodel,a=[];"2"==e.createfor&&""==e.listid&&a.push("Please select Contact list"),"1"==e.createfor&&""==e.listname&&a.push("Contact list name is required"),""==e.firstname&&a.push("Firstname is required"),""==e.lastname&&a.push("Lastname is required"),""==e.email&&a.push("Email is required"),a.length>0?a.forEach(function(e){t.$toast.open({message:e,type:"error",position:"top"})}):axios.post("/addnewcontact",this.formmodel).then(function(e){1==e.data.status?(t.formmodel={createfor:"0",listname:"",listid:"",firstname:"",lastname:"",email:"",organization:"",position:"",phone:"",address:""},t.$toast.open({message:"Contact added successfully",position:"top",type:"success"})):t.$toast.open({message:e.data.message,position:"top",type:"error"})}).catch(function(e){t.$toast.open({message:"Failed",position:"top",type:"error"})})}},created:function(){var t=this;axios.post("/getorg",{}).then(function(e){t.allorganization=e.data}).catch(function(e){t.errors.push(e)})},watch:{dialog:function(t,e){return this.$emit("removeModel",this.dialog),this.dialog}}},Dd={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-xs-center shareSurvey_"},[a("v-dialog",{attrs:{width:"600"},on:{click:t.removeModel},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[t._v("New Contact")]),t._v(" "),a("v-card-text",[a("h3",[t._v("Contact list")]),t._v(" "),a("v-radio-group",{attrs:{row:""},model:{value:t.formmodel.createfor,callback:function(e){t.$set(t.formmodel,"createfor",e)},expression:"formmodel.createfor"}},[a("v-radio",{key:"conatctfor0",attrs:{label:"None",value:"0"},on:{click:t.contactresonchanges}}),t._v(" "),a("v-radio",{key:"conatctfor1",attrs:{label:"New",value:"1"},on:{click:t.contactresonchanges}}),t._v(" "),a("v-radio",{key:"conatctfor2",attrs:{label:"Existing",value:"2"},on:{click:t.contactresonchanges}})],1),t._v(" "),"1"==t.formmodel.createfor?a("v-text-field",{attrs:{"prepend-icon":"person",label:"Contact List Name",type:"text"},model:{value:t.formmodel.listname,callback:function(e){t.$set(t.formmodel,"listname",e)},expression:"formmodel.listname"}}):t._e(),t._v(" "),"2"==t.formmodel.createfor?a("model-list-select",{attrs:{list:t.allcontact,"option-value":"_id","option-text":"listname",placeholder:"Select Contact list"},model:{value:t.formmodel.listid,callback:function(e){t.$set(t.formmodel,"listid",e)},expression:"formmodel.listid"}}):t._e()],1),t._v(" "),a("v-divider"),t._v(" "),a("v-card-text",[a("v-text-field",{attrs:{"prepend-icon":"person",label:"Firstname",type:"text"},model:{value:t.formmodel.firstname,callback:function(e){t.$set(t.formmodel,"firstname",e)},expression:"formmodel.firstname"}}),t._v(" "),a("v-text-field",{attrs:{"prepend-icon":"person",label:"Lastname",type:"text"},model:{value:t.formmodel.lastname,callback:function(e){t.$set(t.formmodel,"lastname",e)},expression:"formmodel.lastname"}}),t._v(" "),a("v-text-field",{attrs:{"prepend-icon":"person",label:"Email",type:"text"},model:{value:t.formmodel.email,callback:function(e){t.$set(t.formmodel,"email",e)},expression:"formmodel.email"}}),t._v(" "),a("div",{staticClass:"bubble_poplist prependicon"},[t._l(t.allorganization,function(e){return[-1!=t.formmodel.organization.indexOf(e._id)?a("span",{key:e._id,staticClass:"bubbleuser"},[t._v(t._s(e.name)),a("v-icon",{on:{click:function(a){t.removeorg(t.formmodel.organization.indexOf(e._id))}}},[t._v("maximize")])],1):t._e()]})],2),t._v(" "),a("v-text-field",{attrs:{"prepend-icon":"person",label:"Organization",type:"text"},model:{value:t.searchorg,callback:function(e){t.searchorg=e},expression:"searchorg"}}),t._v(" "),a("div",{staticClass:"hiddendatalist prependicon"},[t._l(t.allorganization,function(e){return a("div",{key:e._id},[e.name.toLowerCase().includes(t.searchorg.toLowerCase())&&""!=t.searchorg&&-1==t.formmodel.organization.indexOf(e._id)?a("span",{staticClass:"databble",on:{click:function(a){return t.addorganization(e._id)}}},[t._v("\n                "+t._s(e.name)+"\n              ")]):t._e()])}),t._v(" "),t.allorganization.find(function(e){return 0==e.name.toLowerCase().localeCompare(t.searchorg.toLowerCase())})||""==t.searchorg?t._e():a("div",[a("span",{staticClass:"databble",on:{click:function(e){return t.addneworganization()}}},[t._v("\n                "+t._s(t.searchorg)+"(Add new)\n              ")])])],2),t._v(" "),a("v-text-field",{attrs:{"prepend-icon":"person",label:"Position",type:"text"},model:{value:t.formmodel.position,callback:function(e){t.$set(t.formmodel,"position",e)},expression:"formmodel.position"}}),t._v(" "),a("v-text-field",{attrs:{"prepend-icon":"person",label:"Address",type:"text"},model:{value:t.formmodel.address,callback:function(e){t.$set(t.formmodel,"address",e)},expression:"formmodel.address"}}),t._v(" "),a("v-text-field",{attrs:{"prepend-icon":"person",label:"Phone",type:"text"},model:{value:t.formmodel.phone,callback:function(e){t.$set(t.formmodel,"phone",e)},expression:"formmodel.phone"}})],1),t._v(" "),a("v-divider"),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:t.saveContact}},[t._v("Add")]),t._v(" "),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:t.removeModel}},[t._v("Cancel")])],1)],1)],1)],1)},staticRenderFns:[]},Ld=a("VU/8")(Nd,Dd,!1,null,null,null).exports,Ad=(new Date,{props:["contact"],data:function(){return{id:this.$route.params.id,contacts:[],contactdata:[],contactdetails:null,email:"",firstname:"",lastname:"",users:[],search:"",headers:[{text:"Slno",align:"left",value:"slno"},{text:"Firstname",value:"firstname"},{text:"Lastname",value:"lastname"},{text:"Email",value:"email"},{text:"",sortable:!1}],errors:[],pagination:{rowsPerPage:100}}},methods:{addemailform:function(){var t=this;""!=this.email?o.a.post("/addcontactemaildata",{email:this.email,firstname:this.firstname,lastname:this.lastname,listid:this.id}).then(function(e){t.getallcontactitems(),t.$toast.open({message:"Contact added successfully",position:"top",type:"success"}),t.email="",t.firstname="",t.lastname=""}).catch(function(e){t.$toast.open({message:"Failed to all Contact",position:"top",type:"error"})}):this.$toast.open({message:"Email is required",position:"top",type:"error"})},gotolist:function(){this.$router.push("/contactlist")},deletecontact:function(t){var e=this;o.a.post("/deleteuserfromcontact",{contactuid:t}).then(function(t){1==t.data.n?(e.$toast.open({message:"Contact deleted Successfully",position:"top",type:"success"}),e.getallcontactitems()):e.$toast.open({message:"Failed to delete Contact",position:"top",type:"error"})}).catch(function(t){e.$toast.open({message:"Failed to delete Contact.",position:"top",type:"error"})})},getallcontactitems:function(){var t=this;o.a.post("/getcontactdetails",{listid:this.id}).then(function(e){t.contactdetails=e.data.contactdetails,t.contactdata=e.data.list}).catch(function(e){t.errors.push(e)})}},created:function(){null!=this.contact&&(this.id=this.contact._id,this.getallcontactitems())}}),Td={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",[null!=t.contact?s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs12:""}},[s("h2",[t._v("Members of: "+t._s(t.contact.listname))])])],1):t._e(),t._v(" "),s("v-layout",[s("v-container",[s("v-card",[s("v-card-title",[t._v("Contact members"),s("v-spacer"),s("v-text-field",{staticClass:"datatable_search",attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),s("v-data-table",{attrs:{headers:t.headers,items:t.contactdata,search:t.search,"rows-per-page-items":[50,100,150],pagination:t.pagination},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.index+1))]),t._v(" "),s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.firstname)+" ")]),t._v(" "),s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.lastname)+" ")]),t._v(" "),s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.email)+" ")]),t._v(" "),s("td",[s("v-btn",{staticClass:"btn-extrasmall",on:{click:function(a){return t.deletecontact(e.item._id)}}},[s("img",{staticClass:"deletequestion",attrs:{src:a("yJyA")}})])],1)]}}])})],1)],1)],1)],1)},staticRenderFns:[]},Sd=a("VU/8")(Ad,Td,!1,null,null,null).exports,Ed={props:["contact","dialogstate"],data:function(){return{readonly_switch:!1,dialog:this.dialogstate,searchorg:"",userid:"",allorganization:[],formmodel:{createfor:"0",listname:"",listid:"",firstname:"",lastname:"",email:"",organization:"",position:"",phone:"",address:""}}},methods:{addneworganization:function(){var t=this;axios.post("/createorg",{name:this.searchorg,created:this.userid}).then(function(e){1==e.data.status?(t.searchorg="",t.allorganization.push(e.data.data),t.formmodel.organization.push(e.data.data._id)):t.$toast.open({message:e.data.message,type:"error",position:"top"})}).catch(function(e){t.errors.push(e)})},removeorg:function(t){this.formmodel.organization.splice(t,1)},addorganization:function(t){this.formmodel.organization.push(t),this.searchorg=""},contactresonchanges:function(){this.formmodel.listid="",this.formmodel.listname=""},removeModel:function(){this.dialog=!1,this.$emit("removeModel",this.dialog)},saveContact:function(){var t=this,e=this.formmodel,a=[];""==e.firstname&&a.push("Firstname is required"),""==e.lastname&&a.push("Lastname is required"),""==e.email&&a.push("Email is required"),a.length>0?a.forEach(function(e){t.$toast.open({message:e,type:"error",position:"top"})}):axios.post("/addnewcontact",this.formmodel).then(function(e){1==e.data.status?(t.formmodel={createfor:"0",listname:"",listid:"",firstname:"",lastname:"",email:"",organization:[],position:"",phone:"",address:""},t.removeModel(),t.$toast.open({message:"Contact added successfully",position:"top",type:"success"})):t.$toast.open({message:e.data.message,position:"top",type:"error"})}).catch(function(e){t.$toast.open({message:"Failed",position:"top",type:"error"})})}},mounted:function(){this.formmodel.firstname=this.contact.firstname,this.formmodel.lastname=this.contact.lastname,this.formmodel.email=this.contact.email,this.formmodel.organization=this.contact.organization.split(","),this.formmodel.position=this.contact.position,this.formmodel.phone=this.contact.phone,this.formmodel.address=this.contact.address,this.readonly_switch=!1},created:function(){var t=this;axios.post("/getorg",{}).then(function(e){t.allorganization=e.data}).catch(function(e){t.errors.push(e)})},watch:{dialog:function(t,e){return this.$emit("removeModel",this.dialog),this.dialog}}},zd={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-xs-center shareSurvey_"},[a("v-dialog",{attrs:{width:"600"},on:{click:t.removeModel},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[a("v-toolbar-title",[t._v("Contact details")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-spacer"),t._v(" "),a("v-spacer"),t._v(" "),a("v-spacer"),t._v(" "),a("v-switch",{attrs:{label:"Edit"},model:{value:t.readonly_switch,callback:function(e){t.readonly_switch=e},expression:"readonly_switch"}})],1),t._v(" "),a("v-card-text",[a("v-text-field",{attrs:{"prepend-icon":"person",label:"Firstname",type:"text"},model:{value:t.formmodel.firstname,callback:function(e){t.$set(t.formmodel,"firstname",e)},expression:"formmodel.firstname"}}),t._v(" "),a("v-text-field",{attrs:{"prepend-icon":"person",label:"Lastname",type:"text"},model:{value:t.formmodel.lastname,callback:function(e){t.$set(t.formmodel,"lastname",e)},expression:"formmodel.lastname"}}),t._v(" "),a("v-text-field",{attrs:{"prepend-icon":"person",label:"Email",type:"text"},model:{value:t.formmodel.email,callback:function(e){t.$set(t.formmodel,"email",e)},expression:"formmodel.email"}}),t._v(" "),a("div",{staticClass:"bubble_poplist prependicon"},[t._l(t.allorganization,function(e){return[-1!=t.formmodel.organization.indexOf(e._id)?a("span",{key:e._id,staticClass:"bubbleuser"},[t._v(t._s(e.name)),a("v-icon",{on:{click:function(a){t.removeorg(t.formmodel.organization.indexOf(e._id))}}},[t._v("maximize")])],1):t._e()]})],2),t._v(" "),a("v-text-field",{attrs:{"prepend-icon":"person",label:"Organization",type:"text"},model:{value:t.searchorg,callback:function(e){t.searchorg=e},expression:"searchorg"}}),t._v(" "),1==t.readonly_switch?a("div",{staticClass:"hiddendatalist prependicon"},[t._l(t.allorganization,function(e){return a("div",{key:e._id},[e.name.toLowerCase().includes(t.searchorg.toLowerCase())&&""!=t.searchorg&&-1==t.formmodel.organization.indexOf(e._id)?a("span",{staticClass:"databble",on:{click:function(a){return t.addorganization(e._id)}}},[t._v("\n                "+t._s(e.name)+"\n              ")]):t._e()])}),t._v(" "),1!=t.readonly_switch||t.allorganization.find(function(e){return 0==e.name.toLowerCase().localeCompare(t.searchorg.toLowerCase())})||""==t.searchorg?t._e():a("div",[a("span",{staticClass:"databble",on:{click:function(e){return t.addneworganization()}}},[t._v("\n                "+t._s(t.searchorg)+"(Add new)\n              ")])])],2):t._e(),t._v(" "),a("v-text-field",{attrs:{"prepend-icon":"person",label:"Position",type:"text"},model:{value:t.formmodel.position,callback:function(e){t.$set(t.formmodel,"position",e)},expression:"formmodel.position"}}),t._v(" "),a("v-text-field",{attrs:{"prepend-icon":"person",label:"Address",type:"text"},model:{value:t.formmodel.address,callback:function(e){t.$set(t.formmodel,"address",e)},expression:"formmodel.address"}}),t._v(" "),a("v-text-field",{attrs:{"prepend-icon":"person",label:"Phone",type:"text"},model:{value:t.formmodel.phone,callback:function(e){t.$set(t.formmodel,"phone",e)},expression:"formmodel.phone"}})],1),t._v(" "),a("v-divider"),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),1==t.readonly_switch?a("v-btn",{attrs:{color:"primary",flat:""},on:{click:t.saveContact}},[t._v("Save")]):t._e(),t._v(" "),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:t.removeModel}},[t._v("Close")])],1)],1)],1)],1)},staticRenderFns:[]},Od=a("VU/8")(Ed,zd,!1,null,null,null).exports,Yd=(new Date,{components:{modelviewcontact:Od},props:["organization"],data:function(){return{contacts:[],model_modelviewcontact:!1,search:"",opencontact:null,isview:!0,headers:[{text:"First Name",value:"firstname"},{text:"Lastname",value:"lastname"},{text:"email",value:"email"},{text:"",sortable:!1}],errors:[],pagination:{rowsPerPage:100}}},methods:{viewcontact:function(t){this.isview=!0,this.opencontact=t,this.model_modelviewcontact=!0},getallcontactlist:function(){var t=this;null!=this.organization?o.a.post("/getalldata",{id:this.organization._id}).then(function(e){console.log(e),t.contacts=e.data.data}).catch(function(e){t.errors.push(e)}):o.a.post("/getcontact",{}).then(function(e){t.contacts=e.data}).catch(function(e){t.errors.push(e)})}},created:function(){this.getallcontactlist()},watch:{model_modelviewcontact:function(t,e){this.getallcontactlist()}}}),Fd={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"allcontacts"},[null!=t.organization?a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("h2",[t._v("Members of: "+t._s(t.organization.name))])])],1):t._e(),t._v(" "),a("v-card",[a("v-card-title",[t._v("All Contacts"),a("v-spacer"),a("v-text-field",{staticClass:"datatable_search",attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{attrs:{headers:t.headers,items:t.contacts,search:t.search,"rows-per-page-items":[50,100,150],pagination:t.pagination},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"text-xs-left",on:{click:function(a){return t.viewcontact(e.item)}}},[t._v(t._s(e.item.firstname)+" ")]),t._v(" "),a("td",{staticClass:"text-xs-left",on:{click:function(a){return t.viewcontact(e.item)}}},[t._v(t._s(e.item.lastname)+" ")]),t._v(" "),a("td",{staticClass:"text-xs-left",on:{click:function(a){return t.viewcontact(e.item)}}},[t._v(t._s(e.item.email)+" ")]),t._v(" "),a("td",{staticClass:"text-xs-left"})]}}])})],1),t._v(" "),1==t.model_modelviewcontact?a("modelviewcontact",{attrs:{dialogstate:t.model_modelviewcontact,contact:t.opencontact},on:{removeModel:function(e){t.model_modelviewcontact=e}}}):t._e()],1)},staticRenderFns:[]},Ud=a("VU/8")(Yd,Fd,!1,null,null,null).exports,Qd={props:["org","dialogstate"],data:function(){return{readonly_switch:!1,dialog:this.dialogstate,searchorg:"",userid:"",allorganization:[],formmodel:{id:"",name:"",address:"",phone:"",email:""}}},methods:{removeModel:function(){this.dialog=!1,this.$emit("removeModel",this.dialog)},saveorganization:function(){var t=this,e=this.formmodel,a=[];""===e.email||/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.email)||a.push("email is not valid"),""==e.name&&a.push("name is required"),a.length>0?a.forEach(function(e){t.$toast.open({message:e,type:"error",position:"top"})}):this.formmodel.id?axios.post("/updateorganization",this.formmodel).then(function(e){1==e.data.status?(t.removeModel(),t.$toast.open({message:"Organization Updated successfully",position:"top",type:"success"})):t.$toast.open({message:e.data.message,position:"top",type:"error"})}).catch(function(e){t.$toast.open({message:"Failed",position:"top",type:"error"})}):axios.post("/createorg",{name:this.formmodel.name,address:this.formmodel.address,email:this.formmodel.email,phone:this.formmodel.phone,created:this.formmodel.id}).then(function(e){1==e.data.status?(t.removeModel(),t.$toast.open({message:"Organization created successfully",position:"top",type:"success"})):t.$toast.open({message:e.data.message,type:"error",position:"top"})}).catch(function(e){t.errors.push(e)})}},mounted:function(){null!=this.org&&(this.formmodel.name=this.org.name,this.formmodel.email=this.org.email,this.formmodel.address=this.org.address,this.formmodel.phone=this.org.phone,this.formmodel.id=this.org._id),this.readonly_switch=!0},created:function(){},watch:{dialog:function(t,e){return this.$emit("removeModel",this.dialog),this.dialog}}},$d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-xs-center shareSurvey_"},[a("v-dialog",{attrs:{width:"600"},on:{click:t.removeModel},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[a("v-toolbar-title",[t._v("Organization details")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-spacer"),t._v(" "),a("v-spacer"),t._v(" "),a("v-spacer"),t._v(" "),null!=t.org?a("v-switch",{attrs:{label:"Edit"},model:{value:t.readonly_switch,callback:function(e){t.readonly_switch=e},expression:"readonly_switch"}}):t._e()],1),t._v(" "),a("v-card-text",[a("v-text-field",{attrs:{"prepend-icon":"person",label:"Name",type:"text"},model:{value:t.formmodel.name,callback:function(e){t.$set(t.formmodel,"name",e)},expression:"formmodel.name"}})],1),t._v(" "),a("v-card-text",[a("v-text-field",{attrs:{"prepend-icon":"person",label:"address",type:"text"},model:{value:t.formmodel.address,callback:function(e){t.$set(t.formmodel,"address",e)},expression:"formmodel.address"}})],1),t._v(" "),a("v-card-text",[a("v-text-field",{attrs:{"prepend-icon":"person",label:"phone",type:"number"},model:{value:t.formmodel.phone,callback:function(e){t.$set(t.formmodel,"phone",e)},expression:"formmodel.phone"}})],1),t._v(" "),a("v-card-text",[a("v-text-field",{attrs:{"prepend-icon":"email",label:"email",type:"text"},model:{value:t.formmodel.email,callback:function(e){t.$set(t.formmodel,"email",e)},expression:"formmodel.email"}})],1),t._v(" "),a("v-divider"),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),1==t.readonly_switch?a("v-btn",{attrs:{color:"primary",flat:""},on:{click:t.saveorganization}},[t._v("Save")]):t._e(),t._v(" "),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:t.removeModel}},[t._v("Close")])],1)],1)],1)],1)},staticRenderFns:[]},Zd=a("VU/8")(Qd,$d,!1,null,null,null).exports,Rd=(new Date,{components:{vieworganization:Zd},data:function(){return{allorgs:[],model_vieworganization:!1,search:"",opencontact:null,isview:!0,headers:[{text:"Name",value:"name"},{text:"Total Contact",value:"count"},{text:"",sortable:!1}],errors:[],pagination:{rowsPerPage:100},selectedorg:null}},methods:{viewcontact:function(t){this.isview=!0,this.opencontact=t,this.model_vieworganization=!0},getallcontactlist:function(){var t=this;o.a.post("/getorg",{}).then(function(e){t.allorgs=e.data}).catch(function(e){t.errors.push(e)})},getdetailscontact:function(t){this.$emit("myEvent",t)}},created:function(){this.getallcontactlist()},watch:{model_vieworganization:function(t,e){this.getallcontactlist()}}}),Pd={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"allcontacts"},[a("button",{staticClass:"exportbutton",on:{click:function(e){return t.viewcontact(null)}}},[t._v("create new")]),t._v(" "),a("v-card",[a("v-card-title",[t._v("All Organization"),a("v-spacer"),a("v-text-field",{staticClass:"datatable_search",attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{attrs:{headers:t.headers,items:t.allorgs,search:t.search,"rows-per-page-items":[50,100,150],pagination:t.pagination},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"text-xs-left",on:{click:function(a){return t.viewcontact(e.item)}}},[t._v(t._s(e.item.name)+" ")]),t._v(" "),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.count))]),t._v(" "),a("td",[a("a",{staticClass:"exportbutton",on:{click:function(a){return t.getdetailscontact(e.item)}}},[t._v("Manage")])])]}}])})],1),t._v(" "),1==t.model_vieworganization?a("vieworganization",{attrs:{dialogstate:t.model_vieworganization,org:t.opencontact},on:{removeModel:function(e){t.model_vieworganization=e}}}):t._e()],1)},staticRenderFns:[]},Gd=a("VU/8")(Rd,Pd,!1,null,null,null).exports,Jd=(new Date,{props:["contact"],data:function(){return{id:this.$route.params.id,contacts:[],contactdata:[],contactdetails:null,email:"",firstname:"",lastname:"",users:[],search:"",headers:[{text:"Slno",align:"left",value:"slno"},{text:"Firstname",value:"firstname"},{text:"Lastname",value:"lastname"},{text:"Email",value:"email"},{text:"",sortable:!1}],errors:[],pagination:{rowsPerPage:100}}},methods:{addemailform:function(){var t=this;""!=this.email?o.a.post("/addcontactemaildata",{email:this.email,firstname:this.firstname,lastname:this.lastname,listid:this.id}).then(function(e){t.getallcontactitems(),t.$toast.open({message:"Contact added successfully",position:"top",type:"success"}),t.email="",t.firstname="",t.lastname=""}).catch(function(e){t.$toast.open({message:"Failed to all Contact",position:"top",type:"error"})}):this.$toast.open({message:"Email is required",position:"top",type:"error"})},gotolist:function(){this.$router.push("/contactlist")},deletecontact:function(t){var e=this;o.a.post("/deleteuserfromcontact",{contactuid:t}).then(function(t){1==t.data.n?(e.$toast.open({message:"Contact deleted Successfully",position:"top",type:"success"}),e.getallcontactitems()):e.$toast.open({message:"Failed to delete Contact",position:"top",type:"error"})}).catch(function(t){e.$toast.open({message:"Failed to delete Contact.",position:"top",type:"error"})})},getallcontactitems:function(){var t=this;o.a.post("/getcontactdetails",{listid:this.id}).then(function(e){t.contactdetails=e.data.contactdetails,t.contactdata=e.data.list}).catch(function(e){t.errors.push(e)})}},created:function(){null!=this.contact&&(this.id=this.contact._id,this.getallcontactitems())}}),Wd={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",[null!=t.contact?s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs12:""}},[s("h2",[t._v("Members of: "+t._s(t.contact.listname))])])],1):t._e(),t._v(" "),s("v-layout",[s("v-container",[s("v-card",[s("v-card-title",[t._v("Contact members"),s("v-spacer"),s("v-text-field",{staticClass:"datatable_search",attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),s("v-data-table",{attrs:{headers:t.headers,items:t.contactdata,search:t.search,"rows-per-page-items":[50,100,150],pagination:t.pagination},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.index+1))]),t._v(" "),s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.firstname)+" ")]),t._v(" "),s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.lastname)+" ")]),t._v(" "),s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.email)+" ")]),t._v(" "),s("td",[s("v-btn",{staticClass:"btn-extrasmall",on:{click:function(a){return t.deletecontact(e.item._id)}}},[s("img",{staticClass:"deletequestion",attrs:{src:a("yJyA")}})])],1)]}}])})],1)],1)],1)],1)},staticRenderFns:[]},Hd=a("VU/8")(Jd,Wd,!1,null,null,null).exports,Bd=(new Date,localStorage.username,{props:["contact"],components:{allcontact:Ud,modelnewcontact:Ld,modelimportcontact:jd,contactdetail:Sd,allorg:Gd,orgcontacts:Hd},data:function(){return{activetab:"0",contacts:[],model_modelimportcontact:!1,model_modelnewcontact:!1,contactname:"",users:[],search:"",selectedcontact:null,selectedorg:null,headers:[{text:"Slno",align:"left",value:"slno",sortable:!1},{text:"Name",value:"listname"},{text:"Source",value:"reson"},{text:"Total",value:"count"},{text:"",sortable:!1},{text:"",sortable:!1}],errors:[],pagination:{rowsPerPage:100}}},methods:{addcontactlist:function(){var t=this;""!=this.contactname?o.a.post("/addcontactlist",{userlist:[],listname:this.contactname,listid:"local_"+this.contacts.length}).then(function(e){null!=e.data.contactdata?(t.$toast.open({message:"Contact List addedd successfully",position:"top",type:"success"}),t.$router.push("/contactdetails/"+e.data.contactdata._id)):t.$toast.open({message:"Failed to add contact list",position:"top",type:"error"})}).catch(function(e){t.$toast.open({message:"Failed to add contact list",position:"top",type:"error"})}):this.$toast.open({message:"Contact Name required",position:"top",type:"error"})},deletecontactlist:function(t){var e=this;o.a.post("/deletecontactlist",{contactlistid:t}).then(function(t){1==t.data.n?(e.$toast.open({message:"Contact list deleted successfully",position:"top",type:"success"}),e.getallcontactlist()):e.$toast.open({message:"Failed to delete Contact list",position:"top",type:"error"})}).catch(function(t){e.$toast.open({message:"Failed to delete Contact list",position:"top",type:"error"})})},getallcontactlist:function(){var t=this;o.a.post("/getcontacts",{}).then(function(e){console.log(e),t.contacts=e.data}).catch(function(e){t.errors.push(e)})},getdetailscontact:function(t){this.selectedcontact=t,this.activetab="2",console.log("selectedcontact>>>>>>",t)},selectOrganisation:function(t){this.selectedorg=t,this.activetab="4"}},created:function(){this.getallcontactlist()},watch:{activetab:function(t,e){2!=t&&(this.selectedcontact=null),4!=t&&(this.selectedorg=null)},model_modelimportcontact:function(t,e){this.getallcontactlist()},model_modelnewcontact:function(t,e){this.getallcontactlist()}}}),Vd={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{staticClass:"conatiner_dashboard",attrs:{"grid-list-xl":""}},[s("v-layout",[s("v-flex",{staticClass:"dashboard-sidebar",attrs:{xs3:""}},[s("v-flex",{staticClass:"dashboard-sidebar-flex",attrs:{xs12:"","text-xs-left":""}},[s("v-card",{staticClass:"cardsddprotitle",attrs:{"text-right":""}},[s("a",{staticClass:"btn_totabs",on:{click:function(e){t.model_modelnewcontact=!0}}},[s("div",{staticClass:"icon30 blueback"},[s("img",{attrs:{src:a("wPQr")}})]),t._v("New Contact")]),t._v(" "),s("a",{staticClass:"btn_totabs",on:{click:function(e){t.model_modelimportcontact=!0}}},[s("div",{staticClass:"icon30 blueback"},[s("img",{attrs:{src:a("1apx")}})]),t._v("Import Contact")])])],1),t._v(" "),s("v-flex",{attrs:{xs12:"","text-xs-left":""}},[s("div",{staticClass:"cardsddprotitle side_projectlist"},[s("div",{staticClass:"card-header"},[t._v("Details")]),t._v(" "),s("button",{class:"btn_totabs "+(0==t.activetab?"active":"")+" ",on:{click:function(e){t.activetab="0"}}},[s("div",{staticClass:"icon30"},[s("img",{attrs:{src:a("USt7")}})]),t._v("Contacts")]),t._v(" "),s("button",{class:"btn_totabs "+(1==t.activetab?"active":"")+" ",on:{click:function(e){t.activetab="1"}}},[s("div",{staticClass:"icon30"},[s("img",{attrs:{src:a("USt7")}})]),t._v("Contacts List")]),t._v(" "),s("button",{class:"btn_totabs "+(3==t.activetab?"active":"")+" ",on:{click:function(e){t.activetab="3"}}},[s("div",{staticClass:"icon30"},[s("img",{attrs:{src:a("USt7")}})]),t._v("Organization")])])])],1),t._v(" "),s("v-flex",{attrs:{xs9:""}},[s("v-tabs-items",{model:{value:t.activetab,callback:function(e){t.activetab=e},expression:"activetab"}},[s("v-tab-item",{key:0},["0"==t.activetab?s("allcontact",{attrs:{organization:t.selectedorg}}):t._e()],1),t._v(" "),s("v-tab-item",{key:1},[s("v-layout",["1"==t.activetab?s("v-container",[s("v-card",[s("v-card-title",[t._v("Contact list"),s("v-spacer"),s("v-text-field",{staticClass:"datatable_search",attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),s("v-data-table",{attrs:{headers:t.headers,items:t.contacts,search:t.search,"rows-per-page-items":[50,100,150],pagination:t.pagination},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.index+1))]),t._v(" "),s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.listname)+" ")]),t._v(" "),e.item.listid.indexOf("local")>=0?s("td",{staticClass:"text-xs-left"},[t._v("local")]):s("td",{staticClass:"text-xs-left"},[t._v("GPEx")]),t._v(" "),s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.count)+" ")]),t._v(" "),s("td",[s("a",{staticClass:"exportbutton",on:{click:function(a){return t.getdetailscontact(e.item)}}},[t._v("Manage contacts")])]),t._v(" "),s("td",[s("v-btn",{staticClass:"btn-extrasmall",on:{click:function(a){return t.deletecontactlist(e.item._id)}}},[s("img",{staticClass:"deletequestion",attrs:{src:a("yJyA")}})])],1)]}}],null,!1,1917954032)})],1)],1):t._e()],1)],1),t._v(" "),s("v-tab-item",{key:2},[null!=t.selectedcontact?s("contactdetail",{attrs:{contact:t.selectedcontact}}):t._e()],1),t._v(" "),s("v-tab-item",{key:3},["3"==t.activetab?s("allorg",{on:{myEvent:t.selectOrganisation}}):t._e()],1),t._v(" "),s("v-tab-item",{key:4},["4"==t.activetab?s("allcontact",{attrs:{organization:t.selectedorg}}):t._e()],1)],1),t._v(" "),1==t.model_modelimportcontact?s("modelimportcontact",{attrs:{allcontact:t.contacts,dialogstate:t.model_modelimportcontact,contact:t.selectedcontact},on:{removeModel:function(e){t.model_modelimportcontact=e}}}):t._e(),t._v(" "),1==t.model_modelnewcontact?s("modelnewcontact",{attrs:{allcontact:t.contacts,dialogstate:t.model_modelnewcontact,contact:t.selectedcontact},on:{removeModel:function(e){t.model_modelnewcontact=e}}}):t._e()],1)],1)],1)},staticRenderFns:[]},Xd=a("VU/8")(Bd,Vd,!1,null,null,null).exports,Kd={props:["rid","rtype"],data:function(){return{role:null,errors:[]}},methods:{},created:function(){var t=this;o.a.post("/getrolebyid",{roleid:this.rid}).then(function(e){t.role=e.data})}},tl={render:function(){var t=this.$createElement,e=this._self._c||t;return"span_nameonly"==this.rtype&&null!=this.role?e("span",[this._v("\n  "+this._s(this.role.roletitle)+"\n")]):this._e()},staticRenderFns:[]},el=a("VU/8")(Kd,tl,!1,null,null,null).exports,al=(new Date,localStorage.username,{components:{rolesnipt:el},data:function(){return{id:this.$route.params.id,contacts:[],contactdata:[],contactdetails:null,email:"",firstname:"",lastname:"",users:[],search:"",headers:[{text:"Slno",align:"left",value:"slno"},{text:"Firstname",value:"firstname"},{text:"Lastname",value:"lastname"},{text:"Email",value:"email"},{text:"",sortable:!1}],errors:[],pagination:{rowsPerPage:100}}},methods:{addemailform:function(){var t=this;""!=this.email?o.a.post("/addcontactemaildata",{email:this.email,firstname:this.firstname,lastname:this.lastname,listid:this.id}).then(function(e){t.getallcontactitems(),t.$toast.open({message:"Contact added successfully",position:"top",type:"success"}),t.email="",t.firstname="",t.lastname=""}).catch(function(e){t.$toast.open({message:"Failed to all Contact",position:"top",type:"error"})}):this.$toast.open({message:"Email is required",position:"top",type:"error"})},gotolist:function(){this.$router.push("/contactlist")},deletecontact:function(t){var e=this;o.a.post("/deleteuserfromcontact",{contactuid:t}).then(function(t){1==t.data.n?(e.$toast.open({message:"Contact deleted Successfully",position:"top",type:"success"}),e.getallcontactitems()):e.$toast.open({message:"Failed to delete Contact",position:"top",type:"error"})}).catch(function(t){e.$toast.open({message:"Failed to delete Contact.",position:"top",type:"error"})})},getallcontactitems:function(){var t=this;o.a.post("/getcontactdetails",{listid:this.id}).then(function(e){t.contactdetails=e.data.contactdetails,t.contactdata=e.data.list}).catch(function(e){t.errors.push(e)})}},created:function(){this.getallcontactitems()}}),sl={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",[s("div",{staticClass:"addemailform"},[null!=t.contactdetails?s("v-flex",{attrs:{xs12:""}},[s("h2",[t._v(" Contacts Name: "+t._s(t.contactdetails.listname))])]):t._e(),t._v(" "),s("br"),t._v(" "),s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs12:""}},[s("h2",[t._v("Add user to list")])])],1),t._v(" "),s("v-layout",[s("v-flex",{attrs:{xs12:""}},[s("v-text-field",{attrs:{"prepend-icon":"person",label:"Firstname",type:"text"},model:{value:t.firstname,callback:function(e){t.firstname=e},expression:"firstname"}})],1)],1),t._v(" "),s("v-layout",[s("v-flex",{attrs:{xs12:""}},[s("v-text-field",{attrs:{"prepend-icon":"person",label:"Lastname",type:"text"},model:{value:t.lastname,callback:function(e){t.lastname=e},expression:"lastname"}})],1)],1),t._v(" "),s("v-layout",[s("v-flex",{attrs:{xs12:""}},[s("v-text-field",{attrs:{"prepend-icon":"person",label:"Email",type:"email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1),t._v(" "),s("v-layout",[s("v-btn",{on:{click:t.addemailform}},[t._v("Add")]),t._v(" "),s("v-btn",{on:{click:t.gotolist}},[t._v("Cancel")])],1)],1),t._v(" "),s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs12:""}},[s("h2",[t._v(" Contacts Members")])])],1),t._v(" "),s("v-layout",[s("v-container",[s("v-card",[s("v-card-title",[t._v("Contact members"),s("v-spacer"),s("v-text-field",{staticClass:"datatable_search",attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),s("v-data-table",{attrs:{headers:t.headers,items:t.contactdata,search:t.search,"rows-per-page-items":[50,100,150],pagination:t.pagination},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.index+1))]),t._v(" "),s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.firstname)+" ")]),t._v(" "),s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.lastname)+" ")]),t._v(" "),s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.email)+" ")]),t._v(" "),s("td",[s("v-btn",{staticClass:"btn-extrasmall",on:{click:function(a){return t.deletecontact(e.item._id)}}},[s("img",{staticClass:"deletequestion",attrs:{src:a("yJyA")}})])],1)]}}])})],1)],1)],1)],1)},staticRenderFns:[]},il=a("VU/8")(al,sl,!1,null,null,null).exports,nl=(new Date,localStorage.username),ol=a("NCci"),rl={components:{rolesnipt:el},data:function(){return{currentuser:null,mailformate:[],mailfor:"",mailsubject:"",mailbody:"",users:[],search:"",headers:[{text:"Slno",align:"left",value:"slno"},{text:"Mail For",value:"mailfor"},{text:"Mail Subject",value:"mailsubject"},{text:"Mail Body",value:"mailbody"}],errors:[],pagination:{rowsPerPage:100},actions:[{code:"1",text:"Share Survey to Contact list "},{code:"2",text:"Response Added "},{code:"3",text:"Response Approved "},{code:"4",text:"Response Completed "},{code:"5",text:"Survey Notification"}],defaultflow:{surveyid:this.survey,action:1,role:"",notifyrole:""}}},methods:{addmailformate:function(){var t=this;""!=this.mailfor?o.a.post("/addmailformate",{mailfor:this.mailfor,mailsubject:this.mailsubject,mailbody:this.mailbody}).then(function(e){t.mailformate=e.data,t.$toast.open({message:"Template Updated successfully",position:"top",type:"success"})}).catch(function(e){t.$toast.open({message:"Failed to Update Template",position:"top",type:"error"})}):this.$toast.open({message:"Please specify Template for",position:"top",type:"error"}),this.mailfor="",this.mailsubject="",this.mailbody=""},gotolist:function(){this.$router.push("/")},changeflowdata:function(){var t=this;this.mailsubject="",this.mailbody="",Object(ss.setTimeout)(function(){t.mailformate.forEach(function(e){t.mailfor==e.mailfor&&(t.mailsubject=e.mailsubject,t.mailbody=e.mailbody,console.log(e))})},300)},mailfiorname:function(t){var e="";return this.actions.forEach(function(a){a.code!=t||(e=a.text)}),e}},created:function(){var t=this;o.a.post("/getcurrentuser",{username:nl}).then(function(e){console.log(e.data),t.currentuser=e.data._id,ol.is_roleassigned(e.data.roles,"1")||ol.is_roleassigned(e.data.roles,"2")||ol.is_roleassigned(e.data.roles,"3")?console.log("have access"):(console.log("don't have access"),t.$router.push("/"))}),o.a.post("/getmailformate",{listid:this.id}).then(function(e){t.mailformate=e.data}).catch(function(e){t.errors.push(e)})}},cl={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("div",{staticClass:"mailformate"},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("h2",[t._v("Mail Template")])])],1),t._v(" "),a("v-layout",[a("v-flex",{attrs:{xs12:""}},[a("v-select",{attrs:{"prepend-icon":"person",items:t.actions,label:"Template For","item-text":"text","item-value":"code"},on:{change:t.changeflowdata},model:{value:t.mailfor,callback:function(e){t.mailfor=e},expression:"mailfor"}})],1)],1),t._v(" "),a("v-layout",[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{"prepend-icon":"person",label:"Template Subject",type:"text"},model:{value:t.mailsubject,callback:function(e){t.mailsubject=e},expression:"mailsubject"}})],1)],1),t._v(" "),a("v-layout",[a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"editorinput-conatiner"},[a("div",{staticClass:"editorinput-title"},[t._v("Template Body: ")]),t._v(" "),a("tinymce",{ref:"tincyeditor",attrs:{id:"editor_formate"},model:{value:t.mailbody,callback:function(e){t.mailbody=e},expression:"mailbody"}})],1)])],1),t._v(" "),a("v-layout",[a("v-btn",{on:{click:t.addmailformate}},[t._v("Save")]),t._v(" "),a("v-btn",{on:{click:t.gotolist}},[t._v("Cancel")])],1)],1),t._v(" "),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("h2",[t._v(" Notification Templates")])])],1),t._v(" "),a("v-layout",[a("v-container",[a("v-card",[a("v-card-title",[a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{attrs:{headers:t.headers,items:t.mailformate,search:t.search,"rows-per-page-items":[50,100,150],pagination:t.pagination},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.index+1))]),t._v(" "),a("td",{staticClass:"text-xs-left"},[t._v(t._s(t.mailfiorname(e.item.mailfor))+" ")]),t._v(" "),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.mailsubject)+" ")]),t._v(" "),a("td",{staticClass:"text-xs-left"},[a("div",{domProps:{innerHTML:t._s(e.item.mailbody)}})])]}}])})],1)],1)],1)],1)},staticRenderFns:[]},dl=a("VU/8")(rl,cl,!1,null,null,null).exports,ll=(localStorage.username,new Date,a("CqLJ"),{props:["data"],data:function(){return{id:this.data._id,maildata:null,actions:[{code:"1",text:"Share Survey to Contact list "},{code:"2",text:"Response Added "},{code:"3",text:"Response Approved "},{code:"4",text:"Response Completed "},{code:"5",text:"Survey Notification"}]}},methods:{getBack:function(){this.$emit("removeModel",!1)},getsentmaildata:function(){var t=this;axios.post("/getsentmaildetails",{mailid:this.id}).then(function(e){t.maildata=e.data}).catch(function(e){console.log(e),t.$toast.open({message:"Failed to fetch Sent mails",position:"top",type:"error"})})},notifyfor:function(t){var e=this.actions.find(function(e){return e.code==t});return e?e.text:""}},created:function(){this.getsentmaildata()},watch:{},computed:{}}),ul={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"modal"}},[a("div",{staticClass:"modal-mask"},[a("div",{staticClass:"modal-wrapper"},[null!=t.maildata?a("div",{staticClass:"modal-container"},[a("div",{staticClass:"modal-header"},[a("v-layout",{staticClass:"conatiner_responceform",attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-container",{},[a("h1",[t._v("Mail details")]),a("br"),t._v(" "),a("div",{staticClass:"#"},[a("p",[a("strong",[t._v("Survey name: ")]),t._v(t._s(t.maildata.surveyname))]),t._v(" "),a("p",[a("strong",[t._v("User name: ")]),t._v(t._s(t.maildata.username))]),t._v(" "),a("p",[a("strong",[t._v("Email: ")]),t._v(t._s(t.maildata.toemail))]),t._v(" "),a("p",[a("strong",[t._v("Date: ")]),t._v(t._s(t.maildata.date))]),t._v(" "),a("p",[a("strong",[t._v("Mail for: ")]),t._v(t._s(t.notifyfor(t.maildata.notificationfor)))]),t._v(" "),a("p",[a("strong",[t._v("Mail Body: ")])]),t._v(" "),a("div",{staticClass:"#",domProps:{innerHTML:t._s(t.maildata.data)}}),t._v(" "),a("br"),t._v(" "),a("button",{staticClass:"exportbutton",on:{click:t.getBack}},[t._v("Close")])])])],1)],1)],1)]):t._e()])])])},staticRenderFns:[]};var pl=a("VU/8")(ll,ul,!1,function(t){a("Ia7I")},null,null).exports,vl=(localStorage.username,new Date,a("CqLJ")),hl={components:{ModelListSelect:we.ModelListSelect,singleMailData:pl},data:function(){return{model_modelviewdetails:!1,selproject:"",selsurvey:"",seltype:"",selmail:null,search:"",pagination:{rowsPerPage:100,descending:!0,SortBy:"createddate"},headers:[{text:"Slno",sortable:!1},{text:"Survey",value:"surveyname"},{text:"User name",value:"username"},{text:"User email",value:"toemail"},{text:"Mail for",value:"notificationfor"},{text:"Date",value:"createddate"},{text:"",sortable:!1}],allmails:[],allprojects:[],allsurvey:[],actions:[{code:"1",text:"Share Survey to Contact list "},{code:"2",text:"Response Added "},{code:"3",text:"Response Approved "},{code:"4",text:"Response Completed "},{code:"5",text:"Survey Notification"}],showModal:!1}},methods:{popupmaildetails:function(t){this.model_modelviewdetails=!0,this.selmail=t},getmaildetails:function(t){this.showModal=!0,this.$router.push("/maildetails/"+t)},datetostring:function(t){return vl(t,"yyyy/mm/dd hh:MM:ss TT")},notifyfor:function(t){var e=this.actions.find(function(e){return e.code==t});return e?e.text:""},getsentmails:function(){var t=this;axios.post("/getsentreminder",{surveyid:this.selsurvey,remtype:this.seltype}).then(function(e){t.allmails=e.data}).catch(function(e){t.$toast.open({message:"Failed to fetch Sent mails",position:"top",type:"error"})})},getallsurvey:function(){var t=this;this.allsurvey=[],this.selproject&&axios.post("/getallsurveys",{projectid:this.selproject}).then(function(e){t.allsurvey=e.data}).catch(function(e){t.$toast.open({message:"Failed to fetch Sent mails",position:"top",type:"error"})})},clearfilter:function(){this.selproject="",this.selsurvey="",this.seltype="",this.getsentmails()}},created:function(){var t=this;axios.get("/getprojects").then(function(e){t.allprojects=e.data}).catch(function(t){console.log(t)}),this.getsentmails()},watch:{},computed:{}},ml={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{staticClass:"conatiner_responceform",attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-container",{staticClass:"conatiner_dashboard"},[a("v-layout",{staticClass:"surveyressect"},[a("v-flex",{attrs:{sm4:""}},[a("model-list-select",{staticClass:"sharedata",attrs:{list:t.allprojects,"option-value":"_id","option-text":"projectname",placeholder:"Select Project"},on:{input:t.getallsurvey},model:{value:t.selproject,callback:function(e){t.selproject=e},expression:"selproject"}})],1),t._v(" "),a("v-flex",{attrs:{sm4:""}},[a("model-list-select",{staticClass:"sharedata",attrs:{list:t.allsurvey,"option-value":"_id","option-text":"surveyname",placeholder:"Select Survey"},on:{input:t.getallsurvey},model:{value:t.selsurvey,callback:function(e){t.selsurvey=e},expression:"selsurvey"}})],1),t._v(" "),a("v-flex",{attrs:{sm4:""}},[a("model-list-select",{staticClass:"sharedata",attrs:{list:t.actions,"option-value":"code","option-text":"text",placeholder:"Mail for"},on:{input:t.getallsurvey},model:{value:t.seltype,callback:function(e){t.seltype=e},expression:"seltype"}})],1)],1),t._v(" "),a("v-layout",{staticClass:"surveyressect"},[a("v-flex",{attrs:{sm12:""}},[a("button",{staticClass:"exportbutton",on:{click:t.getsentmails}},[t._v("Filter")]),t._v(" "),a("button",{staticClass:"exportbutton",on:{click:t.clearfilter}},[t._v("Reset")])])],1)],1)],1),t._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-container",{staticClass:"conatiner_dashboard"},[a("v-card",[a("v-card-title",[t._v("Sent mail Report"),a("v-spacer"),a("v-text-field",{staticClass:"datatable_search",attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{attrs:{headers:t.headers,items:t.allmails,search:t.search,"rows-per-page-items":[50,100,150],pagination:t.pagination},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.index+1))]),t._v(" "),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.surveyname)+" ")]),t._v(" "),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.username)+" ")]),t._v(" "),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.toemail)+" ")]),t._v(" "),a("td",{staticClass:"text-xs-left"},[t._v(t._s(t.notifyfor(e.item.notificationfor))+" ")]),t._v(" "),a("td",{staticClass:"text-xs-left"},[t._v(t._s(t.datetostring(e.item.createddate))+" ")]),t._v(" "),a("td",{staticClass:"text-xs-left"},[a("button",{staticClass:"exportbutton",on:{click:function(a){return t.popupmaildetails(e.item)}}},[t._v("Details")])])]}}])})],1)],1)],1),t._v(" "),1==t.model_modelviewdetails?a("singleMailData",{attrs:{data:t.selmail},on:{removeModel:function(e){t.model_modelviewdetails=!1}}}):t._e()],1)},staticRenderFns:[]},fl=a("VU/8")(hl,ml,!1,null,null,null).exports,gl=(localStorage.username,new Date,a("CqLJ"),{data:function(){return{id:this.$route.params.id,maildata:null,actions:[{code:"1",text:"Share Survey to Contact list "},{code:"2",text:"Response Added "},{code:"3",text:"Response Approved "},{code:"4",text:"Response Completed "},{code:"5",text:"Survey Notification"}]}},methods:{getBack:function(){this.$router.push("/sentmailreport")},getsentmaildata:function(){var t=this;axios.post("/getsentmaildetails",{mailid:this.id}).then(function(e){t.maildata=e.data}).catch(function(e){console.log(e),t.$toast.open({message:"Failed to fetch Sent mails",position:"top",type:"error"})})},notifyfor:function(t){var e=this.actions.find(function(e){return e.code==t});return e?e.text:""}},created:function(){this.getsentmaildata()},watch:{},computed:{}}),yl={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{staticClass:"conatiner_responceform",attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-container",{},[a("h1",[t._v("Mail details")]),t._v(" "),a("br"),t._v(" "),a("div",{staticClass:"maildetails"},[a("p",[a("strong",[t._v("Survey name: ")]),t._v(t._s(t.maildata.surveyname))]),t._v(" "),a("p",[a("strong",[t._v("User name: ")]),t._v(t._s(t.maildata.username))]),t._v(" "),a("p",[a("strong",[t._v("Email: ")]),t._v(t._s(t.maildata.toemail))]),t._v(" "),a("p",[a("strong",[t._v("Date: ")]),t._v(t._s(t.maildata.date))]),t._v(" "),a("p",[a("strong",[t._v("Mail for: ")]),t._v(t._s(t.notifyfor(t.maildata.notificationfor)))]),t._v(" "),a("p",[a("strong",[t._v("Mail Body: ")])]),t._v(" "),a("div",{staticClass:"maildbody",domProps:{innerHTML:t._s(t.maildata.data)}}),t._v(" "),a("br"),t._v(" "),a("button",{staticClass:"exportbutton",on:{click:t.getBack}},[t._v("Back")])])])],1)],1)},staticRenderFns:[]};var _l=a("VU/8")(gl,yl,!1,function(t){a("PSR7")},"data-v-cbafc1e8",null).exports,xl=(a("CqLJ"),{data:function(){return{id:this.$route.params.id,surveydata:null,contactdata:null,sharedata:null,sharedlist:[],search:"",pagination:{rowsPerPage:100},headers:[{text:"Slno.",sortable:!1},{text:"User Name",align:"left",value:"username"},{text:"Email",align:"left",value:"email"},{text:"Shared Date",align:"left",value:"createddate"},{text:"Mail",sortable:!1}]}},methods:{sendtoonedashboard:function(t){var e=this;axios.post("/testapi",{sharedid:t,sendtoone:!0,sendmail:!1}).then(function(t){t.data&&(e.getshareddata(),e.$toast.open({message:"Sent to GPEx ONE Dashboard",position:"top",type:"success"}))}).catch(function(t){e.$toast.open({message:"Failed to send to GPEx ONE Dashboard",position:"top",type:"success"})})},sendsharemeaaage:function(t){var e=this;axios.post("/sharesurveytocontact",{slistid:this.id,conatctitemid:t}).then(function(t){t.data?e.$toast.open({message:"Email Sent",position:"top",type:"success"}):e.$toast.open({message:"Something went wrong, Please try again...",position:"top",type:"info"})}).catch(function(t){e.$toast.open({message:"Failed to Send mail",position:"top",type:"error"})})},getshareddata:function(){var t=this;axios.post("/getsurveyshareddetails",{sid:this.id}).then(function(e){e.data&&(t.sharedlist=e.data.finallist,t.contactdata=e.data.contact,t.surveydata=e.data.survey,t.sharedata=e.data.share)})}},created:function(){this.getshareddata()}}),bl={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sharedsurvey"},[a("v-container",[null!=t.contactdata?a("v-flex",{attrs:{xs12:""}},[a("h2",[t._v(" Contacts Name: "+t._s(t.contactdata.listname))])]):t._e(),t._v(" "),null!=t.surveydata?a("v-flex",{attrs:{xs12:""}},[a("h2",[t._v(" Survey Name: "+t._s(t.surveydata.surveyname))])]):t._e(),t._v(" "),a("br"),t._v(" "),t.sharedlist.length>0?a("v-flex",{attrs:{xs12:""}},[a("span",{staticClass:" exportbutton cursor_pointer",on:{click:function(e){return t.sendtoonedashboard(t.id)}}},[t._v("Send To Dashboard")])]):t._e(),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("v-card",[a("v-card-title",[t._v("Shared list"),a("v-spacer"),a("v-text-field",{staticClass:"datatable_search",attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{attrs:{headers:t.headers,items:t.sharedlist,search:t.search,"rows-per-page-items":[50,100,150],pagination:t.pagination},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.index+1)+" ")]),t._v(" "),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.username)+" ")]),t._v(" "),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.email)+" ")]),t._v(" "),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.createdat)+" ")]),t._v(" "),a("td",[e.item.mailsent?[t._v("Sent")]:[a("span",{staticClass:"cursor_pointer",on:{click:function(a){return t.sendsharemeaaage(e.item.contactid)}}},[t._v("Send message")])]],2)]}}])})],1)],1)],1)},staticRenderFns:[]},ql=a("VU/8")(xl,bl,!1,null,null,null).exports,wl=(new Date,localStorage.username),Cl=a("NCci"),Ml={data:function(){return{allsetting:[],errors:[],currentuser:null,roles:[]}},methods:{savesettings:function(){var t=this;o.a.post("/updateserversettings",{allsetting:this.allsetting}).then(function(e){console.log("dsfsdf",e);var a="success";1!=e.data.status&&(a="error"),e.data.message.forEach(function(e){t.$toast.open({message:e,type:a,position:"top"})})}).catch(function(e,a){t.$toast.open({message:"Something went wrong",type:"error",position:"top"})})},cancleform:function(){this.$router.push("/")}},created:function(){var t=this;o.a.post("/getcurrentuser",{username:wl}).then(function(e){t.currentuser=e.data._id,Cl.is_roleassigned(e.data.roles,"1")?o.a.post("/getserversettings").then(function(e){t.allsetting=e.data}).catch(function(t){}):(console.log("don't have access"),t.$router.push("/"))})}},Il={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("div",{staticClass:"edituserform"},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("h2",[t._v("Setting")])])],1),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),t._l(t.allsetting,function(e){return[a("div",{key:e._id,staticClass:"placement"},[a("v-text-field",{staticClass:"borderdradius",attrs:{label:e.fullname},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"s.value"}})],1)]}),t._v(" "),a("v-layout",[a("button",{staticClass:"exportbutton",on:{click:t.savesettings}},[t._v("Save")]),t._v(" "),a("button",{staticClass:"exportbutton",on:{click:t.cancleform}},[t._v("Cancel")])])],2)])},staticRenderFns:[]},kl=a("VU/8")(Ml,Il,!1,null,null,null).exports,jl=(new Date,{components:{previewsurvey:Is,welcomethankyoueditor:ws},data:function(){return{id:this.$route.params.id,thankyounotes:[],welcomenotes:[]}},methods:{},created:function(){var t=this;axios.post("/getallwelcomethankyoudata",{surveyid:this.id,datatype:"welcomepage"}).then(function(e){null==e.data||(t.welcomenotes=e.data)}),axios.post("/getallwelcomethankyoudata",{surveyid:this.id,datatype:"thankyoupage"}).then(function(e){null==e.data||(t.thankyounotes=e.data)})},watch:{}}),Nl={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"surveyprint"},[t.welcomenotes.length>0?[t._l(t.welcomenotes,function(e,s){return[a("div",{key:"welcomenotesid"+s,domProps:{innerHTML:t._s(e.description)}})]})]:t._e(),t._v(" "),a("previewsurvey",{attrs:{surveyid:t.id}}),t._v(" "),t.thankyounotes.length>0?[t._l(t.thankyounotes,function(e,s){return[a("div",{key:"welcomenotesid"+s,domProps:{innerHTML:t._s(e.description)}})]})]:t._e()],2)},staticRenderFns:[]},Dl=a("VU/8")(jl,Nl,!1,null,null,null).exports,Ll=a("cQ2t"),Al={components:{VueNumberInput:a.n(Ll).a},data:function(){return{semester:null,semesterDot:null,errors:[],backendResponse:""}},methods:{semesterentry:function(){var t=this;axios.post("/semesterentry",{semester:this.semester,semesterDot:this.semesterDot}).then(function(e){t.backendResponse=e.data.message}).catch(function(e){t.errors.push(e)})}}},Tl={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",[a("h2",[t._v("Add Semester")])])],1),t._v(" "),a("form",[a("v-layout",[a("VueNumberInput",{attrs:{step:1e3,inline:"",controls:""},model:{value:t.semester,callback:function(e){t.semester=e},expression:"semester"}}),t._v(" "),a("span",[t._v("")]),t._v(" "),a("VueNumberInput",{attrs:{min:0,max:10,inline:"",controls:""},model:{value:t.semesterDot,callback:function(e){t.semesterDot=e},expression:"semesterDot"}})],1)],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-layout",[a("button",{staticClass:"exportbutton",attrs:{type:"button"},on:{click:t.semesterentry}},[t._v("Submit")])]),t._v("\r\n    "+t._s(t.backendResponse)+"\r\n")],1)],1)],1)},staticRenderFns:[]},Sl=a("VU/8")(Al,Tl,!1,null,null,null).exports,El=localStorage.username,zl={data:function(){return{survey:[],question:[],Project:[],semesters:[],errors:[],searchProject:null,lastupdated:0,searchsurvey:null,searchquestion:null,selectedAnswer:null,questionId:null,semester:null,searchsemester:null,finalSurvey:[],loading:!1}},methods:{getallsurveys:function(){var t=this;""!=this.searchProject&&(this.loading=!0,axios.post("/findSurveys",{id:this.searchProject,lastdate:this.lastupdated}).then(function(e){t.survey=e.data.data,t.loading=!1}).catch(function(e){t.errors.push(e),t.loading=!1}))},getAllQuestion:function(){var t=this;this.loading=!0,axios.post("/getquestions",{surveyid:this.searchsurvey}).then(function(e){t.question=e.data,t.loading=!1}).catch(function(e){t.errors.push(e),t.loading=!1})},selectedAnswerText:function(){var t=this;this.question.map(function(e){e._id===t.searchquestion&&(t.questionId=e._id,t.selectedAnswer=e.questiontype)})},selectedSemester:function(){var t=this;this.survey.map(function(e){e._id===t.searchsurvey&&(t.semester=e.semester)})},addquestion:function(){var t=this;this.loading=!0,axios.post("/datequestiontype",{semester:this.semester,survey:this.searchsurvey,question_Id:this.questionId}).then(function(e){console.log("response",e),t.loading=!1}).catch(function(e){t.errors.push(e),t.loading=!1})},filterSemester:function(){this.searchsemester;var t=this.survey.filter(function(t){return t.semester,t.semester,""==t.semester});this.finalSurvey=t}},watch:{searchProject:function(){this.lastupdated=Date.now(),this.getallsurveys()},searchsurvey:function(){this.getAllQuestion(),this.selectedSemester()},searchquestion:function(){this.selectedAnswerText()},searchsemester:function(){this.filterSemester()}},created:function(){var t=this;axios.post("/getcurrentuser",{username:El}).then(function(e){axios.post("/findsurveycategory",{id:e.data._id}).then(function(e){t.Project=e.data}).catch(function(e){t.errors.push(e)}).catch(function(e){t.errors.push(e)})}),axios.post("/getsemesters").then(function(e){t.semesters=e.data}).catch(function(e){t.errors.push(e)})}},Ol={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[0==t.loading?a("div",[a("v-container",[a("h3",[t._v("Please select the project, survey, semester and question")]),t._v(" "),a("div",{staticClass:"margin_top"},[a("v-select",{attrs:{items:t.Project,label:"select Project","item-value":"_id","item-text":"projectname",solo:""},model:{value:t.searchProject,callback:function(e){t.searchProject=e},expression:"searchProject"}})],1),t._v(" "),t.semesters.length>0?a("div",{staticClass:"margin_top"},[a("v-select",{attrs:{items:t.semesters,label:"Semester","item-value":"_id","item-text":"semesterName",solo:""},model:{value:t.searchsemester,callback:function(e){t.searchsemester=e},expression:"searchsemester"}})],1):t._e(),t._v(" "),t.finalSurvey.length>0?a("div",{staticClass:"margin_top"},[a("v-select",{attrs:{items:t.finalSurvey,label:"select survey","item-value":"_id","item-text":"surveyname",solo:""},model:{value:t.searchsurvey,callback:function(e){t.searchsurvey=e},expression:"searchsurvey"}})],1):t._e(),t._v(" "),t.question.length>0?a("div",{staticClass:"margin_top"},[a("v-select",{attrs:{items:t.question,label:"select question","item-value":"_id","item-text":"questiontext",solo:""},model:{value:t.searchquestion,callback:function(e){t.searchquestion=e},expression:"searchquestion"}})],1):t._e(),t._v(" "),null!==t.selectedAnswer?a("div",{staticClass:"margin_top"},[a("h5",[t._v("Question type : "),a("span",[t._v(" "+t._s(t.selectedAnswer)+" ")])])]):t._e(),t._v(" "),a("div",{staticClass:"margin_top",staticStyle:{float:"right"}},[a("v-btn",{on:{click:t.addquestion}},[t._v("Add Question")])],1)])],1):t._e(),t._v(" "),a("div",{attrs:{else:""}},[a("v-container",[a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[a("v-card",{attrs:{color:"primary",dark:""}},[a("v-card-text",[t._v("\n            hold on Please...\n            "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)],1)],1)])},staticRenderFns:[]};var Yl=a("VU/8")(zl,Ol,!1,function(t){a("iHx2")},"data-v-6c9d859b",null).exports,Fl=a("//Fk"),Ul=a.n(Fl);s.a.use(i.a);var Ql=new i.a.Store({state:{contacts:[],token:localStorage.getItem("token")||"",status:"",user:{}},mutations:{authSuccess:function(t,e){t.token=e,t.status="success"},authError:function(t){t.token="",t.status="error"},authLogout:function(t){t.token=""},setContacts:function(t,e){t.contacts=e},setUsername:function(t,e){t.user.name=e}},actions:{fetchContacts:function(t){axios.get("/contact").then(function(e){t.commit("setContacts",e.data.data)})},login:function(t,e){return new Ul.a(function(a,s){axios.post("/login",e).then(function(e){var s=e.data.token;console.log(s);var i=e.data.name;e.data.userrole;axios.post("/getrolebyid",{roleid:e.data.userrole}).then(function(n){var o=4;null!=n.data&&n.data.roleid&&(o=n.data.roleid),t.commit("authSuccess",s),t.commit("setUsername",i),localStorage.setItem("token",s),window.userid=e.data.id,localStorage.setItem("loginuser",e.data.id),localStorage.setItem("username",i),localStorage.setItem("userrole",o),localStorage.setItem("userroledata",n.data),localStorage.setItem("sessiontimeout",Date.now()),axios.defaults.headers.common.Authorization="Bearer "+s,axios.defaults.headers.common.loginuser=e.data._id,console.log("succress from store"),a(e)})}).catch(function(e){localStorage.removeItem("token"),t.commit("authError"),console.log(e),s(e)})})},gpexlogin:function(t,e){return new Ul.a(function(a,s){console.log("payload-",e),axios.post("/gpexlogin",e).then(function(e){var s=e.data.token;console.log(s);var i=e.data.name;e.data.userrole;axios.post("/getrolebyid",{roleid:e.data.userrole}).then(function(n){var o=4;null!=n.data&&n.data.roleid&&(o=n.data.roleid),t.commit("authSuccess",s),t.commit("setUsername",i),window.userid=e.data.id,localStorage.setItem("token",s),localStorage.setItem("loginuser",e.data.id),localStorage.setItem("username",i),localStorage.setItem("userrole",o),localStorage.setItem("userroledata",n.data),localStorage.setItem("sessiontimeout",Date.now()),axios.defaults.headers.common.Authorization="Bearer "+s,axios.defaults.headers.common.loginuser=e.data._id,a(e)})}).catch(function(e){localStorage.removeItem("token"),t.commit("authError"),console.log(e),s(e)})})},validateshare:function(t,e){return new Ul.a(function(a,s){console.log("payload-",e),console.log("context-",t),axios.post("/validateshareuser",e).then(function(t){a(t.data)}).catch(function(t){s(t)})})},logout:function(t){return new Ul.a(function(e,a){t.commit("authLogout"),localStorage.clear(),localStorage.removeItem("token"),localStorage.removeItem("username"),localStorage.removeItem("userrole"),localStorage.removeItem("userrole"),localStorage.removeItem("userroledata"),delete axios.defaults.headers.common.Authorization,e()})}},getters:{isAuthenticated:function(t){return!!t.token},authStatus:function(t){return t.status},menus:function(t,e){return e.isAuthenticated?[{name:"Logout",route:"Logout"}]:[{name:"Signup",route:"Signup"},{name:"Login",route:"Login"},{name:"Form1",route:"form1"},{name:"form",route:"form"},{name:"gpexlogin",route:"gpexlogin"},{name:"surveyattemptwtlogin",route:"surveyattemptwtlogin"}]}}});s.a.use(h.a);var $l=new h.a({mode:"history",routes:[{path:"/addsemester",name:"addsemester",component:Sl},{path:"/",name:"Dashboard",component:st},{path:"/gallery",name:"imagelibrary",component:Zs},{path:"/signup",name:"Signup",component:g},{path:"/form",name:"form",component:w},{path:"/login",name:"Login",component:I},{path:"/logout",name:"Logout",component:ot},{path:"/gpexlogin",name:"gpexlogin",component:ct},{path:"/sharedlinks",name:"sharedlinks",component:lt},{path:"/addproject",name:"addproject",component:mt},{path:"/createsurvey",name:"createsurvey",component:xt},{path:"/addgroup",name:"addgroup",component:Nt},{path:"/builder/:id",name:"Builder",component:ei},{path:"/surveyresponse/:id",name:"SurveyResponse",component:$o},{path:"/surveyresponse1/:id",name:"SurveyResponse1",component:Wo},{path:"/swl/:id",name:"SurveyResponsewithlogin",component:Xo},{path:"/swtl/:id",name:"surveyattemptwtlogin",component:er},{path:"/responsereport/:id",name:"Response Report",component:Yi},{path:"/filterreport/:id",name:"FilterReport",component:Ji},{path:"/responselist/:id",name:"responselist",component:lr},{path:"/approveresponse/:id",name:"approveresponse",component:fr},{path:"/responsedetails/:id",name:"responsedetails",component:Sc},{path:"/allanswers/:id",name:"allanswers",component:Kc},{path:"/surveythankyou/:id",name:"surveythankyou",component:ir},{path:"/projectlist",name:"projectlist",component:ad},{path:"/createuser",name:"createuser",component:xd},{path:"/editproject/:id",name:"editproject",component:nd},{path:"/edituser/:id",name:"edituser",component:md},{path:"/editgroup/:id",name:"editgroup",component:Md},{path:"/userlist",name:"userlist",component:ld},{path:"/contactlist",name:"contactlist",component:Xd},{path:"/contactdetails/:id",name:"contactdetails",component:il},{path:"/mailformat",name:"mailformat",component:dl},{path:"/sentmailreport",name:"sentmailreport",component:fl},{path:"/maildetails/:id",name:"maildetails",component:_l},{path:"/surveyshareddetails/:id",name:"surveyshareddetails",component:ql},{path:"/surveyprint/:id",name:"surveyprint",component:Dl},{path:"/userlog",name:"userlog",component:Ki},{path:"/setting",name:"setting",component:kl},{path:"/editresponsedetails/:id",name:"editresponsedetails",component:Uc},{path:"/dateQuestionSubmit",name:"dateQuestionSubmit",component:Yl}]}),Zl=["Login","Signup","gpexlogin","sharedlinks","surveyattemptwtlogin","SurveyResponse","surveythankyou","SurveyResponse1"];$l.beforeEach(function(t,e,a){var s="/outsidelogin/"+window.btoa(t.fullPath),i=window.gpexone+s;if(Zl.includes(t.name))a();else if(Ql.getters.isAuthenticated){var n=localStorage.getItem("sessiontimeout");n?(n<Date.now()-144e5&&(localStorage.clear(),location.href=i),localStorage.setItem("sessiontimeout",Date.now())):(localStorage.clear(),location.href=i),a()}else location.href=i});var Rl=$l,Pl=a("3EgV"),Gl=a.n(Pl),Jl=a("WfKt"),Wl=(a("7zck"),a("7SKw")),Hl=a("+4za"),Bl=a.n(Hl),Vl=(a("WC7W"),a("aS2V"),a("oHEs"),a("ZZvs")),Xl=a.n(Vl);a("SYh3");window._=a("M4fF"),s.a.use(Xl.a),s.a.component("tinymce",Wl.a),a("7zck"),a("oPmM"),a("CuRo"),window.Bus=new s.a,window.axios=o.a,window.token=localStorage.getItem("token"),window.user=localStorage.getItem("user");window.publicfileurl="https://surveydev.gpex.org.au/public?file=",window.siteurl="https://surveydev.gpex.org.au/",o.a.defaults.baseURL="https://surveydev.gpex.org.au/api",window.gpexone="https://onedev3.gpex.com.au",o.a.defaults.headers.common.Authorization="Bearer "+window.token,o.a.defaults.headers.common["x-access-token"]=window.token,o.a.defaults.headers.post["Content-Type"]="application/json",o.a.defaults.headers.post.loginuser=localStorage.getItem("loginuser"),s.a.use(Gl.a),s.a.use(Bl.a),s.a.use(Jl.a,{colors:["#A7226E","#EC2049","#F26B38","#F7DB4F","#2F9599","#E1F5C4","#EDE574","#  F9D423","#FC913A","#FF4E50"]}),s.a.use(i.a),s.a.use(Ce,{load:{key:"AIzaSyBTO7xNJJcjMdwG28tVRZtAY2mLSo8cZXs",libraries:"places"},installComponents:!0}),s.a.config.productionTip=!1,new s.a({el:"#app",router:Rl,store:Ql,components:{App:v},template:"<App/>"})},Nfnq:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyBhcmlhLWhpZGRlbj0idHJ1ZSIgZm9jdXNhYmxlPSJmYWxzZSIgZGF0YS1wcmVmaXg9ImZhbCIgZGF0YS1pY29uPSJjaGV2cm9uLXNxdWFyZS1kb3duIiBjbGFzcz0ic3ZnLWlubGluZS0tZmEgZmEtY2hldnJvbi1zcXVhcmUtZG93biBmYS13LTE0IiByb2xlPSJpbWciIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDQ0OCA1MTIiPjxwYXRoIGZpbGw9IiNmZmZmZmYiIGQ9Ik00MDAgMzJINDhDMjEuNSAzMiAwIDUzLjUgMCA4MHYzNTJjMCAyNi41IDIxLjUgNDggNDggNDhoMzUyYzI2LjUgMCA0OC0yMS41IDQ4LTQ4VjgwYzAtMjYuNS0yMS41LTQ4LTQ4LTQ4em0xNiA0MDBjMCA4LjgtNy4yIDE2LTE2IDE2SDQ4Yy04LjggMC0xNi03LjItMTYtMTZWODBjMC04LjggNy4yLTE2IDE2LTE2aDM1MmM4LjggMCAxNiA3LjIgMTYgMTZ2MzUyem0tMjAwLjUtOTYuNGwtMTE1LTExNS4xYy00LjctNC43LTQuNy0xMi4zIDAtMTdsNy4xLTcuMWM0LjctNC43IDEyLjMtNC43IDE3IDBMMjI0IDI5Nmw5OS41LTk5LjVjNC43LTQuNyAxMi4zLTQuNyAxNyAwbDcuMSA3LjFjNC43IDQuNyA0LjcgMTIuMyAwIDE3bC0xMTUgMTE1LjFjLTQuOCA0LjUtMTIuNCA0LjUtMTcuMS0uMXoiPjwvcGF0aD48L3N2Zz4="},O5q5:function(t,e){},PSR7:function(t,e){},PfNI:function(t,e){},PgvK:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyBhcmlhLWhpZGRlbj0idHJ1ZSIgZm9jdXNhYmxlPSJmYWxzZSIgZGF0YS1wcmVmaXg9ImZhbCIgZGF0YS1pY29uPSJsaXN0LW9sIiBjbGFzcz0ic3ZnLWlubGluZS0tZmEgZmEtbGlzdC1vbCBmYS13LTE2IiByb2xlPSJpbWciIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDUxMiA1MTIiPjxwYXRoIGZpbGw9IiNmZmZmZmYiIGQ9Ik01LjQ5NSAxNDIuOTkzYzAtNi40NDQgMy40MDEtOS44NDcgOS44NDctOS44NDdoMTcuMzY1Vjc5Ljc5OGMwLTQuODM0LjE3OS05Ljg0Ny4xNzktOS44NDdoLS4zNTlzLTEuNzkgMy45MzktMy45MzggNS43MjlsLTEuNjExIDEuNDMyYy00LjY1NSA0LjI5OC05LjQ4OSA0LjExNy0xMy43ODYtLjUzN2wtNC42NTQtNS4wMTNjLTQuNDc1LTQuNjU0LTQuMjk3LTkuNDg2LjM1OC0xMy45NjJsMjIuMi0yMC43NjdDMzQuODU0IDMzLjQzMiAzOC4yNTYgMzIgNDMuMjY4IDMyaDEwLjIwNWM2LjQ0NCAwIDkuODQ2IDMuNCA5Ljg0NiA5Ljg0NnY5MS4zMDFoMTcuNTQ0YzYuNDQ0IDAgOS44NDcgMy40MDIgOS44NDcgOS44NDd2Ny4xNjJjMCA2LjQ0My0zLjQwMiA5Ljg0Ni05Ljg0NyA5Ljg0NkgxNS4zNDFjLTYuNDQ1IDAtOS44NDctMy40MDItOS44NDctOS44NDZ2LTcuMTYzem0tMS43NzYgMTYzLjQ1YzAtNDYuNDgyIDU0LjQwNS01NC43NTcgNTQuNDA1LTcyLjg5MSAwLTguODAzLTcuMDQ0LTEyLjUwMS0xMy41NTgtMTIuNTAxLTUuNjM0IDAtMTAuMzg3IDIuOTkzLTEzLjM4MSA2LjE2My00LjQwMiA0LjIyNS04Ljk4IDUuOTg2LTEzLjczMyAyLjExMmwtNi44NjYtNS40NThjLTQuOTMtMy44NzQtNi4xNjMtOC4yNzUtMi40NjUtMTMuMDI5QzE0LjI4NCAyMDIuNzQgMjYuNDMyIDE5MiA0Ny4zODQgMTkyYzIwLjU5OSAwIDQyLjk2IDExLjc5NiA0Mi45NiAzOC41NTkgMCAzOS4yNjMtNTAuODgzIDQ2LjgzNC01Mi40NjcgNjMuMDMxaDQ0LjcyYzYuMzM5IDAgOS42ODQgMy4zNDYgOS42ODQgOS42ODR2Ny4wNDRjMCA2LjMzNy0zLjM0NSA5LjY4My05LjY4NCA5LjY4M0gxNC4xMDhjLTUuOTg2IDAtMTAuMzg4LTMuMzQ2LTEwLjM4OC05LjY4M3YtMy44NzV6bTIuODc1IDE0OS40MzZsNC43NTQtNy43NDdjMy4zNDUtNS40NTcgNy43NDYtNS44MSAxMy4yMDQtMi40NjQgNC43NTQgMi42NCAxMC45MTcgNS4yODEgMTcuOTU5IDUuMjgxIDExLjQ0NSAwIDE3Ljk1OS01LjYzNCAxNy45NTktMTIuNTAxIDAtOS44NTktOS44Ni0xMy45MDktMjMuNDE3LTEzLjkwOWgtLjcwNGMtNS42MzQgMC04LjQ1MS0xLjc2MS0xMC45MTYtNi42OTFsLS44ODEtMS43NjFjLTIuMTEyLTQuMDQ5LTEuMjMzLTguNDUxIDIuMjg5LTEyLjVsMTEuNDQ1LTEzLjkxYzUuOTg2LTcuMjE5IDEwLjkxNy0xMS43OTcgMTAuOTE3LTExLjc5N3YtLjM1MnMtNC4wNDkuODgtMTEuOTczLjg4SDE2LjgwNWMtNi4zMzggMC05LjY4My0zLjM0NC05LjY4My05LjY4M3YtNy4wNDNjMC02LjMzOSAzLjM0NS05LjY4MyA5LjY4My05LjY4M2g2MC4wMzljNi4zMzggMCA5LjY4NCAzLjM0NCA5LjY4NCA5LjUwN3YyLjgxN2MwIDQuOTMtMS4yMzMgOC4yNzYtNC40MDIgMTEuOTczbC0yMS4xMjggMjQuMjk4YzE4LjY2MyA0LjA0OSAzMC40NTkgMTguODM4IDMwLjQ1OSAzNi40NDVDOTEuNDU4IDQ1OC41MiA3Ni4zMTYgNDgwIDQ0LjggNDgwYy0xNy4wNzggMC0yOS4wNTEtNS45ODYtMzYuMDk0LTEwLjczOS00LjkzLTMuNTIyLTUuMjgxLTguMjc2LTIuMTEyLTEzLjM4MnpNNTEyIDEwOFY4NGE2IDYgMCAwIDAtNi02SDEzNGE2IDYgMCAwIDAtNiA2djI0YTYgNiAwIDAgMCA2IDZoMzcyYTYgNiAwIDAgMCA2LTZ6bTAgMTYwdi0yNGE2IDYgMCAwIDAtNi02SDEzNGE2IDYgMCAwIDAtNiA2djI0YTYgNiAwIDAgMCA2IDZoMzcyYTYgNiAwIDAgMCA2LTZ6bTAgMTYwdi0yNGE2IDYgMCAwIDAtNi02SDEzNGE2IDYgMCAwIDAtNiA2djI0YTYgNiAwIDAgMCA2IDZoMzcyYTYgNiAwIDAgMCA2LTZ6Ij48L3BhdGg+PC9zdmc+"},"Q/aQ":function(t,e){},QwZH:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyBhcmlhLWhpZGRlbj0idHJ1ZSIgZm9jdXNhYmxlPSJmYWxzZSIgZGF0YS1wcmVmaXg9ImZhcyIgZGF0YS1pY29uPSJzdGFyLWhhbGYtYWx0IiBjbGFzcz0ic3ZnLWlubGluZS0tZmEgZmEtc3Rhci1oYWxmLWFsdCBmYS13LTE3IiByb2xlPSJpbWciIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDUzNiA1MTIiPjxwYXRoIGZpbGw9IiNmZmZmZmYiIGQ9Ik01MDguNTUgMTcxLjUxTDM2Mi4xOCAxNTAuMiAyOTYuNzcgMTcuODFDMjkwLjg5IDUuOTggMjc5LjQyIDAgMjY3Ljk1IDBjLTExLjQgMC0yMi43OSA1LjktMjguNjkgMTcuODFsLTY1LjQzIDEzMi4zOC0xNDYuMzggMjEuMjljLTI2LjI1IDMuOC0zNi43NyAzNi4wOS0xNy43NCA1NC41OWwxMDUuODkgMTAzLTI1LjA2IDE0NS40OEM4Ni45OCA0OTUuMzMgMTAzLjU3IDUxMiAxMjIuMTUgNTEyYzQuOTMgMCAxMC0xLjE3IDE0Ljg3LTMuNzVsMTMwLjk1LTY4LjY4IDEzMC45NCA2OC43YzQuODYgMi41NSA5LjkyIDMuNzEgMTQuODMgMy43MSAxOC42IDAgMzUuMjItMTYuNjEgMzEuNjYtMzcuNGwtMjUuMDMtMTQ1LjQ5IDEwNS45MS0xMDIuOThjMTkuMDQtMTguNSA4LjUyLTUwLjgtMTcuNzMtNTQuNnptLTEyMS43NCAxMjMuMmwtMTguMTIgMTcuNjIgNC4yOCAyNC44OCAxOS41MiAxMTMuNDUtMTAyLjEzLTUzLjU5LTIyLjM4LTExLjc0LjAzLTMxNy4xOSA1MS4wMyAxMDMuMjkgMTEuMTggMjIuNjMgMjUuMDEgMy42NCAxMTQuMjMgMTYuNjMtODIuNjUgODAuMzh6Ij48L3BhdGg+PC9zdmc+"},R1Kz:function(t,e){},RY2R:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyBhcmlhLWhpZGRlbj0idHJ1ZSIgZm9jdXNhYmxlPSJmYWxzZSIgZGF0YS1wcmVmaXg9ImZhbCIgZGF0YS1pY29uPSJwbGF5LWNpcmNsZSIgY2xhc3M9InN2Zy1pbmxpbmUtLWZhIGZhLXBsYXktY2lyY2xlIGZhLXctMTYiIHJvbGU9ImltZyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgNTEyIDUxMiI+PHBhdGggZmlsbD0iI2ZmZmZmZiIgZD0iTTI1NiA1MDRjMTM3IDAgMjQ4LTExMSAyNDgtMjQ4UzM5MyA4IDI1NiA4IDggMTE5IDggMjU2czExMSAyNDggMjQ4IDI0OHpNNDAgMjU2YzAtMTE4LjcgOTYuMS0yMTYgMjE2LTIxNiAxMTguNyAwIDIxNiA5Ni4xIDIxNiAyMTYgMCAxMTguNy05Ni4xIDIxNi0yMTYgMjE2LTExOC43IDAtMjE2LTk2LjEtMjE2LTIxNnptMzMxLjctMThsLTE3Ni0xMDdjLTE1LjgtOC44LTM1LjcgMi41LTM1LjcgMjF2MjA4YzAgMTguNCAxOS44IDI5LjggMzUuNyAyMWwxNzYtMTAxYzE2LjQtOS4xIDE2LjQtMzIuOCAwLTQyek0xOTIgMzM1LjhWMTc2LjljMC00LjcgNS4xLTcuNiA5LjEtNS4xbDEzNC41IDgxLjdjMy45IDIuNCAzLjggOC4xLS4xIDEwLjNMMjAxIDM0MWMtNCAyLjMtOS0uNi05LTUuMnoiPjwvcGF0aD48L3N2Zz4="},S1yJ:function(t,e){},S6U5:function(t,e){},SYh3:function(t,e){},T5eZ:function(t,e,a){"use strict";var s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("label",[e("span",{domProps:{textContent:this._s(this.label)}}),this._v(" "),e("input",{ref:"input",class:this.className,attrs:{type:"text",placeholder:this.placeholder}})])},staticRenderFns:[]};e.a=s},"Tf+Z":function(t,e){},TztM:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48cGF0aCBmaWxsPSJ3aGl0ZSIgZD0iTTAgMTI4di04YzAtNi42IDUuNC0xMiAxMi0xMmgxMDUuOGMzLjMgMCA2LjUgMS40IDguOCAzLjlsODkuNyA5Ny0yMS44IDIzLjZMMTA5IDE0MEgxMmMtNi42IDAtMTItNS40LTEyLTEyem01MDIuNiAyNzguNmwtNjQgNjRjLTIwLjEgMjAuMS01NC42IDUuOC01NC42LTIyLjZ2LTQ0aC0yNS43Yy0zLjMgMC02LjUtMS40LTguOC0zLjlsLTg5LjctOTcgMjEuOC0yMy42TDM2NyAzNzJoMTd2LTUyYzAtMjguNSAzNC41LTQyLjcgNTQuNi0yMi42bDY0IDY0YzEyLjUgMTIuNSAxMi41IDMyLjcgMCA0NS4yem0tMTkuOC0yNS40bC02NC02NGMtMi41LTIuNS02LjgtLjctNi44IDIuOHYxMjhjMCAzLjYgNC4zIDUuNCA2LjggMi44bDY0LTY0YzEuNi0xLjUgMS42LTQuMSAwLTUuNnptMTkuOC0yMzAuNmwtNjQgNjRjLTIwLjEgMjAuMS01NC42IDUuOC01NC42LTIyLjZ2LTUyaC0xN0wxMjYuNiA0MDAuMWMtMi4zIDIuNS01LjUgMy45LTguOCAzLjlIMTJjLTYuNiAwLTEyLTUuNC0xMi0xMnYtOGMwLTYuNiA1LjQtMTIgMTItMTJoOTdsMjQwLjQtMjYwLjFjMi4zLTIuNSA1LjUtMy45IDguOC0zLjlIMzg0VjY0YzAtMjguNSAzNC41LTQyLjcgNTQuNi0yMi42bDY0IDY0YzEyLjUgMTIuNSAxMi41IDMyLjcgMCA0NS4yem0tMTkuOC0yNS40bC02NC02NGMtMi41LTIuNS02LjgtLjctNi44IDIuOHYxMjhjMCAzLjYgNC4zIDUuNCA2LjggMi44bDY0LTY0YzEuNi0xLjUgMS42LTQuMSAwLTUuNnoiLz48L3N2Zz4KPCEtLQpGb250IEF3ZXNvbWUgUHJvIDUuNC4xIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tCkxpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlIChDb21tZXJjaWFsIExpY2Vuc2UpCi0tPg=="},U4NH:function(t,e){},USt7:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyBhcmlhLWhpZGRlbj0idHJ1ZSIgZm9jdXNhYmxlPSJmYWxzZSIgZGF0YS1wcmVmaXg9ImZhbCIgZGF0YS1pY29uPSJib3gtY2hlY2siIGNsYXNzPSJzdmctaW5saW5lLS1mYSBmYS1ib3gtY2hlY2sgZmEtdy0yMCIgcm9sZT0iaW1nIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48cGF0aCBmaWxsPSIjZmZmZmZmIiBkPSJNNDkyLjUgMTMzLjRMNDU4LjkgMzIuOEM0NTIuNCAxMy4yIDQzNC4xIDAgNDEzLjQgMEg5OC42Yy0yMC43IDAtMzkgMTMuMi00NS41IDMyLjhMMi41IDE4NC42Yy0xLjYgNC45LTIuNSAxMC0yLjUgMTUuMlY0NjRjMCAyNi41IDIxLjUgNDggNDggNDhoNDAwYzEwNiAwIDE5Mi04NiAxOTItMTkyIDAtOTAuNy02My0xNjYuNS0xNDcuNS0xODYuNnpNMjcyIDMyaDE0MS40YzYuOSAwIDEzIDQuNCAxNS4yIDEwLjlsMjguNSA4NS41Yy0zLS4xLTYtLjUtOS4xLS41LTU2LjggMC0xMDcuNyAyNC44LTE0Mi44IDY0SDI3MlYzMnpNODMuNCA0Mi45Qzg1LjYgMzYuNCA5MS43IDMyIDk4LjYgMzJIMjQwdjE2MEgzMy43TDgzLjQgNDIuOXpNNDggNDgwYy04LjggMC0xNi03LjItMTYtMTZWMjI0aDI0OS45Yy0xNi40IDI4LjMtMjUuOSA2MS0yNS45IDk2IDAgNjYuOCAzNC4yIDEyNS42IDg2IDE2MEg0OHptNDAwIDBjLTg4LjIgMC0xNjAtNzEuOC0xNjAtMTYwczcxLjgtMTYwIDE2MC0xNjAgMTYwIDcxLjggMTYwIDE2MC03MS44IDE2MC0xNjAgMTYwem02NC42LTIyMS43Yy0zLjEtMy4xLTguMS0zLjEtMTEuMiAwbC02OS45IDY5LjMtMzAuMy0zMC42Yy0zLjEtMy4xLTguMS0zLjEtMTEuMiAwbC0xOC43IDE4LjZjLTMuMSAzLjEtMy4xIDguMSAwIDExLjJsNTQuNCA1NC45YzMuMSAzLjEgOC4xIDMuMSAxMS4yIDBsOTQuMi05My41YzMuMS0zLjEgMy4xLTguMSAwLTExLjJsLTE4LjUtMTguN3oiPjwvcGF0aD48L3N2Zz4="},UcUk:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyBhcmlhLWhpZGRlbj0idHJ1ZSIgZm9jdXNhYmxlPSJmYWxzZSIgZGF0YS1wcmVmaXg9ImZhbCIgZGF0YS1pY29uPSJsYXllci1wbHVzIiBjbGFzcz0ic3ZnLWlubGluZS0tZmEgZmEtbGF5ZXItcGx1cyBmYS13LTE2IiByb2xlPSJpbWciIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDUxMiA1MTIiPjxwYXRoIGZpbGw9IiNmZmZmZmYiIGQ9Ik01MDQgOTZoLTg4VjhjMC00LjQyLTMuNTgtOC04LThoLTE2Yy00LjQyIDAtOCAzLjU4LTggOHY4OGgtODhjLTQuNDIgMC04IDMuNTgtOCA4djE2YzAgNC40MiAzLjU4IDggOCA4aDg4djg4YzAgNC40MiAzLjU4IDggOCA4aDE2YzQuNDIgMCA4LTMuNTggOC04di04OGg4OGM0LjQyIDAgOC0zLjU4IDgtOHYtMTZjMC00LjQyLTMuNTgtOC04LTh6bS02Ljc3IDI3MC43MWwtOTkuNzItNDIuODcgOTkuNzItNDIuODdjOC4zNS0zLjYgMTIuMTktMTMuMjMgOC41OC0yMS41Mi0zLjY1LTguMjktMTMuMzItMTIuMTMtMjEuNzQtOC40OGwtMjI1LjMyIDk2Ljg2Yy0xLjgxLjc3LTMuNzQuNzctNS40OCAwTDQ1LjIzIDI1OC40bDE5My40NS04My4xNmM4LjM1LTMuNTkgMTIuMTktMTMuMjMgOC41OC0yMS41Mi0zLjY1LTguMjgtMTMuMjYtMTIuMTMtMjEuNzQtOC40OEwxNC44MSAyMzUuODFDNS44MSAyMzkuNjYgMCAyNDguNTIgMCAyNTguNGMwIDkuODcgNS44MSAxOC43NCAxNC43NyAyMi41OGw5OS43MyA0Mi44Ny05OS43IDQyLjg1QzUuODEgMzcwLjU1IDAgMzc5LjQyIDAgMzg5LjMxYzAgOS44NyA1LjgxIDE4Ljc0IDE0Ljc3IDIyLjU4bDIyNS4zMiA5Ni44NGM1LjA2IDIuMTcgMTAuNDggMy4yOCAxNS45IDMuMjhzMTAuODQtMS4wOSAxNS45LTMuMjhsMjI1LjI5LTk2LjgzYzktMy44NSAxNC44MS0xMi43MiAxNC44MS0yMi41OS4wMS05Ljg5LTUuOC0xOC43Ni0xNC43Ni0yMi42ek0yNTguNzQgNDc4LjcyYy0xLjgxLjc3LTMuNzQuNzctNS40OCAwTDQ1LjIzIDM4OS4yOSAxNTYgMzQxLjY4bDg0LjEgMzYuMTVjNS4wNiAyLjE3IDEwLjQ4IDMuMjggMTUuOSAzLjI4czEwLjg0LTEuMDkgMTUuOS0zLjI4bDg0LjEyLTM2LjE2IDExMC43OCA0Ny42Mi0yMDguMDYgODkuNDN6Ij48L3BhdGg+PC9zdmc+"},"V0B/":function(t,e){},VIer:function(t,e,a){t.exports=a.p+"static/img/brand_gpex_logo.6a34cf4.png"},Vhee:function(t,e){},Vwb1:function(t,e){},WC7W:function(t,e){},WMqo:function(t,e){},WhoW:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyBhcmlhLWhpZGRlbj0idHJ1ZSIgZm9jdXNhYmxlPSJmYWxzZSIgZGF0YS1wcmVmaXg9ImZhbCIgZGF0YS1pY29uPSJwcmVzZW50YXRpb24iIGNsYXNzPSJzdmctaW5saW5lLS1mYSBmYS1wcmVzZW50YXRpb24gZmEtdy0xOCIgcm9sZT0iaW1nIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48cGF0aCBmaWxsPSIjZmZmZmZmIiBkPSJNNTY4IDBIOEMzLjU4IDAgMCAzLjU5IDAgOC4wMnYxNi4wNGMwIDQuNDMgMy41OCA4LjAyIDggOC4wMmgyNHYyODcuNzhjMCAxNy42OSAxNC4zNCAzMi4wOSAzMiAzMi4wOWgyMDh2NDkuMTNsLTg1LjY2IDg1Ljg5Yy0zLjEyIDMuMTMtMy4xMiA4LjIxIDAgMTEuMzRsMTEuMzEgMTEuMzRhNy45ODUgNy45ODUgMCAwIDAgMTEuMzEgMEwyODggNDMwLjQxbDc5LjAzIDc5LjI0YTcuOTg1IDcuOTg1IDAgMCAwIDExLjMxIDBsMTEuMzEtMTEuMzRjMy4xMi0zLjEzIDMuMTItOC4yMSAwLTExLjM0TDMwNCA0MDEuMDh2LTQ5LjEzaDIwOGMxNy42NiAwIDMyLTE0LjQgMzItMzIuMDlWMzIuMDloMjRjNC40MiAwIDgtMy41OSA4LTguMDJWOC4wMmMwLTQuNDMtMy41OC04LjAyLTgtOC4wMnptLTU2IDMyMEg2NFYzMmg0NDh2Mjg4eiI+PC9wYXRoPjwvc3ZnPg=="},WtGI:function(t,e){},XVJO:function(t,e){},XyA6:function(t,e){},YI6p:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("jIen"),i=a.n(s);for(var n in s)"default"!==n&&function(t){a.d(e,t,function(){return s[t]})}(n);var o=a("T5eZ"),r=a("VU/8")(i.a,o.a,!1,null,null,null);e.default=r.exports},YKYA:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyBhcmlhLWhpZGRlbj0idHJ1ZSIgZm9jdXNhYmxlPSJmYWxzZSIgZGF0YS1wcmVmaXg9ImZhciIgZGF0YS1pY29uPSJhcnJvdy1jaXJjbGUtcmlnaHQiIGNsYXNzPSJzdmctaW5saW5lLS1mYSBmYS1hcnJvdy1jaXJjbGUtcmlnaHQgZmEtdy0xNiIgcm9sZT0iaW1nIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48cGF0aCBmaWxsPSJ3aGl0ZSIgdHJhbnNmb3JtPSJyb3RhdGUoLTE3OS43MTQxODc2MjIwNzAzIDI1NS45OTk5OTk5OTk5OTk5NywyNTYuMDAwMDAwMDAwMDAwMDYpIiBkPSJNOCAyNTZjMCAxMzcgMTExIDI0OCAyNDggMjQ4czI0OC0xMTEgMjQ4LTI0OFMzOTMgOCAyNTYgOCA4IDExOSA4IDI1NnptNDQ4IDBjMCAxMTAuNS04OS41IDIwMC0yMDAgMjAwUzU2IDM2Ni41IDU2IDI1NiAxNDUuNSA1NiAyNTYgNTZzMjAwIDg5LjUgMjAwIDIwMHpNMjY2LjkgMTI2LjFsMTIxLjQgMTIxLjRjNC43IDQuNyA0LjcgMTIuMyAwIDE3TDI2Ni45IDM4NS45Yy00LjcgNC43LTEyLjMgNC43LTE3IDBsLTE5LjYtMTkuNmMtNC44LTQuOC00LjctMTIuNS4yLTE3LjJsNzAuMy02Ny4xSDE0MGMtNi42IDAtMTItNS40LTEyLTEydi0yOGMwLTYuNiA1LjQtMTIgMTItMTJoMTYwLjhsLTcwLjMtNjcuMWMtNC45LTQuNy01LTEyLjQtLjItMTcuMmwxOS42LTE5LjZjNC43LTQuNyAxMi4zLTQuNyAxNyAweiI+PC9wYXRoPjwvc3ZnPg=="},ZaMo:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyBhcmlhLWhpZGRlbj0idHJ1ZSIgZm9jdXNhYmxlPSJmYWxzZSIgZGF0YS1wcmVmaXg9ImZhbCIgZGF0YS1pY29uPSJzaGFyZS1hbHQiIGNsYXNzPSJzdmctaW5saW5lLS1mYSBmYS1zaGFyZS1hbHQgZmEtdy0xNCIgcm9sZT0iaW1nIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NDggNTEyIj48cGF0aCBmaWxsPSIjZmZmZmZmIiBkPSJNMzUyIDMyMGMtMjguNiAwLTU0LjIgMTIuNS03MS44IDMyLjNsLTk1LjUtNTkuN2M5LjYtMjMuNCA5LjctNDkuOCAwLTczLjJsOTUuNS01OS43YzE3LjYgMTkuOCA0My4yIDMyLjMgNzEuOCAzMi4zIDUzIDAgOTYtNDMgOTYtOTZTNDA1IDAgMzUyIDBzLTk2IDQzLTk2IDk2YzAgMTMgMi42IDI1LjMgNy4yIDM2LjZsLTk1LjUgNTkuN0MxNTAuMiAxNzIuNSAxMjQuNiAxNjAgOTYgMTYwYy01MyAwLTk2IDQzLTk2IDk2czQzIDk2IDk2IDk2YzI4LjYgMCA1NC4yLTEyLjUgNzEuOC0zMi4zbDk1LjUgNTkuN2MtNC43IDExLjMtNy4yIDIzLjYtNy4yIDM2LjYgMCA1MyA0MyA5NiA5NiA5NnM5Ni00MyA5Ni05NmMtLjEtNTMtNDMuMS05Ni05Ni4xLTk2em0wLTI4OGMzNS4zIDAgNjQgMjguNyA2NCA2NHMtMjguNyA2NC02NCA2NC02NC0yOC43LTY0LTY0IDI4LjctNjQgNjQtNjR6TTk2IDMyMGMtMzUuMyAwLTY0LTI4LjctNjQtNjRzMjguNy02NCA2NC02NCA2NCAyOC43IDY0IDY0LTI4LjcgNjQtNjQgNjR6bTI1NiAxNjBjLTM1LjMgMC02NC0yOC43LTY0LTY0czI4LjctNjQgNjQtNjQgNjQgMjguNyA2NCA2NC0yOC43IDY0LTY0IDY0eiI+PC9wYXRoPjwvc3ZnPg=="},aS2V:function(t,e){},agjP:function(t,e){},bLoI:function(t,e){},bgkc:function(t,e){},bo9h:function(t,e){t.exports={animateCSS:function(t,e,a){},ErrorInput:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error",a=document.querySelector(t);null!=a&&("error"==e?a.classList.add("inputerror"):"success"==e&&a.classList.remove("inputerror"))}}},c0CW:function(t,e){},c1Fp:function(t,e){},cPMI:function(t,e){},cvvC:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyBhcmlhLWhpZGRlbj0idHJ1ZSIgZm9jdXNhYmxlPSJmYWxzZSIgZGF0YS1wcmVmaXg9ImZhbCIgZGF0YS1pY29uPSJjbG91ZC11cGxvYWQiIGNsYXNzPSJzdmctaW5saW5lLS1mYSBmYS1jbG91ZC11cGxvYWQgZmEtdy0yMCIgcm9sZT0iaW1nIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48cGF0aCBmaWxsPSIjZmZmZmZmIiBkPSJNMzEyLjUgMTY4LjVjLTQuNy00LjctMTIuMy00LjctMTcgMGwtOTguMyA5OC4zYy00LjcgNC43LTQuNyAxMi4zIDAgMTdsNS43IDUuN2M0LjcgNC43IDEyLjMgNC43IDE3IDBsNjguMi02OC4yVjM3MmMwIDYuNiA1LjQgMTIgMTIgMTJoOGM2LjYgMCAxMi01LjQgMTItMTJWMjIxLjNsNjguMiA2OC4yYzQuNyA0LjcgMTIuMyA0LjcgMTcgMGw1LjctNS43YzQuNy00LjcgNC43LTEyLjMgMC0xN2wtOTguNS05OC4zem0yNTkuMiA3MC4zYzIuOC05LjkgNC4zLTIwLjIgNC4zLTMwLjggMC02MS45LTUwLjEtMTEyLTExMi0xMTItMTYuNyAwLTMyLjkgMy42LTQ4IDEwLjgtMzEuNi00NS04NC4zLTc0LjgtMTQ0LTc0LjgtOTQuNCAwLTE3MS43IDc0LjUtMTc1LjggMTY4LjJDMzkuMiAyMjAuMiAwIDI3NC4zIDAgMzM2YzAgNzkuNiA2NC40IDE0NCAxNDQgMTQ0aDM2OGM3MC43IDAgMTI4LTU3LjIgMTI4LTEyOCAwLTQ3LTI1LjgtOTAuOC02OC4zLTExMy4yek01MTIgNDQ4SDE0NGMtNjEuOSAwLTExMi01MC4xLTExMi0xMTIgMC01Ni44IDQyLjItMTAzLjcgOTctMTExLS43LTUuNi0xLTExLjMtMS0xNyAwLTc5LjUgNjQuNS0xNDQgMTQ0LTE0NCA2MC4zIDAgMTExLjkgMzcgMTMzLjQgODkuNkM0MjAgMTM3LjkgNDQwLjggMTI4IDQ2NCAxMjhjNDQuMiAwIDgwIDM1LjggODAgODAgMCAxOC41LTYuMyAzNS42LTE2LjkgNDkuMkM1NzMgMjY0LjQgNjA4IDMwNC4xIDYwOCAzNTJjMCA1My00MyA5Ni05NiA5NnoiPjwvcGF0aD48L3N2Zz4="},dbKl:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyBhcmlhLWhpZGRlbj0idHJ1ZSIgZm9jdXNhYmxlPSJmYWxzZSIgZGF0YS1wcmVmaXg9ImZhbCIgZGF0YS1pY29uPSJjYWxlbmRhci1kYXkiIGNsYXNzPSJzdmctaW5saW5lLS1mYSBmYS1jYWxlbmRhci1kYXkgZmEtdy0xNCIgcm9sZT0iaW1nIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NDggNTEyIj48cGF0aCBmaWxsPSIjZmZmZmZmIiBkPSJNNDAwIDY0aC00OFY4YzAtNC40LTMuNi04LTgtOGgtMTZjLTQuNCAwLTggMy42LTggOHY1NkgxMjhWOGMwLTQuNC0zLjYtOC04LThoLTE2Yy00LjQgMC04IDMuNi04IDh2NTZINDhDMjEuNSA2NCAwIDg1LjUgMCAxMTJ2MzUyYzAgMjYuNSAyMS41IDQ4IDQ4IDQ4aDM1MmMyNi41IDAgNDgtMjEuNSA0OC00OFYxMTJjMC0yNi41LTIxLjUtNDgtNDgtNDh6bTE2IDQwMGMwIDguOC03LjIgMTYtMTYgMTZINDhjLTguOCAwLTE2LTcuMi0xNi0xNlYxOTJoMzg0djI3MnptMC0zMDRIMzJ2LTQ4YzAtOC44IDcuMi0xNiAxNi0xNmgzNTJjOC44IDAgMTYgNy4yIDE2IDE2djQ4ek0xMTIgMzg0aDk2YzguOCAwIDE2LTcuMiAxNi0xNnYtOTZjMC04LjgtNy4yLTE2LTE2LTE2aC05NmMtOC44IDAtMTYgNy4yLTE2IDE2djk2YzAgOC44IDcuMiAxNiAxNiAxNnptMTYtOTZoNjR2NjRoLTY0di02NHoiPjwvcGF0aD48L3N2Zz4="},dibu:function(t,e){},dtWn:function(t,e){},dxKX:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyBhcmlhLWhpZGRlbj0idHJ1ZSIgZm9jdXNhYmxlPSJmYWxzZSIgZGF0YS1wcmVmaXg9ImZhbCIgZGF0YS1pY29uPSJhcmNoaXZlIiBjbGFzcz0ic3ZnLWlubGluZS0tZmEgZmEtYXJjaGl2ZSBmYS13LTE2IiByb2xlPSJpbWciIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDUxMiA1MTIiPjxwYXRoIGZpbGw9IiM1OTU5NTkiIGQ9Ik00NjQgMzJINDhDMjEuNSAzMiAwIDUzLjUgMCA4MHY2NGMwIDguOCA3LjIgMTYgMTYgMTZoMTZ2MjcyYzAgMjYuNSAyMS41IDQ4IDQ4IDQ4aDM1MmMyNi41IDAgNDgtMjEuNSA0OC00OFYxNjBoMTZjOC44IDAgMTYtNy4yIDE2LTE2VjgwYzAtMjYuNS0yMS41LTQ4LTQ4LTQ4em0tMTYgNDAwYzAgOC44LTcuMiAxNi0xNiAxNkg4MGMtOC44IDAtMTYtNy4yLTE2LTE2VjE2MGgzODR2Mjcyem0zMi0zMDRIMzJWODBjMC04LjggNy4yLTE2IDE2LTE2aDQxNmM4LjggMCAxNiA3LjIgMTYgMTZ2NDh6TTIwNCAyNTZoMTA0YzYuNiAwIDEyLTUuNCAxMi0xMnYtOGMwLTYuNi01LjQtMTItMTItMTJIMjA0Yy02LjYgMC0xMiA1LjQtMTIgMTJ2OGMwIDYuNiA1LjQgMTIgMTIgMTJ6Ij48L3BhdGg+PC9zdmc+"},fd4k:function(t,e){},flbg:function(t,e){},gwg8:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyBhcmlhLWhpZGRlbj0idHJ1ZSIgZm9jdXNhYmxlPSJmYWxzZSIgZGF0YS1wcmVmaXg9ImZhbCIgZGF0YS1pY29uPSJwcmVzZW50YXRpb24iIGNsYXNzPSJzdmctaW5saW5lLS1mYSBmYS1wcmVzZW50YXRpb24gZmEtdy0xOCIgcm9sZT0iaW1nIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48cGF0aCBmaWxsPSIjNTk1OTU5IiBkPSJNNTY4IDBIOEMzLjU4IDAgMCAzLjU5IDAgOC4wMnYxNi4wNGMwIDQuNDMgMy41OCA4LjAyIDggOC4wMmgyNHYyODcuNzhjMCAxNy42OSAxNC4zNCAzMi4wOSAzMiAzMi4wOWgyMDh2NDkuMTNsLTg1LjY2IDg1Ljg5Yy0zLjEyIDMuMTMtMy4xMiA4LjIxIDAgMTEuMzRsMTEuMzEgMTEuMzRhNy45ODUgNy45ODUgMCAwIDAgMTEuMzEgMEwyODggNDMwLjQxbDc5LjAzIDc5LjI0YTcuOTg1IDcuOTg1IDAgMCAwIDExLjMxIDBsMTEuMzEtMTEuMzRjMy4xMi0zLjEzIDMuMTItOC4yMSAwLTExLjM0TDMwNCA0MDEuMDh2LTQ5LjEzaDIwOGMxNy42NiAwIDMyLTE0LjQgMzItMzIuMDlWMzIuMDloMjRjNC40MiAwIDgtMy41OSA4LTguMDJWOC4wMmMwLTQuNDMtMy41OC04LjAyLTgtOC4wMnptLTU2IDMyMEg2NFYzMmg0NDh2Mjg4eiI+PC9wYXRoPjwvc3ZnPg=="},gyKi:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyBhcmlhLWhpZGRlbj0idHJ1ZSIgZm9jdXNhYmxlPSJmYWxzZSIgZGF0YS1wcmVmaXg9ImZhbCIgZGF0YS1pY29uPSJiYWxsb3QtY2hlY2siIGNsYXNzPSJzdmctaW5saW5lLS1mYSBmYS1iYWxsb3QtY2hlY2sgZmEtdy0xNCIgcm9sZT0iaW1nIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NDggNTEyIj48cGF0aCBmaWxsPSIjZmZmZmZmIiBkPSJNMTEyIDQzMmgzMmMxNy43IDAgMzItMTQuNCAzMi0zMnYtMzJjMC0xNy42LTE0LjMtMzItMzItMzJoLTMyYy0xNy43IDAtMzIgMTQuNC0zMiAzMnYzMmMwIDE3LjYgMTQuMyAzMiAzMiAzMnptMC02NGgzMnYzMmgtMzJ2LTMyem0wLTE5MmgzMmMxNy43IDAgMzItMTQuNCAzMi0zMnYtMzJjMC0xNy42LTE0LjMtMzItMzItMzJoLTMyYy0xNy43IDAtMzIgMTQuNC0zMiAzMnYzMmMwIDE3LjYgMTQuMyAzMiAzMiAzMnptMC02NGgzMnYzMmgtMzJ2LTMyek00MTYgMEgzMkMxNC4zIDAgMCAxNC40IDAgMzJ2NDQ4YzAgMTcuNiAxNC4zIDMyIDMyIDMyaDM4NGMxNy43IDAgMzItMTQuNCAzMi0zMlYzMmMwLTE3LjYtMTQuMy0zMi0zMi0zMnptMCA0ODBIMzJWMzJoMzg0djQ0OHpNMjE2IDE0NGgxMjhjNC40IDAgOC0zLjYgOC04di0xNmMwLTQuNC0zLjYtOC04LThIMjE2Yy00LjQgMC04IDMuNi04IDh2MTZjMCA0LjQgMy42IDggOCA4em0wIDEyOGgxMjhjNC40IDAgOC0zLjYgOC04di0xNmMwLTQuNC0zLjYtOC04LThIMjE2Yy00LjQgMC04IDMuNi04IDh2MTZjMCA0LjQgMy42IDggOCA4em0wIDEyOGgxMjhjNC40IDAgOC0zLjYgOC04di0xNmMwLTQuNC0zLjYtOC04LThIMjE2Yy00LjQgMC04IDMuNi04IDh2MTZjMCA0LjQgMy42IDggOCA4em0tOTcuNC0xMTMuNmMyLjEgMi4xIDUuNSAyLjEgNy42IDBsNjQuMi02My42YzIuMS0yLjEgMi4xLTUuNSAwLTcuNmwtMTIuNi0xMi43Yy0yLjEtMi4xLTUuNS0yLjEtNy42IDBsLTQ3LjYgNDcuMi0yMC42LTIwLjljLTIuMS0yLjEtNS41LTIuMS03LjYgMGwtMTIuNyAxMi42Yy0yLjEgMi4xLTIuMSA1LjUgMCA3LjZsMzYuOSAzNy40eiI+PC9wYXRoPjwvc3ZnPg=="},iHx2:function(t,e){},inb1:function(t,e){},jUSY:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyBhcmlhLWhpZGRlbj0idHJ1ZSIgZm9jdXNhYmxlPSJmYWxzZSIgZGF0YS1wcmVmaXg9ImZhbCIgZGF0YS1pY29uPSJzdG9wLWNpcmNsZSIgY2xhc3M9InN2Zy1pbmxpbmUtLWZhIGZhLXN0b3AtY2lyY2xlIGZhLXctMTYiIHJvbGU9ImltZyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgNTEyIDUxMiI+PHBhdGggZmlsbD0iI2ZmZmZmZiIgZD0iTTI1NiA1MDRjMTM3IDAgMjQ4LTExMSAyNDgtMjQ4UzM5MyA4IDI1NiA4IDggMTE5IDggMjU2czExMSAyNDggMjQ4IDI0OHpNNDAgMjU2YzAtMTE4LjcgOTYuMS0yMTYgMjE2LTIxNiAxMTguNyAwIDIxNiA5Ni4xIDIxNiAyMTYgMCAxMTguNy05Ni4xIDIxNi0yMTYgMjE2LTExOC43IDAtMjE2LTk2LjEtMjE2LTIxNnptMjk2LTk2SDE3NmMtOC44IDAtMTYgNy4yLTE2IDE2djE2MGMwIDguOCA3LjIgMTYgMTYgMTZoMTYwYzguOCAwIDE2LTcuMiAxNi0xNlYxNzZjMC04LjgtNy4yLTE2LTE2LTE2em0tMTYgMTYwSDE5MlYxOTJoMTI4djEyOHoiPjwvcGF0aD48L3N2Zz4="},"k+Wh":function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyBhcmlhLWhpZGRlbj0idHJ1ZSIgZm9jdXNhYmxlPSJmYWxzZSIgZGF0YS1wcmVmaXg9ImZhbCIgZGF0YS1pY29uPSJlZGl0IiBjbGFzcz0ic3ZnLWlubGluZS0tZmEgZmEtZWRpdCBmYS13LTE4IiByb2xlPSJpbWciIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDU3NiA1MTIiPjxwYXRoIGZpbGw9IiM1OWI2ZTYiIGQ9Ik00MTcuOCAzMTUuNWwyMC0yMGMzLjgtMy44IDEwLjItMS4xIDEwLjIgNC4yVjQ2NGMwIDI2LjUtMjEuNSA0OC00OCA0OEg0OGMtMjYuNSAwLTQ4LTIxLjUtNDgtNDhWMTEyYzAtMjYuNSAyMS41LTQ4IDQ4LTQ4aDI5Mi4zYzUuMyAwIDggNi41IDQuMiAxMC4ybC0yMCAyMGMtMS4xIDEuMS0yLjcgMS44LTQuMiAxLjhINDhjLTguOCAwLTE2IDcuMi0xNiAxNnYzNTJjMCA4LjggNy4yIDE2IDE2IDE2aDM1MmM4LjggMCAxNi03LjIgMTYtMTZWMzE5LjdjMC0xLjYuNi0zLjEgMS44LTQuMnptMTQ1LjktMTkxLjJMMjUxLjIgNDM2LjhsLTk5LjkgMTEuMWMtMTMuNCAxLjUtMjQuNy05LjgtMjMuMi0yMy4ybDExLjEtOTkuOUw0NTEuNyAxMi4zYzE2LjQtMTYuNCA0My0xNi40IDU5LjQgMGw1Mi42IDUyLjZjMTYuNCAxNi40IDE2LjQgNDMgMCA1OS40em0tOTMuNiA0OC40TDQwMy40IDEwNiAxNjkuOCAzMzkuNWwtOC4zIDc1LjEgNzUuMS04LjMgMjMzLjUtMjMzLjZ6bTcxLTg1LjJsLTUyLjYtNTIuNmMtMy44LTMuOC0xMC4yLTQtMTQuMSAwTDQyNiA4My4zbDY2LjcgNjYuNyA0OC40LTQ4LjRjMy45LTMuOCAzLjktMTAuMiAwLTE0LjF6Ij48L3BhdGg+PC9zdmc+"},lP2b:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyBhcmlhLWhpZGRlbj0idHJ1ZSIgZm9jdXNhYmxlPSJmYWxzZSIgZGF0YS1wcmVmaXg9ImZhbCIgZGF0YS1pY29uPSJmaWxlLWNoYXJ0LWxpbmUiIGNsYXNzPSJzdmctaW5saW5lLS1mYSBmYS1maWxlLWNoYXJ0LWxpbmUgZmEtdy0xMiIgcm9sZT0iaW1nIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzODQgNTEyIj48cGF0aCBmaWxsPSIjZmZmZmZmIiBkPSJNMTM2IDMyMGgtMTZjLTQuNCAwLTggMy42LTggOHY5NmMwIDQuNCAzLjYgOCA4IDhoMTZjNC40IDAgOC0zLjYgOC04di05NmMwLTQuNC0zLjYtOC04LTh6bTY0LTk2aC0xNmMtNC40IDAtOCAzLjYtOCA4djE5MmMwIDQuNCAzLjYgOCA4IDhoMTZjNC40IDAgOC0zLjYgOC04VjIzMmMwLTQuNC0zLjYtOC04LTh6bTQwIDcydjEyOGMwIDQuNCAzLjYgOCA4IDhoMTZjNC40IDAgOC0zLjYgOC04VjI5NmMwLTQuNC0zLjYtOC04LThoLTE2Yy00LjQgMC04IDMuNi04IDh6TTM2OS45IDk3Ljk4TDI4Ni4wMiAxNC4xYy05LTktMjEuMi0xNC4xLTMzLjg5LTE0LjFINDcuOTlDMjEuNS4xIDAgMjEuNiAwIDQ4LjA5djQxNS45MkMwIDQ5MC41IDIxLjUgNTEyIDQ3Ljk5IDUxMmgyODguMDJjMjYuNDkgMCA0Ny45OS0yMS41IDQ3Ljk5LTQ3Ljk5VjEzMS45N2MwLTEyLjY5LTUuMS0yNC45OS0xNC4xLTMzLjk5ek0yNTYuMDMgMzIuNTljMi44LjcgNS4zIDIuMSA3LjQgNC4ybDgzLjg4IDgzLjg4YzIuMSAyLjEgMy41IDQuNiA0LjIgNy40aC05NS40OFYzMi41OXptOTUuOTggNDMxLjQyYzAgOC44LTcuMiAxNi0xNiAxNkg0Ny45OWMtOC44IDAtMTYtNy4yLTE2LTE2VjQ4LjA5YzAtOC44IDcuMi0xNi4wOSAxNi0xNi4wOWgxNzYuMDR2MTA0LjA3YzAgMTMuMyAxMC43IDIzLjkzIDI0IDIzLjkzaDEwMy45OHYzMDQuMDF6Ij48L3BhdGg+PC9zdmc+"},mO2Y:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyBhcmlhLWhpZGRlbj0idHJ1ZSIgZm9jdXNhYmxlPSJmYWxzZSIgZGF0YS1wcmVmaXg9ImZhbCIgZGF0YS1pY29uPSJzaGFyZS1hbHQiIGNsYXNzPSJzdmctaW5saW5lLS1mYSBmYS1zaGFyZS1hbHQgZmEtdy0xNCIgcm9sZT0iaW1nIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NDggNTEyIj48cGF0aCBmaWxsPSIjNTk1OTU5IiBkPSJNMzUyIDMyMGMtMjguNiAwLTU0LjIgMTIuNS03MS44IDMyLjNsLTk1LjUtNTkuN2M5LjYtMjMuNCA5LjctNDkuOCAwLTczLjJsOTUuNS01OS43YzE3LjYgMTkuOCA0My4yIDMyLjMgNzEuOCAzMi4zIDUzIDAgOTYtNDMgOTYtOTZTNDA1IDAgMzUyIDBzLTk2IDQzLTk2IDk2YzAgMTMgMi42IDI1LjMgNy4yIDM2LjZsLTk1LjUgNTkuN0MxNTAuMiAxNzIuNSAxMjQuNiAxNjAgOTYgMTYwYy01MyAwLTk2IDQzLTk2IDk2czQzIDk2IDk2IDk2YzI4LjYgMCA1NC4yLTEyLjUgNzEuOC0zMi4zbDk1LjUgNTkuN2MtNC43IDExLjMtNy4yIDIzLjYtNy4yIDM2LjYgMCA1MyA0MyA5NiA5NiA5NnM5Ni00MyA5Ni05NmMtLjEtNTMtNDMuMS05Ni05Ni4xLTk2em0wLTI4OGMzNS4zIDAgNjQgMjguNyA2NCA2NHMtMjguNyA2NC02NCA2NC02NC0yOC43LTY0LTY0IDI4LjctNjQgNjQtNjR6TTk2IDMyMGMtMzUuMyAwLTY0LTI4LjctNjQtNjRzMjguNy02NCA2NC02NCA2NCAyOC43IDY0IDY0LTI4LjcgNjQtNjQgNjR6bTI1NiAxNjBjLTM1LjMgMC02NC0yOC43LTY0LTY0czI4LjctNjQgNjQtNjQgNjQgMjguNyA2NCA2NC0yOC43IDY0LTY0IDY0eiI+PC9wYXRoPjwvc3ZnPg=="},mquX:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyBhcmlhLWhpZGRlbj0idHJ1ZSIgZm9jdXNhYmxlPSJmYWxzZSIgZGF0YS1wcmVmaXg9ImZhbCIgZGF0YS1pY29uPSJoMiIgY2xhc3M9InN2Zy1pbmxpbmUtLWZhIGZhLWgyIGZhLXctMTkiIHJvbGU9ImltZyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgNjA4IDUxMiI+PHBhdGggZmlsbD0iI2ZmZmZmZiIgZD0iTTQzNS43ODQgMzg0LjI2NEg1ODhjNi42MjcgMCAxMiA1LjM3MyAxMiAxMlY0MDRjMCA2LjYyNy01LjM3MyAxMi0xMiAxMkg0MTAuMjA4Yy02LjE3NyAwLTExLjMzNy00LjY4Ny0xMS45NDUtMTAuODM0LS4zMzYtMy4zOTgtLjUyMy03LjAzOC0uNTIzLTExLjMgMC0xMTEuNjYzIDE2MS4xMjUtMTI2LjUzNyAxNjEuMTI1LTIwOS45MTEgMC0zNC40MDEtMjYuMDUxLTU4LjQyOC02My4zNTItNTguNDI4LTI1LjU4NCAwLTQ4LjgwOCAxNC45MDQtNjMuMjkxIDM0LjE5OC0zLjg2MSA1LjE0NC0xMS4wMTUgNi40Ni0xNi4zNTEgMi44NjlsLTcuMTQzLTQuODA4Yy01LjUyMi0zLjcxNy02LjkyNS0xMS4xOTItMy4yMTYtMTYuNzE5QzQyNC4zMjkgMTEzLjAyNSA0NTguNzk5IDkyIDQ5Ny4zMDMgOTJjNjAuODMyIDAgOTcuNzczIDM5LjU5NSA5Ny43NzMgOTAuMTY1IDAgMTA1LjkxMy0xNTYuMzAyIDEyMS43Ny0xNTkuMjkyIDIwMi4wOTl6TTIzNi4xMjEgMTI2LjA3NWgyOS4zNTR2MTE0LjIxNEg4Ni41MzRWMTI2LjA3NWgyOS4zNTRjNi42MjcgMCAxMi01LjM3MyAxMi0xMlYxMDhjMC02LjYyNy01LjM3My0xMi0xMi0xMkgyMS43MTFjLTYuNjI3IDAtMTIgNS4zNzMtMTIgMTJ2Ni4wNzVjMCA2LjYyNyA1LjM3MyAxMiAxMiAxMmgyOS4zNTR2MjU5Ljg1SDIxLjcxMWMtNi42MjcgMC0xMiA1LjM3My0xMiAxMlY0MDRjMCA2LjYyNyA1LjM3MyAxMiAxMiAxMmg5NC4xNzdjNi42MjcgMCAxMi01LjM3MyAxMi0xMnYtNi4wNzVjMC02LjYyNy01LjM3My0xMi0xMi0xMkg4Ni41MzRWMjcxLjI2MmgxNzguOTQxdjExNC42NjNoLTI5LjM1NGMtNi42MjcgMC0xMiA1LjM3My0xMiAxMlY0MDRjMCA2LjYyNyA1LjM3MyAxMiAxMiAxMmg5NC4xNzZjNi42MjcgMCAxMi01LjM3MyAxMi0xMnYtNi4wNzVjMC02LjYyNy01LjM3My0xMi0xMi0xMmgtMjkuMzU0di0yNTkuODVoMjkuMzU0YzYuNjI3IDAgMTItNS4zNzMgMTItMTJWMTA4YzAtNi42MjctNS4zNzMtMTItMTItMTJoLTk0LjE3NmMtNi42MjcgMC0xMiA1LjM3My0xMiAxMnY2LjA3NWMwIDYuNjI3IDUuMzczIDEyIDEyIDEyeiI+PC9wYXRoPjwvc3ZnPg=="},nosY:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyBhcmlhLWhpZGRlbj0idHJ1ZSIgZm9jdXNhYmxlPSJmYWxzZSIgZGF0YS1wcmVmaXg9ImZhbCIgZGF0YS1pY29uPSJzaGFyZS1hbHQiIGNsYXNzPSJzdmctaW5saW5lLS1mYSBmYS1zaGFyZS1hbHQgZmEtdy0xNCIgcm9sZT0iaW1nIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NDggNTEyIj48cGF0aCBmaWxsPSIjNTliNmU2IiBkPSJNMzUyIDMyMGMtMjguNiAwLTU0LjIgMTIuNS03MS44IDMyLjNsLTk1LjUtNTkuN2M5LjYtMjMuNCA5LjctNDkuOCAwLTczLjJsOTUuNS01OS43YzE3LjYgMTkuOCA0My4yIDMyLjMgNzEuOCAzMi4zIDUzIDAgOTYtNDMgOTYtOTZTNDA1IDAgMzUyIDBzLTk2IDQzLTk2IDk2YzAgMTMgMi42IDI1LjMgNy4yIDM2LjZsLTk1LjUgNTkuN0MxNTAuMiAxNzIuNSAxMjQuNiAxNjAgOTYgMTYwYy01MyAwLTk2IDQzLTk2IDk2czQzIDk2IDk2IDk2YzI4LjYgMCA1NC4yLTEyLjUgNzEuOC0zMi4zbDk1LjUgNTkuN2MtNC43IDExLjMtNy4yIDIzLjYtNy4yIDM2LjYgMCA1MyA0MyA5NiA5NiA5NnM5Ni00MyA5Ni05NmMtLjEtNTMtNDMuMS05Ni05Ni4xLTk2em0wLTI4OGMzNS4zIDAgNjQgMjguNyA2NCA2NHMtMjguNyA2NC02NCA2NC02NC0yOC43LTY0LTY0IDI4LjctNjQgNjQtNjR6TTk2IDMyMGMtMzUuMyAwLTY0LTI4LjctNjQtNjRzMjguNy02NCA2NC02NCA2NCAyOC43IDY0IDY0LTI4LjcgNjQtNjQgNjR6bTI1NiAxNjBjLTM1LjMgMC02NC0yOC43LTY0LTY0czI4LjctNjQgNjQtNjQgNjQgMjguNyA2NCA2NC0yOC43IDY0LTY0IDY0eiI+PC9wYXRoPjwvc3ZnPg=="},oPmM:function(t,e){},oWA8:function(t,e,a){"use strict";var s=a("woOf"),i=a.n(s),n=a("504h"),o=a.n(n),r=a("SMri"),c=a.n(r),d=a("nER5"),l=a.n(d),u={props:{options:{type:Object,required:!0},type:{type:String,default:"highcharts"},width:{type:String,default:"100%"},height:{type:String,default:"250px"},series:{type:Array,default:[]}},data:function(){return{id:"highcharts-"+(new Date).getTime(),chart:null}},watch:{options:function(){this.build()},width:function(){this.build()},height:function(){this.build()},series:function(t){this.setSeries(t)}},computed:{styles:function(){return{width:isNaN(this.width)?this.width:this.width+"%",height:isNaN(this.height)?this.height:this.height+"%"}}},methods:{build:function(){switch(this.type){case"stock":case"highstock":this.chart=l.a.chart(this.id,this.options);break;case"maps":case"highmaps":this.chart=c.a.chart(this.id,this.options);break;default:this.chart=o.a.chart(this.id,this.options)}},setSeries:function(t){this.options=i()({},this.options,{series:t})}},mounted:function(){this.build()}},p={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{style:this.styles,attrs:{id:this.id}})},staticRenderFns:[]},v=a("VU/8")(u,p,!1,null,null,null);e.a=v.exports},pXAT:function(t,e){},preG:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s,i=(s=a("hQTS")).default||s,n={render:function(){var t=this.$createElement;return(this._self._c||t)("input",this._g(this._b({ref:"input"},"input",this.$attrs,!1),this.$listeners))},staticRenderFns:[]},o=a("VU/8")(i,n,!1,null,null,null);e.default=o.exports},qnj9:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyBhcmlhLWhpZGRlbj0idHJ1ZSIgZm9jdXNhYmxlPSJmYWxzZSIgZGF0YS1wcmVmaXg9ImZhbCIgZGF0YS1pY29uPSJwbHVzLWNpcmNsZSIgY2xhc3M9InN2Zy1pbmxpbmUtLWZhIGZhLXBsdXMtY2lyY2xlIGZhLXctMTYiIHJvbGU9ImltZyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgNTEyIDUxMiI+PHBhdGggZmlsbD0iI2ZmZmZmZiIgZD0iTTM4NCAyNTB2MTJjMCA2LjYtNS40IDEyLTEyIDEyaC05OHY5OGMwIDYuNi01LjQgMTItMTIgMTJoLTEyYy02LjYgMC0xMi01LjQtMTItMTJ2LTk4aC05OGMtNi42IDAtMTItNS40LTEyLTEydi0xMmMwLTYuNiA1LjQtMTIgMTItMTJoOTh2LTk4YzAtNi42IDUuNC0xMiAxMi0xMmgxMmM2LjYgMCAxMiA1LjQgMTIgMTJ2OThoOThjNi42IDAgMTIgNS40IDEyIDEyem0xMjAgNmMwIDEzNy0xMTEgMjQ4LTI0OCAyNDhTOCAzOTMgOCAyNTYgMTE5IDggMjU2IDhzMjQ4IDExMSAyNDggMjQ4em0tMzIgMGMwLTExOS45LTk3LjMtMjE2LTIxNi0yMTYtMTE5LjkgMC0yMTYgOTcuMy0yMTYgMjE2IDAgMTE5LjkgOTcuMyAyMTYgMjE2IDIxNiAxMTkuOSAwIDIxNi05Ny4zIDIxNi0yMTZ6Ij48L3BhdGg+PC9zdmc+"},rHOH:function(t,e){},reA6:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyBhcmlhLWhpZGRlbj0idHJ1ZSIgZm9jdXNhYmxlPSJmYWxzZSIgZGF0YS1wcmVmaXg9ImZhbCIgZGF0YS1pY29uPSJicmFja2V0cyIgY2xhc3M9InN2Zy1pbmxpbmUtLWZhIGZhLWJyYWNrZXRzIGZhLXctMTQiIHJvbGU9ImltZyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgNDQ4IDUxMiI+PHBhdGggZmlsbD0iI2ZmZmZmZiIgZD0iTTEyMCAzMkg0OEE0OCA0OCAwIDAgMCAwIDgwdjM1MmE0OCA0OCAwIDAgMCA0OCA0OGg3MmE4IDggMCAwIDAgOC04di0xNmE4IDggMCAwIDAtOC04SDQ4YTE2IDE2IDAgMCAxLTE2LTE2VjgwYTE2IDE2IDAgMCAxIDE2LTE2aDcyYTggOCAwIDAgMCA4LThWNDBhOCA4IDAgMCAwLTgtOHptMjgwIDBoLTcyYTggOCAwIDAgMC04IDh2MTZhOCA4IDAgMCAwIDggOGg3MmExNiAxNiAwIDAgMSAxNiAxNnYzNTJhMTYgMTYgMCAwIDEtMTYgMTZoLTcyYTggOCAwIDAgMC04IDh2MTZhOCA4IDAgMCAwIDggOGg3MmE0OCA0OCAwIDAgMCA0OC00OFY4MGE0OCA0OCAwIDAgMC00OC00OHoiPjwvcGF0aD48L3N2Zz4="},rieE:function(t,e){},sCue:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyBhcmlhLWhpZGRlbj0idHJ1ZSIgZm9jdXNhYmxlPSJmYWxzZSIgZGF0YS1wcmVmaXg9ImZhbCIgZGF0YS1pY29uPSJmaWxlLWNoYXJ0LWxpbmUiIGNsYXNzPSJzdmctaW5saW5lLS1mYSBmYS1maWxlLWNoYXJ0LWxpbmUgZmEtdy0xMiIgcm9sZT0iaW1nIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzODQgNTEyIj48cGF0aCBmaWxsPSIjNTliNmU2IiBkPSJNMTM2IDMyMGgtMTZjLTQuNCAwLTggMy42LTggOHY5NmMwIDQuNCAzLjYgOCA4IDhoMTZjNC40IDAgOC0zLjYgOC04di05NmMwLTQuNC0zLjYtOC04LTh6bTY0LTk2aC0xNmMtNC40IDAtOCAzLjYtOCA4djE5MmMwIDQuNCAzLjYgOCA4IDhoMTZjNC40IDAgOC0zLjYgOC04VjIzMmMwLTQuNC0zLjYtOC04LTh6bTQwIDcydjEyOGMwIDQuNCAzLjYgOCA4IDhoMTZjNC40IDAgOC0zLjYgOC04VjI5NmMwLTQuNC0zLjYtOC04LThoLTE2Yy00LjQgMC04IDMuNi04IDh6TTM2OS45IDk3Ljk4TDI4Ni4wMiAxNC4xYy05LTktMjEuMi0xNC4xLTMzLjg5LTE0LjFINDcuOTlDMjEuNS4xIDAgMjEuNiAwIDQ4LjA5djQxNS45MkMwIDQ5MC41IDIxLjUgNTEyIDQ3Ljk5IDUxMmgyODguMDJjMjYuNDkgMCA0Ny45OS0yMS41IDQ3Ljk5LTQ3Ljk5VjEzMS45N2MwLTEyLjY5LTUuMS0yNC45OS0xNC4xLTMzLjk5ek0yNTYuMDMgMzIuNTljMi44LjcgNS4zIDIuMSA3LjQgNC4ybDgzLjg4IDgzLjg4YzIuMSAyLjEgMy41IDQuNiA0LjIgNy40aC05NS40OFYzMi41OXptOTUuOTggNDMxLjQyYzAgOC44LTcuMiAxNi0xNiAxNkg0Ny45OWMtOC44IDAtMTYtNy4yLTE2LTE2VjQ4LjA5YzAtOC44IDcuMi0xNi4wOSAxNi0xNi4wOWgxNzYuMDR2MTA0LjA3YzAgMTMuMyAxMC43IDIzLjkzIDI0IDIzLjkzaDEwMy45OHYzMDQuMDF6Ij48L3BhdGg+PC9zdmc+"},skSi:function(t,e){},tmk9:function(t,e){},uslO:function(t,e,a){var s={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-SG":"oYA3","./en-SG.js":"oYA3","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./ga":"U5Iz","./ga.js":"U5Iz","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it-ch":"/E8D","./it-ch.js":"/E8D","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ku":"kI9l","./ku.js":"kI9l","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function i(t){return a(n(t))}function n(t){var e=s[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}i.keys=function(){return Object.keys(s)},i.resolve=n,t.exports=i,i.id="uslO"},w882:function(t,e,a){"use strict";var s=a("5eDb"),i=a.n(s),n=(a("o5MN"),a("Abny"),a("yXOt"),a("nw5K"),a("mV4C"),a("fUAb"),a("OdVP"),a("q/hF"),a("IU9l"),a("3OjJ"),a("6YOY"),a("XjFM"),a("bfCA"),a("NBEC"),a("XUqK"),a("dH/N"),a("SlIL"),a("njYm"),a("PbEf"),a("UFS3"),a("g01R"),a("gvu3"),a("ManF"),a("/Xt6"),a("GLi4"),a("6oK/"),a("gBhd"),a("Rv7z"),a("QLMD"),a("UWKq"),a("4YQI"),a("HaK5"),a("1tuh"),a("YR2B"),a("f85y"),a("eGY0"),a("5bBJ"),a("S0tB"),a("Ux5r"),a("BT+F"),a("Q/P+"),a("c/6r"),a("loUf"),a("ctVV"),a("6pu/"),{name:"tinymce",props:{id:{type:String,required:!0},htmlClass:{default:"",type:String},value:{default:""},plugins:{default:function(){return["advlist autolink lists link image charmap print preview hr anchor pagebreak","searchreplace wordcount visualblocks visualchars code fullscreen","insertdatetime media nonbreaking save table contextmenu directionality","template paste textcolor colorpicker textpattern imagetools toc help emoticons hr codesample"]},type:Array},toolbar1:{default:"formatselect | bold italic  strikethrough  forecolor backcolor | link | alignleft aligncenter alignright alignjustify  | numlist bullist outdent indent  | removeformat",type:String},toolbar2:{default:"",type:String},other_options:{default:function(){return{}},type:Object},readonly:{default:!1,type:Boolean}},data:function(){return{content:"",editor:null,cTinyMce:null,checkerTimeout:null,isTyping:!1}},mounted:function(){this.content=this.value,this.init()},beforeDestroy:function(){this.editor.destroy()},watch:{value:function(t){this.isTyping||(null!==this.editor?this.editor.setContent(t):this.content=t)},readonly:function(t){t?this.editor.setMode("readonly"):this.editor.setMode("design")}},methods:{init:function(){var t={selector:"#"+this.id,skin:!1,toolbar1:this.toolbar1,toolbar2:this.toolbar2,plugins:this.plugins,init_instance_callback:this.initEditor};i.a.init(this.concatAssciativeArrays(t,this.other_options))},initEditor:function(t){var e=this;this.editor=t,t.on("KeyUp",function(t){e.submitNewContent()}),t.on("Change",function(t){e.editor.getContent()!==e.value&&e.submitNewContent(),e.$emit("editorChange",t)}),t.on("init",function(a){t.setContent(e.content),e.$emit("input",e.content)}),this.readonly?this.editor.setMode("readonly"):this.editor.setMode("design"),this.$emit("editorInit",t)},concatAssciativeArrays:function(t,e){if(0===e.length)return t;if(0===t.length)return e;var a=[];for(var s in t)a[s]=t[s];for(var i in e)a[i]=e[i];return a},submitNewContent:function(){var t=this;this.isTyping=!0,null!==this.checkerTimeout&&clearTimeout(this.checkerTimeout),this.checkerTimeout=setTimeout(function(){t.isTyping=!1},300),this.$emit("input",this.editor.getContent())}}}),o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("textarea",{attrs:{id:this.id}},[this._v(this._s(this.content))])])},staticRenderFns:[]};var r=a("VU/8")(n,o,!1,function(t){a("Vwb1")},"data-v-7a7628c1",null);e.a=r.exports},wPQr:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyBhcmlhLWhpZGRlbj0idHJ1ZSIgZm9jdXNhYmxlPSJmYWxzZSIgZGF0YS1wcmVmaXg9ImZhbCIgZGF0YS1pY29uPSJmb2xkZXItcGx1cyIgY2xhc3M9InN2Zy1pbmxpbmUtLWZhIGZhLWZvbGRlci1wbHVzIGZhLXctMTYiIHJvbGU9ImltZyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgNTEyIDUxMiI+PHBhdGggZmlsbD0iI2ZmZmZmZiIgZD0iTTM0NCAyNzJoLTcydi03MmMwLTQuNDItMy41OC04LTgtOGgtMTZjLTQuNDIgMC04IDMuNTgtOCA4djcyaC03MmMtNC40MiAwLTggMy41OC04IDh2MTZjMCA0LjQyIDMuNTggOCA4IDhoNzJ2NzJjMCA0LjQyIDMuNTggOCA4IDhoMTZjNC40MiAwIDgtMy41OCA4LTh2LTcyaDcyYzQuNDIgMCA4LTMuNTggOC04di0xNmMwLTQuNDItMy41OC04LTgtOHpNMTk0Ljc0IDk2bDU0LjYzIDU0LjYzYzYgNiAxNC4xNCA5LjM3IDIyLjYzIDkuMzdoMTkyYzguODQgMCAxNiA3LjE2IDE2IDE2djIyNGMwIDguODQtNy4xNiAxNi0xNiAxNkg0OGMtOC44NCAwLTE2LTcuMTYtMTYtMTZWMTEyYzAtOC44NCA3LjE2LTE2IDE2LTE2aDE0Ni43NE00OCA2NEMyMS40OSA2NCAwIDg1LjQ5IDAgMTEydjI4OGMwIDI2LjUxIDIxLjQ5IDQ4IDQ4IDQ4aDQxNmMyNi41MSAwIDQ4LTIxLjQ5IDQ4LTQ4VjE3NmMwLTI2LjUxLTIxLjQ5LTQ4LTQ4LTQ4SDI3MmwtNTQuNjMtNTQuNjNjLTYtNi0xNC4xNC05LjM3LTIyLjYzLTkuMzdINDh6Ij48L3BhdGg+PC9zdmc+"},wPWd:function(t,e,a){t.exports=a.p+"static/img/riverland-cruises-houseboats.5f73bf0.jpg"},wX6Y:function(t,e){},wnCE:function(t,e){},yJyA:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyBhcmlhLWhpZGRlbj0idHJ1ZSIgZm9jdXNhYmxlPSJmYWxzZSIgZGF0YS1wcmVmaXg9ImZhbCIgZGF0YS1pY29uPSJ0cmFzaC1hbHQiIGNsYXNzPSJzdmctaW5saW5lLS1mYSBmYS10cmFzaC1hbHQgZmEtdy0xNCIgcm9sZT0iaW1nIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NDggNTEyIj48cGF0aCBmaWxsPSIjNTk1OTU5IiBkPSJNMjk2IDQzMmgxNmE4IDggMCAwIDAgOC04VjE1MmE4IDggMCAwIDAtOC04aC0xNmE4IDggMCAwIDAtOCA4djI3MmE4IDggMCAwIDAgOCA4em0tMTYwIDBoMTZhOCA4IDAgMCAwIDgtOFYxNTJhOCA4IDAgMCAwLTgtOGgtMTZhOCA4IDAgMCAwLTggOHYyNzJhOCA4IDAgMCAwIDggOHpNNDQwIDY0SDMzNmwtMzMuNi00NC44QTQ4IDQ4IDAgMCAwIDI2NCAwaC04MGE0OCA0OCAwIDAgMC0zOC40IDE5LjJMMTEyIDY0SDhhOCA4IDAgMCAwLTggOHYxNmE4IDggMCAwIDAgOCA4aDI0djM2OGE0OCA0OCAwIDAgMCA0OCA0OGgyODhhNDggNDggMCAwIDAgNDgtNDhWOTZoMjRhOCA4IDAgMCAwIDgtOFY3MmE4IDggMCAwIDAtOC04ek0xNzEuMiAzOC40QTE2LjEgMTYuMSAwIDAgMSAxODQgMzJoODBhMTYuMSAxNi4xIDAgMCAxIDEyLjggNi40TDI5NiA2NEgxNTJ6TTM4NCA0NjRhMTYgMTYgMCAwIDEtMTYgMTZIODBhMTYgMTYgMCAwIDEtMTYtMTZWOTZoMzIwem0tMTY4LTMyaDE2YTggOCAwIDAgMCA4LThWMTUyYTggOCAwIDAgMC04LThoLTE2YTggOCAwIDAgMC04IDh2MjcyYTggOCAwIDAgMCA4IDh6Ij48L3BhdGg+PC9zdmc+"},ylEs:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyBhcmlhLWhpZGRlbj0idHJ1ZSIgZm9jdXNhYmxlPSJmYWxzZSIgZGF0YS1wcmVmaXg9ImZhciIgZGF0YS1pY29uPSJhcnJvdy1jaXJjbGUtcmlnaHQiIGNsYXNzPSJzdmctaW5saW5lLS1mYSBmYS1hcnJvdy1jaXJjbGUtcmlnaHQgZmEtdy0xNiIgcm9sZT0iaW1nIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48cGF0aCBmaWxsPSIjNTk1OTU5IiBkPSJNOCAyNTZjMCAxMzcgMTExIDI0OCAyNDggMjQ4czI0OC0xMTEgMjQ4LTI0OFMzOTMgOCAyNTYgOCA4IDExOSA4IDI1NnptNDQ4IDBjMCAxMTAuNS04OS41IDIwMC0yMDAgMjAwUzU2IDM2Ni41IDU2IDI1NiAxNDUuNSA1NiAyNTYgNTZzMjAwIDg5LjUgMjAwIDIwMHpNMjY2LjkgMTI2LjFsMTIxLjQgMTIxLjRjNC43IDQuNyA0LjcgMTIuMyAwIDE3TDI2Ni45IDM4NS45Yy00LjcgNC43LTEyLjMgNC43LTE3IDBsLTE5LjYtMTkuNmMtNC44LTQuOC00LjctMTIuNS4yLTE3LjJsNzAuMy02Ny4xSDE0MGMtNi42IDAtMTItNS40LTEyLTEydi0yOGMwLTYuNiA1LjQtMTIgMTItMTJoMTYwLjhsLTcwLjMtNjcuMWMtNC45LTQuNy01LTEyLjQtLjItMTcuMmwxOS42LTE5LjZjNC43LTQuNyAxMi4zLTQuNyAxNyAweiI+PC9wYXRoPjwvc3ZnPg=="},"zM+v":function(t,e){},zrJ9:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.2ebba6dacb03da168fcb.js.map